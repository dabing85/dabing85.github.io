{
    "version": "https://jsonfeed.org/version/1",
    "title": "null",
    "description": "æ¬¢è¿æ¥åˆ°å¤§å†°çš„ç¬”è®°ç©ºé—´~è¿™é‡Œä¸»è¦ä¼šè®°å½•ç¼–ç¨‹å­¦ä¹ ç¬”è®°ğŸŒ¸",
    "home_page_url": "https://blog.dabing.cool",
    "items": [
        {
            "id": "https://blog.dabing.cool/algorithm/%E4%BA%8C%E5%88%86%E6%B3%95/",
            "url": "https://blog.dabing.cool/algorithm/%E4%BA%8C%E5%88%86%E6%B3%95/",
            "title": "äºŒåˆ†æ³•ã€åŠ¨æ€æ•°ç»„ã€å“ˆå¸Œè¡¨-æ–°æ‰‹",
            "date_published": "2022-10-19T02:00:00.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabingğŸ§</p>\n<p>ç®—æ³•å°ç™½å¼€å§‹ç®—æ³•å­¦ä¹ äº†ï¼Œä»æœ€ç®€å•çš„å¼€å§‹ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚ç¬”è®°åŸºäºè‡ªå·±èƒ½çœ‹æ‡‚ï½ï½</p>\n<p>ç¬¬ä¸‰èŠ‚ï½æˆ‘çœŸçš„å¥½æ‡’å•Šå•Šå•Šå•ŠğŸ˜¶â€ğŸŒ«ï¸</p>\n<p>è¿™èŠ‚è¯¾åŸºæœ¬ä¸Šéƒ½æ˜¯ç¡è§‰å‰å¬å¬æœ‰äº›è®¸è¿·ç³Šï¼Œæ‰€æœ‰åé¢è¡¥çš„æ—¶å€™æ˜¯ç›´æ¥åšé¢˜çš„ï¼Œå› ä¸ºå¬éƒ½å¬è¿‡æ€è·¯äº†æ˜¯å¯ä»¥åšé¢˜ç›´æ¥åšçš„äº†ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>é¢˜ç›®ï¼š </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ°num </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ°<span class=\"token operator\">>=</span>numæœ€å·¦çš„ä½ç½® </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ°<span class=\"token operator\">&lt;=</span>numæœ€å³çš„ä½ç½® </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>å±€éƒ¨æœ€å°å€¼é—®é¢˜ </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>å“ˆå¸Œè¡¨ä½¿ç”¨çš„codeè®²è§£ </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>æœ‰åºè¡¨ä½¿ç”¨çš„codeè®²è§£</pre></td></tr></table></figure><h1 id=\"1-äºŒåˆ†æ³•æŸ¥æ‰¾\"><a class=\"markdownIt-Anchor\" href=\"#1-äºŒåˆ†æ³•æŸ¥æ‰¾\">#</a> 1. äºŒåˆ†æ³•æŸ¥æ‰¾</h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token keyword\">int</span> times<span class=\"token operator\">=</span><span class=\"token number\">10000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">int</span> maxNum<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">int</span> maxLen<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">boolean</span> succeed <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> times<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">int</span> num<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>maxNum<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token function\">randomArr</span><span class=\"token punctuation\">(</span>maxLen<span class=\"token punctuation\">,</span>maxNum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span>num<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token function\">testFind</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‡ºé”™äº†ï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                succeed <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>succeed <span class=\"token operator\">?</span> <span class=\"token string\">\"Nice!\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Fucking fucked!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">// æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ° num</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">// äºŒåˆ†æ³•</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> arr<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token operator\">||</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">L</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">R</span><span class=\"token operator\">=</span>arr<span class=\"token punctuation\">.</span>length<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">L</span> <span class=\"token operator\">&lt;=</span> <span class=\"token class-name\">R</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token keyword\">int</span> mid<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">L</span><span class=\"token operator\">+</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>                <span class=\"token class-name\">L</span><span class=\"token operator\">=</span>mid<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token operator\">></span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                <span class=\"token class-name\">R</span><span class=\"token operator\">=</span>mid<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token comment\">// å¯¹æ•°å™¨</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">randomArr</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> maxLen<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> maxNum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token keyword\">int</span> length<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxLen<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxNum<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token comment\">// æ‰“å°æ•°ç»„</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token comment\">// å¯¹æ•°</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">testFind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> cur <span class=\"token operator\">:</span> arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>cur<span class=\"token operator\">==</span>num<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"2-æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ°numæœ€å·¦çš„ä½ç½®\"><a class=\"markdownIt-Anchor\" href=\"#2-æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ°numæœ€å·¦çš„ä½ç½®\">#</a> 2. æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ° &gt;=num æœ€å·¦çš„ä½ç½®</h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>     * æœ‰åºæ•°ç»„ä¸­æ‰¾åˆ° >=num æœ€å·¦çš„ä½ç½®</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     * å¦‚æœ‰åºæ•°ç»„ [1,2,2,2,3,5,8,9,11]</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     * num=2;</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     * åˆ™ >=2 çš„æœ€å·¦ä¸‹æ ‡ä¸º 1.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">mostLeftNoLessNumIndex</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">L</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">R</span><span class=\"token operator\">=</span>arr<span class=\"token punctuation\">.</span>length<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">int</span> index<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">L</span><span class=\"token operator\">&lt;=</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token keyword\">int</span> mid<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">L</span><span class=\"token operator\">+</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token operator\">>=</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                index<span class=\"token operator\">=</span>mid<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token class-name\">R</span><span class=\"token operator\">=</span>mid<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                <span class=\"token class-name\">L</span><span class=\"token operator\">=</span>mid<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">return</span> index<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\">// éšæœºæœ‰åºæ•°ç»„</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">randomArr</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> maxLen<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> maxNum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">int</span> length<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxLen<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxNum<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">// å¯¹æ•°</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">testIndex</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">>=</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                <span class=\"token keyword\">return</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token keyword\">int</span> times<span class=\"token operator\">=</span><span class=\"token number\">50000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">int</span> maxNum<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token keyword\">int</span> maxLen<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">boolean</span> succeed <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> times<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token keyword\">int</span> num<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>maxNum<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token function\">randomArr</span><span class=\"token punctuation\">(</span>maxLen<span class=\"token punctuation\">,</span>maxNum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">mostLeftNoLessNumIndex</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span>num<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token function\">testIndex</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‡ºé”™äº†ï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>                succeed <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>succeed <span class=\"token operator\">?</span> <span class=\"token string\">\"Nice!\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Fucking fucked!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"3-å±€éƒ¨æœ€å°å€¼\"><a class=\"markdownIt-Anchor\" href=\"#3-å±€éƒ¨æœ€å°å€¼\">#</a> 3. å±€éƒ¨æœ€å°å€¼</h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * å±€éƒ¨æœ€å°å€¼é—®é¢˜</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * åºåˆ—ï¼šæ— åºï¼Œä½†ä»»æ„ç›¸é‚»çš„æ•°ä¸ç›¸ç­‰</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * å±€éƒ¨æœ€å°ï¼š</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * 1ï¼‰0 1 x x x x .....    ç¬¬ä¸€ä¸ª 0 æ˜¯å±€éƒ¨æœ€å°</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * 2) ....x x x x 8 2     æœ€åçš„ 2 æ˜¯å±€éƒ¨æœ€å°</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * 3ï¼‰...x 8 3 9 x x x     ä¸­é—´çš„ 3 æ˜¯å±€éƒ¨æœ€å°</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BSAwesome</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å±€éƒ¨æœ€å°å€¼ä¸‹æ ‡</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">oneMinIndex</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">N</span><span class=\"token operator\">=</span>arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">N</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span><span class=\"token class-name\">N</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>arr<span class=\"token punctuation\">[</span><span class=\"token class-name\">N</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">N</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">L</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">R</span><span class=\"token operator\">=</span><span class=\"token class-name\">N</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">L</span><span class=\"token operator\">&lt;</span> <span class=\"token class-name\">R</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token keyword\">int</span> mid<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">L</span><span class=\"token operator\">+</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> arr<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>                <span class=\"token keyword\">return</span> mid<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token operator\">></span>arr<span class=\"token punctuation\">[</span>mid<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token class-name\">R</span><span class=\"token operator\">=</span>mid<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>                <span class=\"token class-name\">L</span><span class=\"token operator\">=</span>mid<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">return</span>  arr<span class=\"token punctuation\">[</span><span class=\"token class-name\">L</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">[</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> <span class=\"token class-name\">L</span> <span class=\"token operator\">:</span> <span class=\"token class-name\">R</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token comment\">// éšæœºæ— åºç›¸é‚»ä¸ç­‰åºåˆ—</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">randomArr</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> maxLen<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> maxNum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token keyword\">int</span> length<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxLen<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>length<span class=\"token operator\">></span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxNum<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>length<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                <span class=\"token keyword\">do</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                    arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxNum<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token comment\">// æ‰“å°æ•°ç»„</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token comment\">// å¯¹æ•°</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> minIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>            <span class=\"token keyword\">return</span> minIndex <span class=\"token operator\">==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token keyword\">int</span> left <span class=\"token operator\">=</span> minIndex <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token keyword\">int</span> right <span class=\"token operator\">=</span> minIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token keyword\">boolean</span> leftBigger <span class=\"token operator\">=</span> left <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> arr<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> arr<span class=\"token punctuation\">[</span>minIndex<span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token keyword\">boolean</span> rightBigger <span class=\"token operator\">=</span> right <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">?</span> arr<span class=\"token punctuation\">[</span>right<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> arr<span class=\"token punctuation\">[</span>minIndex<span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token keyword\">return</span> leftBigger <span class=\"token operator\">&amp;&amp;</span> rightBigger<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token keyword\">int</span> maxLen <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token keyword\">int</span> maxValue <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token keyword\">int</span> testTime <span class=\"token operator\">=</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æµ‹è¯•å¼€å§‹\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> testTime<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr <span class=\"token operator\">=</span> <span class=\"token function\">randomArr</span><span class=\"token punctuation\">(</span>maxLen<span class=\"token punctuation\">,</span> maxValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>            <span class=\"token keyword\">int</span> ans <span class=\"token operator\">=</span> <span class=\"token function\">oneMinIndex</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> ans<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>                <span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>ans<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æµ‹è¯•ç»“æŸ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"4-æ—¶é—´å¤æ‚åº¦\"><a class=\"markdownIt-Anchor\" href=\"#4-æ—¶é—´å¤æ‚åº¦\">#</a> 4. æ—¶é—´å¤æ‚åº¦</h1>\n<p>åˆ—ä¸€äº›å¸¸è§çš„æ—¶é—´å¤æ‚åº¦ï¼Œç”±å¥½åˆ°å·®ï¼š</p>\n<p><strong>O(1)ã€O(logN)ã€O(N)ã€O(N*logN)</strong></p>\n<p><strong>O(N<sup>2)ã€O(N</sup>3)ã€O(N^k)</strong></p>\n<p><strong>O(2<sup>n)ã€O(3</sup>n)ã€O(k^n)</strong></p>\n<p><strong>O(n!)</strong></p>\n<h1 id=\"5-å“ˆå¸Œè¡¨hashmap-æœ‰åºè¡¨treemap\"><a class=\"markdownIt-Anchor\" href=\"#5-å“ˆå¸Œè¡¨hashmap-æœ‰åºè¡¨treemap\">#</a> 5. å“ˆå¸Œè¡¨ HashMapã€æœ‰åºè¡¨ TreeMap</h1>\n<p>HashMap å“ˆå¸Œè¡¨ï¼Œå¢åˆ æ”¹æŸ¥éƒ½æ˜¯å¸¸æ•°æ—¶é—´ã€‚putã€containsKeyã€remove</p>\n<p>åŸºç¡€ç±»å‹æŒ‰å†…å®¹æŸ¥ï¼ŒéåŸºç¡€ç±»å‹æŒ‰å¼•ç”¨åœ°å€æŸ¥ã€‚æ‰€ä»¥ç©ºé—´è€—æŸä¹Ÿæ˜¯å¦‚æœä½ æ˜¯åœ°å€ï¼Œé‚£åªæ˜¯å ç”¨åœ°å€ 8 å­—èŠ‚è€Œå·²ï¼Œä¸¤ä¸ªéƒ½æ˜¯åœ°å€é‚£å°±æ˜¯ 16 å­—èŠ‚ã€‚</p>\n<p>TreeMap æœ‰åºè¡¨çš„ä¸€äº›ç‰¹åˆ«æ–¹æ³•ï¼šå®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O (logN)</p>\n<p>éåŸºç¡€ç±»å‹ä¸èƒ½ç›´æ¥ç”¨æœ‰åºè¡¨ï¼Œå› ä¸º key ä¸€å®šè¦æ˜¯èƒ½æ¯”è¾ƒçš„ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ç±»é‡Œé¢æ·»åŠ ä¸Šæ¯”è¾ƒå™¨</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">TreeMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> treeMap1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TreeMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯7\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯5\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯9\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ä»–æ˜¯3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\ttreeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">firstKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//0</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">lastKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//9</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token comment\">// &lt;=5 ç¦» 5 æœ€è¿‘çš„ key å‘Šè¯‰æˆ‘</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">floorKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//5</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t<span class=\"token comment\">// &lt;=6 ç¦» 6 æœ€è¿‘çš„ key å‘Šè¯‰æˆ‘</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">floorKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//5</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t<span class=\"token comment\">// >=5 ç¦» 5 æœ€è¿‘çš„ key å‘Šè¯‰æˆ‘</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">ceilingKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//5</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token comment\">// >=6 ç¦» 6 æœ€è¿‘çš„ key å‘Šè¯‰æˆ‘</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">ceilingKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//7</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\">// éåŸºç¡€ç±»å‹ä¸èƒ½ç›´æ¥ç”¨æœ‰åºè¡¨ï¼Œå› ä¸º key ä¸€å®šè¦æ˜¯èƒ½æ¯”è¾ƒçš„ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ç±»é‡Œé¢æ·»åŠ ä¸Šæ¯”è¾ƒå™¨</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\">//\t\tNode node3 = new Node(3);</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">//\t\tNode node4 = new Node(4);</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\">//\t\tTreeMap&lt;Node, String> treeMap2 = new TreeMap&lt;>();</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\">//\t\ttreeMap2.put (node3, \"æˆ‘æ˜¯ node3\");</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token comment\">//\t\ttreeMap2.put (node4, \"æˆ‘æ˜¯ node4\");</span></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•"
            ]
        },
        {
            "id": "https://blog.dabing.cool/diary/%E6%88%90%E5%8A%9F%E6%97%A5%E8%AE%B0/",
            "url": "https://blog.dabing.cool/diary/%E6%88%90%E5%8A%9F%E6%97%A5%E8%AE%B0/",
            "title": "æˆåŠŸæ—¥è®°",
            "date_published": "2022-09-19T16:00:00.000Z",
            "content_html": "<p>æˆåŠŸæ—¥è®°ï¼Œå°±æ˜¯ä¸€ç‚¹å°å°çš„äº‹éƒ½è®°ä¸‹æ¥è¡¨æ‰¬ä¸€ä¸‹è‡ªå·±å“ˆå“ˆå“ˆå“ˆå“ˆï¼Œé‚£å°±æ˜¯æˆåŠŸäº†ï½ï½ï½ğŸ‘§</p>\n<h3 id=\"1-2022-10-19-å‘¨ä¸‰-ï¸\"><a class=\"markdownIt-Anchor\" href=\"#1-2022-10-19-å‘¨ä¸‰-ï¸\">#</a> 1. 2022-10-19  å‘¨ä¸‰  ğŸŒ¥ï¸</h3>\n<ol>\n<li>\n<p>ä»Šå¤©è¿åŠ¨å•¦ï½ï½ğŸ¸ï¼ˆå› ä¸ºéš”ç¦»åœ¨å®¶ï¼Œé—·å¾—è¦æ­»å»è¹­çš„åˆ«äººçš„ç¾½æ¯›çƒæ‹å’Œè·³ç»³å“ˆå“ˆå“ˆè¿åŠ¨äº†ä¸€ä¸‹å¾ˆèˆ’æœï¼‰</p>\n<p>åˆæ˜¯ç¤¾ç‰›çš„ä¸€å¤©</p>\n</li>\n</ol>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221019203140896.png\" alt=\"image-20221019203140896\"></p>\n<h3 id=\"2-2022-10-19-å‘¨å››-ï¸\"><a class=\"markdownIt-Anchor\" href=\"#2-2022-10-19-å‘¨å››-ï¸\">#</a> 2. 2022-10-19  å‘¨å››  ğŸŒ¥ï¸</h3>\n<ol>\n<li>\n<p>ä»Šå¤©è¿åŠ¨äº†ğŸª¢è·³ç»³ 1000 å¤šä¸ª</p>\n</li>\n<li>\n<p>ä»Šå¤©å¥½å¥½æå«ç”Ÿäº†</p>\n</li>\n<li>\n<p>ä»Šå¤©çš„åšçš„é¥­å¾ˆå¥½åƒ</p>\n</li>\n</ol>\n",
            "tags": [
                "æˆåŠŸæ—¥è®°"
            ]
        },
        {
            "id": "https://blog.dabing.cool/diary/%E8%A1%A5%E7%89%99%E6%97%A5%E8%AE%B0/",
            "url": "https://blog.dabing.cool/diary/%E8%A1%A5%E7%89%99%E6%97%A5%E8%AE%B0/",
            "title": "è¡¥ç‰™æ—¥è®°",
            "date_published": "2022-09-19T16:00:00.000Z",
            "content_html": "<p>æ—¥è®°â€¦ å£æ°´è¯</p>\n<p>2022-09-20 å‘¨äºŒ  â›…   éƒ‘å·ğŸ“</p>\n<p>å‘¨æ—¥å»è¡¥ç‰™äº†ï¼Œæœ¬æ¥æ˜¯å»æ´—ç‰™çš„ã€‚</p>\n<p>ç»“æœå»äº†åŒ»ç”Ÿä¸€çœ‹æˆ‘ç‰™é½¿ï¼Œå°±è¯´ï¼Œä½ è¿™ç‰™ä¸ç–¼ä¹ˆï¼ŸğŸ¦·</p>\n<p>æˆ‘è¯´ä¸ç–¼ï¼Œæˆ‘æœ‰ä¸¤ä¸ªå¤§ç‰™æ˜¯åˆä¸­çš„æ—¶å€™ç–¼æ­»äº†ï¼Œä¸€ç›´åˆ°ç°åœ¨éƒ½æ²¡ç–¼è¿‡äº†ã€‚æ‰€ä»¥å¦‚æœä¸æ˜¯è¿™æ¬¡å»æ´—ç‰™ï¼Œæˆ‘ä¹Ÿä¸ä¼šå»ç®¡æˆ‘çš„ç‰™é½¿ã€‚</p>\n<p>æ‹ç‰‡æ£€æŸ¥ï¼Œæ´ç‰™ï¼Œç»“æœæ˜¯æœ‰ä¸¤é¢—å¤§ç‰™éœ€è¦ç§ç‰™ï¼ˆä½†æ˜¯æˆ‘æ²¡é’±å“ˆå“ˆå“ˆå“ˆï¼‰ï¼Œæœ‰ 15 ä¸ªç‰™åŸºæœ¬éƒ½æ˜¯æµ…é¾‹ï¼Œå°±ç›´æ¥è¡¥äº†ã€‚æ²¡æœ‰æ™ºé½¿ã€‚ï¼ˆ28 é¢—ç‰™ï¼‰</p>\n<p>è¡¥äº†ä¸¤é¢— p60 çš„ï¼Œ399 ä¸€é¢—ã€‚è¯´ç¡¬åº¦é«˜ç‚¹æ”¾åœ¨å¤§ç‰™çš„ä½ç½®ï¼Œå…¶ä»– 13 é¢—éƒ½æ˜¯è¡¥çš„ z350 çš„ï¼Œ199 ä¸€é¢—ã€‚</p>\n<p>æˆ‘å¬åŒ»ç”Ÿè¯´çš„æ˜¯è¡¥ç‰™å¾ˆå¿«ï¼Œ40 åˆ†é’Ÿå·¦å³å°±è¡Œï¼ŒåŸæ¥ä»–è¯´æ˜¯ä¸€é¢—ï¼Œæˆ‘è¡¥äº† 15 é¢—ç‰™ï¼Œè¡¥äº†å››äº”å°æ—¶ã€‚</p>\n<p>å¯¹ç‰™é½¿çš„å¸¸è¯†å‡ ä¹æ²¡æœ‰ï¼Œæˆ‘éƒ½ä¸çŸ¥é“è‡ªå·±ä¸€å£åç‰™ã€‚å› ä¸ºä¸ç–¼æˆ‘å°±ä¸ç®¡ä»–ï¼Œç–¼æˆ‘å°±å¿ç€å°±è¿‡å»äº†ã€‚å¹³æ—¶è‡ªå·±èº«ä½“æœ‰ä»€ä¹ˆæ¯›ç—…ä¹Ÿä¸å»çœ‹ã€‚</p>\n<p>è¡¥å®Œä¹‹åï¼Œå½“å¤©å’Œç¬¬äºŒå¤©å‰ç£¨ç‰™ï¼Œæ¯”è¾ƒæ·±çš„é‚£å‡ é¢—æœ‰äº›é…¸è½¯æ— åŠ›ï¼Œåƒä¸äº†ç¡¬ä¸œè¥¿ï¼ŒåŒ»ç”Ÿè®©æˆ‘å†è§‚å¯Ÿè§‚å¯Ÿã€‚</p>\n<p>å°±æ˜¯å¦‚æœæ²¡æœ‰å¥½è½¬ï¼Œå°±æ˜¯è¦è¿›è¡Œä¸‹ä¸€æ­¥æ²»ç–—äº†ã€‚ä¸‹ä¸€æ­¥ä¸å°±æ˜¯æ ¹ç®¡æ²»ç–—äº†ã€‚æˆ‘çœ‹çŸ¥ä¹ä¸Šè¯´æ ¹ç®¡æ²»ç–—å¯ç–¼äº†ï¼Œæƒ³è±¡ä¸€ä¸‹æœ‰æ ¹ç»†é’»å…·åœ¨ä½ ç‰™é½¿é‡Œé’»ï¼Œå¤šå“äººã€‚</p>\n<p>æˆ‘è¦å¥½å¥½çˆ±æŠ¤æˆ‘çš„ç‰™é½¿ã€‚ç°åœ¨æˆ‘çš„ç‰™é½¿éƒ½æ˜¯æ²¡æœ‰é»‘çš„äº†å˜»å˜»ï¼Œå¥½çœ‹å¤šäº†ã€‚ğŸ¦·</p>\n<p>å¥½å¥½åˆ·ç‰™ğŸª¥ï¼Œé¥­åæ¼±å£ã€‚è¿˜æœ‰å‘¢ï¼Ÿã€‚ã€‚ã€‚ã€‚ã€‚</p>\n<p><strong>æ´ç‰™åæ³¨æ„äº‹é¡¹</strong>ï¼š1ã€è¿‘ 1 å‘¨å†…é¿å…å†·çƒ­é…¸åˆºæ¿€ï¼Œæ¸©æ°´åˆ·ç‰™ï¼›ğŸª¥<br>\n2ã€è¿‘ 1 å‘¨å°½é‡å‡å°‘å’–å•¡ã€èŒ¶ã€å¯ä¹ã€é…±æ²¹ç­‰å«è‰²ç´ é£Ÿç‰©æ‘„å…¥ï¼›<br>\n3ã€åŠ å¼ºå£è…”å«ç”Ÿç»´æŠ¤ï¼Œé‡‡ç”¨ä¸Šä¸‹æ‹‚åˆ·æ–¹å¼åˆ·ç‰™ï¼ˆè¯¦è§å·´æ°åˆ·ç‰™æ³•ï¼‰ï¼›<br>\n4ã€å®šæœŸæ£€æŸ¥ã€æ´æ²»ï¼ˆåŠå¹´æˆ– 1 å¹´ï¼‰ã€‚</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220920125431772.png\" alt=\"image-20220920125431772\"></p>\n<p>-----20220923 æ›´æ–°  å‘¨äº” -----</p>\n<p>ä¸Šå‘¨æ—¥è¡¥çš„ç‰™ï¼Œåˆ°ç°åœ¨æœ‰ 5 å¤©äº†ï¼Œåƒä¸œè¥¿è¿˜æ˜¯ä¼šé…¸ç–¼ï¼Œä½†æ˜¯æˆ‘çœ‹å¾ˆå¤šäººéƒ½æœ‰åŒæ ·çš„ç°è±¡ï¼Œæœ‰äº›çš„ä¸¤ä¸ªå¤šæœˆæ‰å¥½çš„ï¼Œæˆ‘å°±ä¸æ…Œäº†ï¼Œå†è§‚å¯Ÿè§‚å¯Ÿã€‚ä¸æƒ³åšæ ¹ç®¡æ²»ç–—ã€‚</p>\n<p>-----20221019 æ›´æ–°  å‘¨ä¸‰ ------</p>\n<p>ç°åœ¨å·²ç»å¿«ä¸€ä¸ªæœˆäº†ï¼Œç‰™é½¿æ˜¯å°†è¿‘ä¸¤ä¸ªæ˜ŸæœŸçš„æ—¶å€™ä¸ä¼šé…¸ç—›äº†ã€‚</p>\n<p>ä½†æ˜¯ç°åœ¨å¼€å§‹å†·çƒ­æ•æ„Ÿäº†ï¼Œæˆ‘è®¤ä¸ºæˆ‘éœ€è¦å›å»å¤æŸ¥ä¸€ä¸‹æ‰è¡Œã€‚ä½†ç°åœ¨éƒ‘å·ç–«æƒ…è›®ä¸¥é‡çš„ä¸èƒ½å‡ºé—¨ï¼Œå¾—ç­‰è§£å°äº†å†å»æ£€æŸ¥å§ã€‚</p>\n<p>å»æ£€æŸ¥çš„è¯ä¼°è®¡å°±æ˜¯è®©æˆ‘è®©æˆ‘åšæ ¹ç®¡æ²»ç–—å•Šï¼Œå¦ˆå‘€é…·åˆ‘å•Šæˆ‘ä¸åšï¼ï¼ï¼ï¼</p>\n",
            "tags": [
                "è¡¥ç‰™"
            ]
        },
        {
            "id": "https://blog.dabing.cool/javamore/RabbitMQ/RabbitMQ-%E7%AE%80%E5%8D%95%E6%96%B9%E5%BC%8F/",
            "url": "https://blog.dabing.cool/javamore/RabbitMQ/RabbitMQ-%E7%AE%80%E5%8D%95%E6%96%B9%E5%BC%8F/",
            "title": "RabbitMQå…¥é—¨ï¼ˆèŠå¤©å®¤ï¼‰-ç®€å•æ¨¡å¼",
            "date_published": "2022-09-09T16:00:00.000Z",
            "content_html": "<h1 id=\"rabbitmqå…¥é—¨\"><a class=\"markdownIt-Anchor\" href=\"#rabbitmqå…¥é—¨\">#</a> RabbitMQ å…¥é—¨</h1>\n<p>å®˜ç½‘ï¼š <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucmFiYml0bXEuY29tLw==\">https://www.rabbitmq.com/</span></p>\n<p>Java ç®€å•æ¨¡å¼æ–‡æ¡£å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucmFiYml0bXEuY29tL3R1dG9yaWFscy90dXRvcmlhbC1vbmUtamF2YS5odG1s\">https://www.rabbitmq.com/tutorials/tutorial-one-java.html</span></p>\n<p>éœ€æ±‚ï¼šä½¿ç”¨ç®€å•æ¨¡å¼å®Œæˆæ¶ˆæ¯ä¼ é€’</p>\n<p>æ­¥éª¤ï¼š</p>\n<p>â‘  åˆ›å»ºå·¥ç¨‹ï¼ˆç”Ÿæˆè€…ã€æ¶ˆè´¹è€…ï¼‰</p>\n<p>â‘¡ åˆ†åˆ«æ·»åŠ ä¾èµ–</p>\n<p>â‘¢ ç¼–å†™ç”Ÿäº§è€…å‘é€æ¶ˆæ¯</p>\n<p>â‘£ ç¼–å†™æ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯</p>\n<h2 id=\"1-æ­å»ºç¤ºä¾‹å·¥ç¨‹\"><a class=\"markdownIt-Anchor\" href=\"#1-æ­å»ºç¤ºä¾‹å·¥ç¨‹\">#</a> 1. æ­å»ºç¤ºä¾‹å·¥ç¨‹</h2>\n<h3 id=\"11-åˆ›å»ºå·¥ç¨‹\"><a class=\"markdownIt-Anchor\" href=\"#11-åˆ›å»ºå·¥ç¨‹\">#</a> 1.1. åˆ›å»ºå·¥ç¨‹</h3>\n<p>åˆ›å»ºé¡¹ç›®ï¼š <code>rabbitmq-producer</code></p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220902094203897.png\" alt=\"image-20220902094203897\"></p>\n<p>åˆ›å»ºé¡¹ç›®ï¼š <code>rabbitmq-consumer</code></p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220902094209384.png\" alt=\"image-20220902094209384\"></p>\n<h3 id=\"12-æ·»åŠ ä¾èµ–\"><a class=\"markdownIt-Anchor\" href=\"#12-æ·»åŠ ä¾èµ–\">#</a> 1.2. æ·»åŠ ä¾èµ–</h3>\n<p>å¾€ä¸¤ä¸ª rabbitmq çš„ pom.xml æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>com.rabbitmq<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>amqp-client<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>5.6.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre> </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-compiler-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>3.8.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>source</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>target</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>target</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h2 id=\"2-ç¼–å†™ç”Ÿäº§è€…\"><a class=\"markdownIt-Anchor\" href=\"#2-ç¼–å†™ç”Ÿäº§è€…\">#</a> 2. ç¼–å†™ç”Ÿäº§è€…</h2>\n<p>ç¼–å†™æ¶ˆæ¯ç”Ÿäº§è€…  <code>com.atguigu.rabbitmq.simple.Producer</code></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>atguigu<span class=\"token punctuation\">.</span>rabbitmq<span class=\"token punctuation\">.</span>simple</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>rabbitmq<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Channel</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>rabbitmq<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Connection</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>rabbitmq<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ConnectionFactory</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Producer</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre> </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºè¿æ¥å·¥å‚</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">ConnectionFactory</span> connectionFactory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConnectionFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// ä¸»æœºåœ°å€</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        connectionFactory<span class=\"token punctuation\">.</span><span class=\"token function\">setHost</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"192.168.6.100\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// è¿æ¥ç«¯å£ï¼›é»˜è®¤ä¸º 5672</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        connectionFactory<span class=\"token punctuation\">.</span><span class=\"token function\">setPort</span><span class=\"token punctuation\">(</span><span class=\"token number\">5672</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// è™šæ‹Ÿä¸»æœºåç§°ï¼›é»˜è®¤ä¸º /</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        connectionFactory<span class=\"token punctuation\">.</span><span class=\"token function\">setVirtualHost</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">// è¿æ¥ç”¨æˆ·åï¼›é»˜è®¤ä¸º guest</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        connectionFactory<span class=\"token punctuation\">.</span><span class=\"token function\">setUsername</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"admin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// è¿æ¥å¯†ç ï¼›é»˜è®¤ä¸º guest</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        connectionFactory<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre> </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºè¿æ¥</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">Connection</span> connection <span class=\"token operator\">=</span> connectionFactory<span class=\"token punctuation\">.</span><span class=\"token function\">newConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre> </pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºé¢‘é“</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span><span class=\"token function\">createChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre> </pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// å£°æ˜ï¼ˆåˆ›å»ºï¼‰é˜Ÿåˆ—</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>         * queue      å‚æ•° 1ï¼šé˜Ÿåˆ—åç§°</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>         * durable    å‚æ•° 2ï¼šæ˜¯å¦å®šä¹‰æŒä¹…åŒ–é˜Ÿåˆ—ï¼Œå½“ mq é‡å¯ä¹‹åï¼Œè¿˜åœ¨</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>         * exclusive  å‚æ•° 3ï¼šæ˜¯å¦ç‹¬å æœ¬æ¬¡è¿æ¥</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         *            â‘  æ˜¯å¦ç‹¬å ï¼Œåªèƒ½æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ç›‘å¬è¿™ä¸ªé˜Ÿåˆ—</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>         *            â‘¡ å½“ connection å…³é—­æ—¶ï¼Œæ˜¯å¦åˆ é™¤é˜Ÿåˆ—</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>         * autoDelete å‚æ•° 4ï¼šæ˜¯å¦åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ—ï¼Œå½“æ²¡æœ‰ consumer æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>         * arguments  å‚æ•° 5ï¼šé˜Ÿåˆ—å…¶å®ƒå‚æ•°</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        channel<span class=\"token punctuation\">.</span><span class=\"token function\">queueDeclare</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"simple_queue\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre> </pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token comment\">// è¦å‘é€çš„ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">String</span> message <span class=\"token operator\">=</span> <span class=\"token string\">\"ä½ å¥½ï¼›å°å…”å­ï¼\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>         * å‚æ•° 1ï¼šäº¤æ¢æœºåç§°ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šåˆ™ä½¿ç”¨é»˜è®¤ Default Exchage</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>         * å‚æ•° 2ï¼šè·¯ç”± key, ç®€å•æ¨¡å¼å¯ä»¥ä¼ é€’é˜Ÿåˆ—åç§°</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>         * å‚æ•° 3ï¼šé…ç½®ä¿¡æ¯</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>         * å‚æ•° 4ï¼šæ¶ˆæ¯å†…å®¹</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicPublish</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"simple_queue\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">.</span><span class=\"token function\">getBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·²å‘é€æ¶ˆæ¯ï¼š\"</span> <span class=\"token operator\">+</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre> </pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">// å…³é—­èµ„æº</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        channel<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        connection<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºï¼š<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguNi4xMDA6MTU2NzI=\">http://192.168.6.100:15672</span> <code> </code></p>\n<p>åœ¨æ‰§è¡Œä¸Šè¿°çš„æ¶ˆæ¯å‘é€ä¹‹åï¼›å¯ä»¥ç™»å½• rabbitMQ çš„ç®¡ç†æ§åˆ¶å°ï¼Œå¯ä»¥å‘ç°é˜Ÿåˆ—å’Œå…¶æ¶ˆæ¯ï¼š <img data-src=\"http://image.dabing.cool/image/image-20220902094308205.png\" alt=\"image-20220902094308205\"></p>\n<h2 id=\"3-ç¼–å†™æ¶ˆè´¹è€…\"><a class=\"markdownIt-Anchor\" href=\"#3-ç¼–å†™æ¶ˆè´¹è€…\">#</a> 3. ç¼–å†™æ¶ˆè´¹è€…</h2>\n<p>ç¼–å†™æ¶ˆæ¯çš„æ¶ˆè´¹è€…  <code>com.atguigu.rabbitmq.simple.Consumer</code></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>atguigu<span class=\"token punctuation\">.</span>rabbitmq<span class=\"token punctuation\">.</span>simple</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>rabbitmq<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TimeoutException</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Consumer</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre> </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">//1. åˆ›å»ºè¿æ¥å·¥å‚</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">ConnectionFactory</span> factory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConnectionFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">//2. è®¾ç½®å‚æ•°</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        factory<span class=\"token punctuation\">.</span><span class=\"token function\">setHost</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"192.168.6.100\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//ip</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        factory<span class=\"token punctuation\">.</span><span class=\"token function\">setPort</span><span class=\"token punctuation\">(</span><span class=\"token number\">5672</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç«¯å£  é»˜è®¤å€¼ 5672</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        factory<span class=\"token punctuation\">.</span><span class=\"token function\">setVirtualHost</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// è™šæ‹Ÿæœº é»˜è®¤å€¼ /</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        factory<span class=\"token punctuation\">.</span><span class=\"token function\">setUsername</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"admin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// ç”¨æˆ·å</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        factory<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// å¯†ç </span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">//3. åˆ›å»ºè¿æ¥ Connection</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">Connection</span> connection <span class=\"token operator\">=</span> factory<span class=\"token punctuation\">.</span><span class=\"token function\">newConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">//4. åˆ›å»º Channel</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span><span class=\"token function\">createChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">//5. åˆ›å»ºé˜Ÿåˆ— Queue</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        queueDeclare (String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object> arguments)</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        å‚æ•°ï¼š</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            1. queueï¼šé˜Ÿåˆ—åç§°</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            2. durableï¼šæ˜¯å¦æŒä¹…åŒ–ï¼Œå½“ mq é‡å¯ä¹‹åï¼Œè¿˜åœ¨</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            3. exclusiveï¼š</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                * æ˜¯å¦ç‹¬å ã€‚åªèƒ½æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ç›‘å¬è¿™é˜Ÿåˆ—</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                * å½“ Connection å…³é—­æ—¶ï¼Œæ˜¯å¦åˆ é™¤é˜Ÿåˆ—</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            4. autoDeleteï¼šæ˜¯å¦è‡ªåŠ¨åˆ é™¤ã€‚å½“æ²¡æœ‰ Consumer æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤æ‰</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            5. argumentsï¼šå‚æ•°ã€‚</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">// å¦‚æœæ²¡æœ‰ä¸€ä¸ªåå­—å« simple_queue çš„é˜Ÿåˆ—ï¼Œåˆ™ä¼šåˆ›å»ºè¯¥é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰åˆ™ä¸ä¼šåˆ›å»º</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        channel<span class=\"token punctuation\">.</span><span class=\"token function\">queueDeclare</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"simple_queue\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre> </pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">// æ¥æ”¶æ¶ˆæ¯</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">DefaultConsumer</span> consumer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultConsumer</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>               å›è°ƒæ–¹æ³•ï¼Œå½“æ”¶åˆ°æ¶ˆæ¯åï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥æ–¹æ³•</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>               1. consumerTagï¼šæ ‡è¯†</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>               2. envelopeï¼šè·å–ä¸€äº›ä¿¡æ¯ï¼Œäº¤æ¢æœºï¼Œè·¯ç”± key...</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>               3. propertiesï¼šé…ç½®ä¿¡æ¯</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>               4. bodyï¼šæ•°æ®</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            */</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">handleDelivery</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> consumerTag<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Envelope</span> envelope<span class=\"token punctuation\">,</span> <span class=\"token class-name\">AMQP<span class=\"token punctuation\">.</span>BasicProperties</span> properties<span class=\"token punctuation\">,</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> body<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"consumerTagï¼š\"</span><span class=\"token operator\">+</span>consumerTag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Exchangeï¼š\"</span><span class=\"token operator\">+</span>envelope<span class=\"token punctuation\">.</span><span class=\"token function\">getExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"RoutingKeyï¼š\"</span><span class=\"token operator\">+</span>envelope<span class=\"token punctuation\">.</span><span class=\"token function\">getRoutingKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"propertiesï¼š\"</span><span class=\"token operator\">+</span>properties<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bodyï¼š\"</span><span class=\"token operator\">+</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        basicConsume (String queue, boolean autoAck, Consumer callback)</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        å‚æ•°ï¼š</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            1. queueï¼šé˜Ÿåˆ—åç§°</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            2. autoAckï¼šæ˜¯å¦è‡ªåŠ¨ç¡®è®¤ï¼Œç±»ä¼¼å’±ä»¬å‘çŸ­ä¿¡ï¼Œå‘é€æˆåŠŸä¼šæ”¶åˆ°ä¸€ä¸ªç¡®è®¤æ¶ˆæ¯</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            3. callbackï¼šå›è°ƒå¯¹è±¡</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token comment\">// æ¶ˆè´¹è€…ç±»ä¼¼ä¸€ä¸ªç›‘å¬ç¨‹åºï¼Œä¸»è¦æ˜¯ç”¨æ¥ç›‘å¬æ¶ˆæ¯</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicConsume</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"simple_queue\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>consumer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åº</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220917235627876.png\" alt=\"image-20220917235627876\"></p>\n<h2 id=\"4-å°ç»“\"><a class=\"markdownIt-Anchor\" href=\"#4-å°ç»“\">#</a> 4. å°ç»“</h2>\n<p>ä¸Šè¿°çš„å…¥é—¨æ¡ˆä¾‹ä¸­ä¸­å…¶å®ä½¿ç”¨çš„æ˜¯å¦‚ä¸‹çš„ç®€å•æ¨¡å¼ï¼š</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220917235608323.png\" alt=\"image-20220917235608323\"></p>\n<p>åœ¨ä¸Šå›¾çš„æ¨¡å‹ä¸­ï¼Œæœ‰ä»¥ä¸‹æ¦‚å¿µï¼š</p>\n<ul>\n<li>Pï¼šç”Ÿäº§è€…ï¼Œä¹Ÿå°±æ˜¯è¦å‘é€æ¶ˆæ¯çš„ç¨‹åº</li>\n<li>Cï¼šæ¶ˆè´¹è€…ï¼šæ¶ˆæ¯çš„æ¥å—è€…ï¼Œä¼šä¸€ç›´ç­‰å¾…æ¶ˆæ¯åˆ°æ¥ã€‚</li>\n<li>queueï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå›¾ä¸­çº¢è‰²éƒ¨åˆ†ã€‚ç±»ä¼¼ä¸€ä¸ªé‚®ç®±ï¼Œå¯ä»¥ç¼“å­˜æ¶ˆæ¯ï¼›ç”Ÿäº§è€…å‘å…¶ä¸­æŠ•é€’æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…ä»å…¶ä¸­å–å‡ºæ¶ˆæ¯ã€‚</li>\n</ul>\n<h1 id=\"ç®€æ˜“èŠå¤©å®¤\"><a class=\"markdownIt-Anchor\" href=\"#ç®€æ˜“èŠå¤©å®¤\">#</a> ç®€æ˜“èŠå¤©å®¤</h1>\n<p><strong>æ•ˆæœï¼š</strong></p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220917235819321.png\" alt=\"image-20220917235819321\"></p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220917235835334.png\" alt=\"image-20220917235835334\"></p>\n<p>å› ä¸ºåˆ›å»ºè¿æ¥éƒ¨åˆ†æ˜¯å…¬å…±éƒ¨åˆ†ï¼Œå°±ä¸é‡å¤å†™äº†ï¼Œå¯ä»¥å†™ä¸€ä¸ªå·¥å…·ç±»ã€‚</p>\n<p>main æ–¹æ³•ä¹Ÿå·®ä¸å¤šï¼Œåªä¸è¿‡æ”¹æ”¹é˜Ÿåˆ—åè€Œå·²ã€‚ä¹Ÿæ˜¯çå†™çš„ï¼Œåæ­£å®ç°äº†åŠŸèƒ½ï¼Œå¦‚æœæœ‰ä»€ä¹ˆä¸å¯¹çš„æœ›æŒ‡ç‚¹ã€‚</p>\n<p><strong>èŠå¤©è€… 1ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> worker1 <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">DABING_QUEUE</span><span class=\"token operator\">=</span><span class=\"token string\">\"dabing\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">CZH_QUEUE</span><span class=\"token operator\">=</span><span class=\"token string\">\"czh\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TimeoutException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// ç”Ÿäº§è€…</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> <span class=\"token class-name\">ConnUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        channel<span class=\"token punctuation\">.</span><span class=\"token function\">queueDeclare</span><span class=\"token punctuation\">(</span><span class=\"token constant\">DABING_QUEUE</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token class-name\">DefaultConsumer</span> consumer<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultConsumer</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">handleDelivery</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> consumerTag<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Envelope</span> envelope<span class=\"token punctuation\">,</span> <span class=\"token class-name\">AMQP<span class=\"token punctuation\">.</span>BasicProperties</span> properties<span class=\"token punctuation\">,</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> body<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¯·åœ¨æ§åˆ¶å°è¾“å…¥ä¿¡æ¯ï¼Œå›è½¦ç¡®è®¤!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">Scanner</span> scanner <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">do</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicConsume</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CZH_QUEUE</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> consumer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token class-name\">String</span> message<span class=\"token operator\">=</span><span class=\"token string\">\"å°å†°å†° : \"</span><span class=\"token operator\">+</span>scanner<span class=\"token punctuation\">.</span><span class=\"token function\">nextLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicPublish</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><span class=\"token constant\">DABING_QUEUE</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>scanner<span class=\"token punctuation\">.</span><span class=\"token function\">hasNextLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¶ˆæ¯å‘é€å®Œæ¯•ï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>èŠå¤©è€… 2ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> worker2 <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">DABING_QUEUE</span><span class=\"token operator\">=</span><span class=\"token string\">\"dabing\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">CZH_QUEUE</span><span class=\"token operator\">=</span><span class=\"token string\">\"czh\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TimeoutException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// ç”Ÿäº§è€…</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">Channel</span> channel <span class=\"token operator\">=</span> <span class=\"token class-name\">ConnUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        channel<span class=\"token punctuation\">.</span><span class=\"token function\">queueDeclare</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CZH_QUEUE</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token class-name\">DefaultConsumer</span> consumer<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultConsumer</span><span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">handleDelivery</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> consumerTag<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Envelope</span> envelope<span class=\"token punctuation\">,</span> <span class=\"token class-name\">AMQP<span class=\"token punctuation\">.</span>BasicProperties</span> properties<span class=\"token punctuation\">,</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> body<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¯·åœ¨æ§åˆ¶å°è¾“å…¥ä¿¡æ¯ï¼Œå›è½¦ç¡®è®¤!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">Scanner</span> scanner <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">do</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicConsume</span><span class=\"token punctuation\">(</span><span class=\"token constant\">DABING_QUEUE</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> consumer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token class-name\">String</span> message<span class=\"token operator\">=</span><span class=\"token string\">\"å°è¾‰è¾‰ : \"</span><span class=\"token operator\">+</span>scanner<span class=\"token punctuation\">.</span><span class=\"token function\">nextLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicPublish</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><span class=\"token constant\">CZH_QUEUE</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>scanner<span class=\"token punctuation\">.</span><span class=\"token function\">hasNextLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¶ˆæ¯å‘é€å®Œæ¯•ï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "RabbitMQ"
            ]
        },
        {
            "id": "https://blog.dabing.cool/algorithm/%E9%9A%8F%E6%9C%BA%E5%87%BD%E6%95%B0/",
            "url": "https://blog.dabing.cool/algorithm/%E9%9A%8F%E6%9C%BA%E5%87%BD%E6%95%B0/",
            "title": "éšæœºå‡½æ•°-æ–°æ‰‹",
            "date_published": "2022-09-06T02:00:00.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabing</p>\n<p>æ–°æ‰‹ç¬¬äºŒè¯¾ï½ æ¯”è¾ƒç®€å•</p>\n<p>ä¹‹åä¼šä¸Šä¼ åˆ° github æˆ–è€…ç äº‘ä¸Šï¼Œå†è¯´å§ã€‚</p>\n<p><strong>éšæœºå‡½æ•°</strong>ï¼š[0,1) ä¹‹é—´çš„æ•°ç­‰æ¦‚ç‡éšæœº</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Math<span class=\"token punctuation\">.</span>Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"1-æµ‹è¯•éšæœºå‡½æ•°æ˜¯ç­‰æ¦‚ç‡\"><a class=\"markdownIt-Anchor\" href=\"#1-æµ‹è¯•éšæœºå‡½æ•°æ˜¯ç­‰æ¦‚ç‡\">#</a> 1- æµ‹è¯•éšæœºå‡½æ•°æ˜¯ç­‰æ¦‚ç‡</h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>     * æµ‹è¯• Math.random () æ˜¯å¦ç­‰æ¦‚ç‡</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     * è¿™é‡Œæµ‹è¯• 0.5</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testP</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">int</span> testTimes<span class=\"token operator\">=</span><span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// æ‰§è¡Œ 100 ä¸‡æ¬¡</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">int</span> count<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">double</span> p<span class=\"token operator\">=</span><span class=\"token number\">0d</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> testTimes<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">double</span> ans<span class=\"token operator\">=</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>ans<span class=\"token operator\">&lt;</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        p<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">)</span>count<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">)</span>testTimes<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//0.4999083    å³ & lt;0.5 çš„æ¦‚ç‡ï¼Œè¿™é‡Œçº¦ç­‰äº 0.5 è¯´æ˜æ˜¯ç­‰æ¦‚ç‡çš„ã€‚</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"2-ç”±randomåˆ°å…¶ä»–éšæœºæ•°\"><a class=\"markdownIt-Anchor\" href=\"#2-ç”±randomåˆ°å…¶ä»–éšæœºæ•°\">#</a> 2 - ç”± random åˆ°å…¶ä»–éšæœºæ•°</h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ç­‰æ¦‚ç‡è¿”å› [0,8) éšæœºæ•°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">8</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// ç­‰æ¦‚ç‡è¿”å› [0,8) éšæœºæ•´æ•°ï¼Œå³ [0,7]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// ç­‰æ¦‚ç‡è¿”å› [1ï¼Œ5] æ•´æ•°éšæœº</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr></table></figure><h1 id=\"3-ç”±15åˆ°17\"><a class=\"markdownIt-Anchor\" href=\"#3-ç”±15åˆ°17\">#</a> 3 - ç”± [1,5] åˆ° [1,7]</h1>\n<p>åªç»™ä½ ä¸€ä¸ª <code>f()</code>  å‡½æ•°ï¼Œ <code>f()</code>  è¡¨ç¤ºç­‰æ¦‚ç‡è¿”å› <code>[1,5]</code>  çš„éšæœºæ•´æ•°ï¼Œè®©ä½ ä½¿ç”¨ <code>f()</code>  å¾—åˆ° <code>f0()</code> ï¼Œç­‰æ¦‚ç‡è¿”å› <code>[1,7]</code>  çš„éšæœºæ•´æ•°ï¼Œå°±æ˜¯ä¸è®¸ä½ ç”¨ <code>Math.random()</code> ;</p>\n<p><strong>æ€è·¯ï¼š</strong></p>\n<p>1ã€æ•´æ•° 0ï¼Œ1ï¼Œ2ï¼Œ3â€¦7ï¼Œçš„äºŒè¿›åˆ¶ä½éƒ½æ˜¯ç”± 0 å’Œ 1 ç»„æˆçš„ã€‚</p>\n<p>2ã€å› æ­¤èƒ½ä¸èƒ½æ§åˆ¶å°† <code>f()</code>  å¾—åˆ° <code>f1()</code>  ç­‰æ¦‚ç‡è¿”å› 0 å’Œ 1ï¼Ÿ----&gt; å¯ä»¥ï¼Œå› ä¸ºè¿”å› 1 æˆ– 2 çš„æ¦‚ç‡è·Ÿè¿”å› 4 æˆ– 5 çš„æ¦‚ç‡æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯ç­‰æ¦‚ç‡ï¼Œéƒ½æ˜¯ 2/5ã€‚-----&gt; æ§åˆ¶è¿”å› 1 æˆ– 2 çš„æ—¶å€™æ˜¯äº‹ä»¶ 0ï¼Œè¿”å› 4 æˆ– 5 æ˜¯äº‹ä»¶ 1ï¼Œè¿”å› 3 çš„æ—¶å€™é‡åšã€‚è¿™æ ·äº‹ä»¶ 0 å’Œäº‹ä»¶ 1 æ˜¯ç­‰æ¦‚ç‡çš„ï¼ˆä¸æ˜ç™½å¯ä»¥çœ‹ä¸‹é¢çš„ä»£ç å±•ç¤ºï¼‰</p>\n<p>3ã€ç”± <code>f1()</code>  æ’åˆ—ç»„åˆæ­£å¥½å°±èƒ½éšæœºå¾—åˆ° [0,7]ï¼Œå³ <code>f2()</code></p>\n<p>4ã€ç”± <code>f2()</code>  å¾—åˆ° [1,7] éšæœºæ•´æ•°ï¼Œå³é¢˜ç›®æ‰€éœ€ <code>f0()</code></p>\n<p>5ã€æ€»ç»“ä¸€å¥—é€šç”¨æ–¹æ³•</p>\n<p><strong>ä»£ç å®ç°ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    * ç”±å‡½æ•° f ()---> å¾—åˆ° [1,7] çš„éšæœºæ•´æ•°</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    * è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒé€šç”¨</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    * å¦‚ f () è¡¨ç¤ºå¾—åˆ° [1,5] çš„éšæœºæ•´æ•°</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * ç”± f ()---> ç­‰æ¦‚ç‡è¿”å› 0 å’Œ 1</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">f1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">int</span> ans<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">do</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            ans<span class=\"token operator\">=</span><span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>ans<span class=\"token operator\">==</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// é‡åˆ° 3 é‡åš</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">return</span> ans<span class=\"token operator\">&lt;</span><span class=\"token number\">3</span> <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre> </pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t<span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * ç”± f1 ()----> ç­‰æ¦‚ç‡è¿”å› [0,7] çš„éšæœºæ•´æ•°</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">f2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token function\">f1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token function\">f1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token function\">f1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t<span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     * ç”± f2 ()---> ç­‰æ¦‚ç‡è¿”å› [1,7]</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * é‡åˆ° 0 é‡åš</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">f0</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">int</span> ans<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">do</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            ans<span class=\"token operator\">=</span><span class=\"token function\">f2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>ans<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é‡åˆ° 0 é‡åš</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token keyword\">return</span> ans<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"4-randomboxåˆ°ä»»æ„èŒƒå›´éšæœºæ•´æ•°\"><a class=\"markdownIt-Anchor\" href=\"#4-randomboxåˆ°ä»»æ„èŒƒå›´éšæœºæ•´æ•°\">#</a> 4 - RandomBox åˆ°ä»»æ„èŒƒå›´éšæœºæ•´æ•°</h1>\n<p>åŒæ ·æ€è·¯ï¼Œç»™ä½ ä¸€ä¸ª RandomBoxï¼Œä¸ç®¡ä»–æ˜¯éšæœºå¾—å“ªä¸ªèŒƒå›´ï¼Œåªè¦æ‰¾åˆ°ç­‰æ¦‚ç‡çš„äº‹ä»¶ï¼ŒæŠŠè¿™ä¸¤ä¸ªäº‹ä»¶å½“ä½œ 0 å’Œ 1ï¼Œå°±éƒ½èƒ½ç»„æˆä»»ä½•èŒƒå›´çš„æ•°ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<p>1ã€æ‰¾ç­‰æ¦‚ç‡äº‹ä»¶ï¼ŒèŒƒå›´ <code>[min,max]</code> ï¼Œåˆ†ä¸¤åŠï¼Œå·¦ä¸€åŠï¼Œå³ä¸€åŠï¼Œå¦‚æœæœ‰ä¸­é—´å°±é‡åšã€‚</p>\n<p>å¦‚æœæ˜¯å¥‡æ•°ï¼Œå°±æœ‰ä¸­é—´ä¸€ä¸ªæ•°å¾—é‡åšã€‚å¶æ•°å°±æ­£å¥½ä¸€åŠï¼Œä¸ç”¨é‡åš</p>\n<p>2ã€ç”± RandomBoxâ€“&gt; ç­‰æ¦‚ç‡è¿”å› 0 å’Œ 1</p>\n<p>3ã€ç¡®å®š fromâ€“&gt;to éœ€è¦å¤šå°‘ä¸ªäºŒè¿›åˆ¶ä½</p>\n<p>4ã€éšæœºç»„åˆè¿”å›æ•´æ•°</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>     * æ›´åŠ é€šç”¨çš„ï¼Œç»™ä½ ä¸€ä¸ª RandomBox, ç­‰æ¦‚ç‡è¿”å›ä»»æ„èŒƒå›´çš„éšæœºæ•´æ•°</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     * ç„¶åè®©ä½ é€šè¿‡è¿™ä¸ª RandomBox æ¥å®ç°ç­‰æ¦‚ç‡è¿”å›æŒ‡å®šèŒƒå›´çš„éšæœºæ•´æ•°</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RandomBox</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">// è¿™ä¸ªç»“æ„æ˜¯å”¯ä¸€çš„éšæœºæœºåˆ¶</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\">// ä½ åªèƒ½åˆå§‹åŒ–å¹¶ä½¿ç”¨ï¼Œä¸å¯ä¿®æ”¹</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> min<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> max<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// åˆå§‹åŒ–æ—¶è¯·ä¸€å®šä¸è¦è®© mi==ma</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">RandomBox</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> mi<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> ma<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            min <span class=\"token operator\">=</span> mi<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            max <span class=\"token operator\">=</span> ma<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// 13 ~ 17</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// 13 + [0,4]</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token keyword\">return</span> min <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>max <span class=\"token operator\">-</span> min <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token keyword\">return</span> min<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token keyword\">return</span> max<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre> <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">rand01</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RandomBox</span> randomBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token keyword\">int</span> min<span class=\"token operator\">=</span>randomBox<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">int</span> max<span class=\"token operator\">=</span>randomBox<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">// åˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•°</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">int</span> size<span class=\"token operator\">=</span>max<span class=\"token operator\">-</span>min<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">boolean</span> odd <span class=\"token operator\">=</span> size <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> <span class=\"token comment\">// ä¸ 2 å–ä½™ä¸º 1 å³ä¸ºå¥‡æ•°</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token keyword\">int</span> mid<span class=\"token operator\">=</span>size<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">int</span> ans<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">do</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            ans<span class=\"token operator\">=</span>randomBox<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span>min<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>odd <span class=\"token operator\">&amp;&amp;</span> ans<span class=\"token operator\">==</span>mid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token keyword\">return</span> ans <span class=\"token operator\">&lt;</span> mid <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token comment\">// ç»™ä½ ä¸€ä¸ª RandomBoxï¼Œè¿™æ˜¯å”¯ä¸€èƒ½å€ŸåŠ©çš„éšæœºæœºåˆ¶</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token comment\">// ç­‰æ¦‚ç‡è¿”å› from~to èŒƒå›´ä¸Šä»»ä½•ä¸€ä¸ªæ•°</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token comment\">// è¦æ±‚ from&lt;=to</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RandomBox</span> randomBox<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> from<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> <span class=\"token keyword\">to</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>from <span class=\"token operator\">==</span> <span class=\"token keyword\">to</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token keyword\">return</span> from<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">// 3 ~ 9</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token comment\">// 0 ~ 6</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token comment\">// 0 ~ range</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">int</span> range <span class=\"token operator\">=</span> <span class=\"token keyword\">to</span> <span class=\"token operator\">-</span> from<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token keyword\">int</span> num <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token comment\">// æ±‚ 0ï½range éœ€è¦å‡ ä¸ª 2 è¿›åˆ¶ä½</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> num<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> range<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            num<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token comment\">// æˆ‘ä»¬ä¸€å…±éœ€è¦ num ä½</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token comment\">// æœ€ç»ˆçš„ç´¯åŠ å’Œï¼Œé¦–å…ˆ + 0 ä½ä¸Šæ˜¯ 1 è¿˜æ˜¯ 0ï¼Œ1 ä½ä¸Šæ˜¯ 1 è¿˜æ˜¯ 0ï¼Œ2 ä½ä¸Šæ˜¯ 1 è¿˜æ˜¯ 0...</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token keyword\">int</span> ans <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token keyword\">do</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            ans <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> num<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>                ans <span class=\"token operator\">|=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">rand01</span><span class=\"token punctuation\">(</span>randomBox<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>ans <span class=\"token operator\">></span> range<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token keyword\">return</span> ans <span class=\"token operator\">+</span> from<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"5-å¯¹æ•°å™¨\"><a class=\"markdownIt-Anchor\" href=\"#5-å¯¹æ•°å™¨\">#</a> 5 - å¯¹æ•°å™¨</h1>\n<p>åˆ©ç”¨ Math.random () ç”Ÿæˆéšæœºçš„æ•°ç»„åºåˆ—ï¼Œå¯¹ä»£ç è¿›è¡Œæµ‹è¯•ã€‚</p>\n<p>å¦‚ï¼šç”Ÿæˆéšæœºå¤§å°çš„æ•°ç»„åºåˆ—</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>     * ç”Ÿæˆéšæœºå¤§å°çš„éšæœºåºåˆ—</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     * @param maxLen æœ€å¤§é•¿åº¦</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     * @param maxVal æœ€å¤§æ•°å­—</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     * @return</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">randArrs</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> maxLen<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> maxVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">int</span> length<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>maxLen<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>maxVal<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¦‚ï¼šç”Ÿæˆéšæœºçš„æœ‰åºåºåˆ—</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>     * éšæœºæœ‰åºåºåˆ—</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span>  <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">orderRandArr</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> maxLen<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> maxVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token function\">randArrs</span><span class=\"token punctuation\">(</span>maxLen<span class=\"token punctuation\">,</span>maxVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>â€¦</p>\n",
            "tags": [
                "ç®—æ³•"
            ]
        },
        {
            "id": "https://blog.dabing.cool/hexo/ssl/",
            "url": "https://blog.dabing.cool/hexo/ssl/",
            "title": "æœåŠ¡å™¨é…ç½®hexoå¼€å¯httpsï¼ˆsslè¯ä¹¦ï¼‰",
            "date_published": "2022-09-05T13:46:25.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabingï¼ˆç‹ç”œç”œï¼‰</p>\n<p>å‚åŠ äº†åˆæ‹äº‘çš„è”ç›Ÿæ´»åŠ¨ï¼Œç™½å«–çš„ 10G çš„å­˜å‚¨ç©ºé—´ + 15GB çš„ CDN å…è´¹æµé‡ï¼Œæœ‰åŸŸåå¹¶ä¸”å·²ç»å¤‡æ¡ˆçš„æœ‰ç½‘ç«™çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥å»è¯•è¯•ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudXB5dW4uY29tL2xlYWd1ZQ==\">åˆæ‹äº‘è”ç›Ÿ - å¼€å‘è€…å¸®åŠ©è®¡åˆ’ï¼Œä¸ºå¼€å‘è€…åŠ é€Ÿ - åˆæ‹äº‘ (upyun.com)</span></p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220909084820511.png\" alt=\"image-20220909084820511\"></p>\n<p>é¡ºä¾¿ç”³è¯·äº†å…è´¹çš„ SSL è¯ä¹¦ï¼Œä½ çœ‹æˆ‘çš„å°ç«™ç°åœ¨æ˜¯ https å¼€å¤´çš„å•¦ï½ï½ï½</p>\n<p>ä¸€äº›ç”³é¢†è¿‡ç¨‹å¯ä»¥å‚è€ƒæˆ‘å‹é“¾ä¸­ä½™ç™½çš„åšå®¢ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudmlweXViYWkudG9wL3Bvc3QvYTQyYmVmYzYuaHRtbA==\">hexo çš„ä¼˜åŒ–ï¼šåˆæ‹äº‘ cdn åŠ é€Ÿ | ä½™ç™½ã®å°å±‹ (vipyubai.top)</span></p>\n<p>æˆ‘è¿™é‡Œåªæ˜¯è®°å½•ä¸€ä¸‹æˆ‘åœ¨æœåŠ¡å™¨ nginx å¦‚ä½•å¼€å¯ httpsï¼ˆSSL è¯ä¹¦ï¼‰</p>\n<h1 id=\"è·å–è¯ä¹¦\"><a class=\"markdownIt-Anchor\" href=\"#è·å–è¯ä¹¦\">#</a> è·å–è¯ä¹¦</h1>\n<p>å…ˆä»ä½ çš„åˆæ‹äº‘å¹³å°æŠŠå·²ç»é¢å‘äº†çš„è¯ä¹¦ä¸‹è½½ä¸‹æ¥ã€‚</p>\n<p>æˆ‘çš„ä¸‹è½½ä¸‹æ¥æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼š</p>\n<ul>\n<li>blog.dabing.cool.crt</li>\n<li>blog.dabing.cool.key</li>\n</ul>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220909085441872.png\" alt=\"image-20220909085441872\"></p>\n<h1 id=\"æœåŠ¡å™¨é…ç½®nginx\"><a class=\"markdownIt-Anchor\" href=\"#æœåŠ¡å™¨é…ç½®nginx\">#</a> æœåŠ¡å™¨é…ç½® nginx</h1>\n<p>æˆ‘å‚è€ƒçš„è¿™ç¯‡æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC84NTA0MDYyNQ==\">Nginx é…ç½® SSL è¯ä¹¦</span></p>\n<p>æ‡’å¾—å†å†™ä¸€æ¬¡äº†ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘çš„é…ç½®</p>\n<h2 id=\"1-å…ˆæ£€æµ‹ä¸€ä¸‹è‡ªå·±çš„ç¯å¢ƒæ˜¯å¦å…è®¸\"><a class=\"markdownIt-Anchor\" href=\"#1-å…ˆæ£€æµ‹ä¸€ä¸‹è‡ªå·±çš„ç¯å¢ƒæ˜¯å¦å…è®¸\">#</a> 1. å…ˆæ£€æµ‹ä¸€ä¸‹è‡ªå·±çš„ç¯å¢ƒæ˜¯å¦å…è®¸ï¼š</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nginx <span class=\"token parameter variable\">-V</span></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™ä¸ª <code>--with-stream_ssl_module</code>  é‚£å°± ok</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220909090711795.png\" alt=\"image-20220909090711795\"></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>openssl version</pre></td></tr></table></figure><p><img data-src=\"http://image.dabing.cool/image/image-20220909090843974.png\" alt=\"image-20220909090843974\"></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-qa</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token function\">open</span>  <span class=\"token comment\"># æŸ¥è¯¢æ˜¯å¦å®‰è£… openssl</span></pre></td></tr></table></figure><p><img data-src=\"http://image.dabing.cool/image/image-20220909091040936.png\" alt=\"image-20220909091040936\"></p>\n<h2 id=\"2-confdçš„æ–‡ä»¶é…ç½®\"><a class=\"markdownIt-Anchor\" href=\"#2-confdçš„æ–‡ä»¶é…ç½®\">#</a> 2. conf.d/ çš„æ–‡ä»¶é…ç½®</h2>\n<p>å†ä½ çš„ etc/nginx/conf.d/ æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘çš„æ˜¯ <code>etc/nginx/conf.d/blog.conf</code></p>\n<p>æˆ‘çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p>\n<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š# å¦‚æœä½ çš„ ssl on çˆ†çº¢æˆ–è€…ä½ çš„ nginx æ˜¯ 1.15.x ä»¥ä¸Šç‰ˆæœ¬çš„è¯</p>\n<p>å¾—å°† <code>listen 443</code>  å’Œ <code>ssl on</code>  æ”¹æˆ <code>listen 443 ssl </code></p>\n<figure class=\"highlight nginx\"><figcaption data-lang=\"nginx\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token directive\"><span class=\"token keyword\">server</span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">listen</span> <span class=\"token number\">443</span> ssl</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\"># å¦‚æœä½ çš„ ssl on çˆ†çº¢æˆ–è€…ä½ çš„ nginx æ˜¯ 1.15 ä»¥ä¸Šç‰ˆæœ¬çš„è¯ï¼Œ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">server_name</span> blog.dabing.cool</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\"># å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">ssl_certificate</span> /etc/nginx/cert/blog.dabing.cool.crt</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">ssl_certificate_key</span> /etc/nginx/cert/blog.dabing.cool.key</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">ssl_session_timeout</span> <span class=\"token number\">5m</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">ssl_protocols</span> TLSv1 TLSv1.1 TLSv1.2</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\"># æŒ‰ç…§è¿™ä¸ªåè®®é…ç½®</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\"># æŒ‰ç…§è¿™ä¸ªå¥—ä»¶é…ç½®</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">ssl_prefer_server_ciphers</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">location</span> /</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token directive\"><span class=\"token keyword\">root</span> /var/www/hexo</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\"># ç«™ç‚¹ç›®å½•</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token directive\"><span class=\"token keyword\">index</span>  index.html index.htm</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token directive\"><span class=\"token keyword\">server</span></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">listen</span>       <span class=\"token number\">80</span> default_server</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">listen</span>       [::]:80 default_server</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">server_name</span>  xxx.xx.xxx.xx</span><span class=\"token punctuation\">;</span> <span class=\"token comment\"># è¿™é‡Œå¯ä»¥å¡«ä½ çš„ä¸»æœº ip</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">root</span>         /var/www/hexo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token directive\"><span class=\"token keyword\">rewrite</span> ^(.*) https://blog.dabing.cool</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\"># æ·»åŠ çš„è¯­å¥</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ç„¶åé‡å¯ nginx å³å¯ï¼š</p>\n<p><code>systemctl restart nginx.service</code>  é‡å¯</p>\n<p>å¦‚æœä½ é‡åˆ°ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Job <span class=\"token keyword\">for</span> nginx.service failed because the control process exited with error code. See <span class=\"token string\">\"systemctl status nginx.service\"</span> and <span class=\"token string\">\"journalctl -xe\"</span> <span class=\"token keyword\">for</span> details.</pre></td></tr></table></figure><p>æœ‰å¯èƒ½æ˜¯ä½ çš„ 80 ç«¯å£æˆ–è€… 443 ç«¯å£è¢«å ç”¨ç€ï¼Œå‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ps</span> -ef<span class=\"token operator\">|</span><span class=\"token function\">grep</span> nginx</pre></td></tr></table></figure><p>æœ‰å°±æŠŠè¿›ç¨‹æ€æ‰ï¼Œå†é‡å¯å³å¯ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">kill</span> <span class=\"token parameter variable\">-9</span> pid</pre></td></tr></table></figure><p>å†è®¿é—®çœ‹çœ‹ï¼š<a href=\"https://blog.dabing.cool/\">https://blog.dabing.cool/</a></p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220909100723165.png\" alt=\"image-20220909100723165\"></p>\n",
            "tags": [
                "Hexo",
                "ssl",
                "https"
            ]
        },
        {
            "id": "https://blog.dabing.cool/diary/%E6%89%93%E5%8D%A1%E6%97%A5%E8%AE%B0/",
            "url": "https://blog.dabing.cool/diary/%E6%89%93%E5%8D%A1%E6%97%A5%E8%AE%B0/",
            "title": "æ‰“å¡æ—¥è®°",
            "date_published": "2022-09-02T16:00:00.000Z",
            "content_html": "<p>å› ä¸ºæ‘†çƒ‚å¥½ä¹…äº†ï¼Œå¤©å¤©ä¸å­¦ä¹ ï¼Œè¯•è¯•åœ¨è¿™æ‰“å¡èƒ½ä¸èƒ½è®©è‡ªå·±å¥½å¥½å­¦ä¹ ï¼Œè¿™ä¸ªæ‰“å¡æ—¥è®°ä¸ä¼šä¸€ç›´åœ¨çš„ï¼Œä½†æ˜¯è‡³å°‘æ˜å¹´çš„æ—¶å€™è¿˜åœ¨ï¼Œåº”è¯¥åˆ°æ˜å¹´æˆ‘å°±æŠŠè¿™ä¸ªæ‰“å¡ä¸‹äº†å“ˆå“ˆå“ˆå“ˆï¼Œå› ä¸ºæˆ‘è¦æ˜¯æŠŠè¿™ä¸ªåšå®¢æ”¾ç®€å†é‡Œçš„è¯æˆ‘æ˜¯ä¸æƒ³è®©å…¬å¸çš„äººçœ‹åˆ°æˆ‘çš„æ‰“å¡æ—¥è®°çš„ã€‚</p>\n<p>ä»¥å‰ä¹Ÿæ˜¯æœ‰å¥½å¥½æ‰“å¡çš„ï¼Œè¯•è¿‡å¾ˆå¤šåœ°æ–¹ï¼Œä¸è¿‡éƒ½æ˜¯åœ¨æ ¡æ—¶å€™çš„äº‹æƒ…äº†ã€‚è¯•è¿‡åœ¨æœ¬å­ä¸Šï¼Œæˆ‘å°æœ¬æœ¬éƒ½å†™å¥½å‡ æœ¬äº†ï¼Œå†™çš„è´¼è¯¦ç»†ï¼Œå‡ ä¹æ¯å¤©éƒ½å†™å¯¹äºä»¥å‰çš„æˆ‘è¿˜æ˜¯è›®æœ‰æ•ˆæœçš„ã€‚</p>\n<p>ä¸€äº›å¥½ä¹ æƒ¯å•Šä¸èƒ½ä¸¢çš„å‘€ï¼Œä¾‹å¦‚ï¼šè®°è´¦ã€ç¡å‰çœ‹ä¹¦ã€ä¸å¸¦æ‰‹æœºä¸ŠåºŠã€çœ‹ç”µå½±ã€ç•ªèŒ„å­¦ä¹ æ³•ï¼ˆä¼‘æ¯æ—¶é—´å¯ä»¥ä¸Šä¸ªå•æ‰€å•Šï¼Œçœ‹åå‡ åˆ†é’Ÿå…¶ä»–ä¹¦å•Šï¼Œæˆ–è€…æå«ç”Ÿèµ°èµ°å•Šéƒ½è¡Œï¼‰ã€‚ã€‚ã€‚ã€‚</p>\n<h1 id=\"ä¸€-2022å¹´10æœˆ\"><a class=\"markdownIt-Anchor\" href=\"#ä¸€-2022å¹´10æœˆ\">#</a> ä¸€ã€2022 å¹´ 10 æœˆ</h1>\n<h3 id=\"1-2022-10-19-å‘¨ä¸‰\"><a class=\"markdownIt-Anchor\" href=\"#1-2022-10-19-å‘¨ä¸‰\">#</a> 1 . 2022-10-19  å‘¨ä¸‰   ğŸŒ¤</h3>\n<ol>\n<li><s>ğŸŒ¸ç®—æ³•æ–°æ‰‹ç­ - ç¬¬ä¸‰è¯¾ï¼ˆç»ƒä¹ ï¼‰</s></li>\n<li><s>ğŸŒ¸SpringCloud ç¬”è®°æ•´ç†</s> (1/4)</li>\n</ol>\n<h3 id=\"2-2022-10-20-å‘¨å››\"><a class=\"markdownIt-Anchor\" href=\"#2-2022-10-20-å‘¨å››\">#</a> 2 . 2022-10-20  å‘¨å››  ğŸŒ¤</h3>\n<p>ä»Šæ—¥è®¡åˆ’ğŸŒ¸ï¼š(å®Œæˆåˆ’çº¿)</p>\n<ol>\n<li><s>ğŸ—’SpringCloud ç¬”è®°æ•´ç†</s></li>\n<li><s>ğŸ“’è®°è´¦</s></li>\n<li><s>å·¥ä½œï¼šå¥åº·åº¦ç›‘æ§ - å®æ—¶åœæœºåŠæ—¶ç‡ï¼ˆæ•´ç†æ–‡æ¡£ + éƒ¨åˆ†ä»£ç ï¼‰</s>- éƒ¨åˆ†ä¸å…·å¤‡åŠå…¬æ¡ä»¶</li>\n</ol>\n",
            "tags": [
                "æ‰“å¡"
            ]
        },
        {
            "id": "https://blog.dabing.cool/diary/%E8%84%B1%E5%8F%91%E6%97%A5%E8%AE%B0/",
            "url": "https://blog.dabing.cool/diary/%E8%84%B1%E5%8F%91%E6%97%A5%E8%AE%B0/",
            "title": "è„±å‘æ—¥è®°",
            "date_published": "2022-09-02T16:00:00.000Z",
            "content_html": "<p>2022-09-15 å‘¨å››  ğŸŒ   éƒ‘å·ğŸ“</p>\n<p>å°±è·Ÿæ—¥è®°ä¸€æ ·å§è®°å½•ä¸€ä¸‹ï¼Œå› ä¸ºè§‰å¾—è‡ªå·±æœ‰è„±å‘çš„è¿¹è±¡ï¼Œå‘å‡ºæ¥ç»™å¤§å®¶å‚è€ƒå‚è€ƒï¼Œä¸æ…Œã€‚</p>\n<p>ï¼ˆæˆ‘å¯èƒ½æ²¡æœ‰å¾ˆä¸¥é‡ï¼‰</p>\n<p>å› ä¸ºæˆ‘å¤§å­¦çš„æ—¶å€™æˆ‘æ„Ÿè§‰æ•´ä¸ªå¯å®¤ï¼Œå°±æˆ‘ä¸æ‰å¤´å‘ï¼Œæ‰çš„æå°‘ã€‚</p>\n<p>ä½†æ˜¯ 21 å¹´ 7 æœˆä»½åˆ°éƒ‘å·ä¹‹åï¼Œ8 æœˆå°±æ„Ÿè§‰å¼€å§‹æ‰å¤´å‘äº†ã€‚æ„Ÿè§‰æ•å¤´ã€åœ°æ¿ã€ä¸‹æ°´é“ã€æ¢³å¤´å‘çš„åœ°æ–¹å…¨æ˜¯æˆ‘çš„å¤´å‘ï¼ŒçœŸçš„æ•‘å‘½ã€‚</p>\n<p>ä¸ªäººæ„Ÿè§‰ä¸å’‹ç†¬å¤œï¼Œä¸ç„¦è™‘ï¼Œæ²¡æœ‰æ™šä¸Šç¡ä¸ç€è§‰ã€‚</p>\n<p>å°±æƒ³ä¼šä¸ä¼šæ˜¯å› ä¸ºè¿™é‡Œçš„æ°´æœ‰é—®é¢˜ä¸ä¹ æƒ¯ï¼Ÿï¼ˆå› ä¸ºæˆ‘æ˜¯å¹¿ä¸œäººåœ¨æ²³å—å·¥ä½œï¼‰æˆ–è€…æ˜¯å› ä¸ºæˆ‘ç”¨äº†é˜¿é“å¤«æ´—å‘æ°´æ´—è„±å‘äº†ï¼Ÿ</p>\n<p>æ­£ç¡®çš„åšæ³•æ˜¯å»åŒ»é™¢çœ‹çœ‹ã€‚ğŸ””</p>\n<p>è¿™é‡Œå°±æ˜¯è®°å½•ä¸€ä¸‹éƒ½çœ‹äº†å•¥ï½</p>\n<p>æˆ‘æ˜¯ 20220904 ä¸­åˆå»çš„ï¼ŒåŒ»ç”Ÿè¯´å¦‚æœæ²¡æœ‰å¤±çœ ä¹‹ç±»çš„ï¼Œåšæ£€æŸ¥çœ‹çœ‹ï¼Œä¸€ä¸ªæ˜¯ â€œæ€§æ¿€ç´ å…­é¡¹â€ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯å•¥æˆ‘å¿˜äº†ï¼Œå› ä¸ºè¿™ä¸ªæ£€æŸ¥è¦ç©ºè…¹å°±æ²¡åšã€‚</p>\n<p>æˆ‘çš„ â€œæ€§æ¿€ç´ å…­é¡¹â€ éƒ½åœ¨æ­£å¸¸çš„èŒƒå›´å†…ï¼Œæˆ‘ç™¾åº¦çœ‹æ˜¯è¯´ï¼šâ€œ<strong>è„±å‘ä¹‹åè¿›è¡Œæ€§æ¿€ç´  6 é¡¹æ£€æŸ¥ï¼Œä¸»è¦æ˜¯è§‚å¯Ÿæ˜¯å¦æœ‰è„‚æº¢æ€§è„±å‘æˆ–è€…æ˜¯é›„æ¿€ç´ æ€§è„±å‘çš„ï¼Œå‘ç°ä¹‹åå¯ä»¥åº”ç”¨ç›¸åº”çš„è¯ç‰©è°ƒèŠ‚æ¿€ç´ ï¼Œå…·ä½“çš„è¯ç‰©è¦æ ¹æ®åŒ–éªŒç»“æœæ¥ç¡®å®š</strong>ã€‚â€ğŸ’¡</p>\n<p><strong>åŒ»ç”Ÿçš„æè®®ï¼š</strong></p>\n<ol>\n<li>\n<p>å¦‚æœæ´—å¤´çš„æ—¶å€™æ‰å¤´å‘æ²¡æœ‰è¶…è¿‡ 100 æ ¹çš„è¯ä¸ç®—è„±å‘ï¼ˆæˆ‘æ„Ÿè§‰åº”è¯¥æ²¡æœ‰ 100 æ ¹ï¼Œè„±å‘è¦æ±‚è¿˜è¿™ä¹ˆä¸¥è‹›å—ï¼Ÿï¼‰</p>\n</li>\n<li>\n<p>ä¸ç†¬å¤œï¼Œå°‘åƒæ²¹è…»è¾›è¾£çš„ä¸œè¥¿ï¼ˆå°±é‚£å †å‘—ï¼‰</p>\n</li>\n<li>\n<p>å¯ä»¥é€‚å½“ä½¿ç”¨é»‘èŠéº»ï¼Œé»‘è±†ï¼Œä½•é¦–ä¹Œï¼Œå›ºè‚¾ç­‰ç›¸å…³çš„ä¸œè¥¿</p>\n</li>\n<li>\n<p>å¼€äº†ä¸€äº›å›ºè‚¾è¡¥è‚çš„è¯ï¼ˆè¿™ä¸ªæ˜¯è‡ªæ„¿å¯ä»¥ä¸å¼€ï¼‰</p>\n</li>\n<li>\n<p>ç”¨äº†è¯è¿˜æ˜¯æ„Ÿè§‰åœ¨è„±å‘ï¼Œå®åœ¨ä¸è¡Œå¯ä»¥è¯•ä¸‹ç±³è¯ºåœ°å°”ç”Ÿå‘æ“¦å‰‚ï¼ˆæœ‰ç”·å£«å’Œå¥³å£«çš„ï¼‰</p>\n</li>\n</ol>\n<p>èŠ±é’±çš„è¯ï¼Œæ£€æŸ¥ 275 å—ï¼Œè¯ 3 ç›’ 100 å¤šï¼Œéƒ½æ˜¯åˆ·åŒ»ä¿çš„ï¼Œéƒ½æŠ¥é”€äº†ä¸€åŠï¼Œæ‰£åŒ»ä¿è´¦æˆ·ä½™é¢ä¸€åŠã€‚</p>\n<p>å“ˆå“ˆå“ˆå“ˆåæ­£æˆ‘æ˜¯çœ‹äº†åŒ»ç”Ÿä¹‹åæˆ‘è¿™ä¸ªä¸€ä¸¤ä¸ªæ˜ŸæœŸéƒ½è§‰å¾—è‡ªå·±å¿ƒå®‰äº†å¾ˆå¤šï¼Œéƒ½æ„Ÿè§‰è‡ªå·±ä¸æ‰å¤´å‘äº†ã€‚</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220915214434388.png\" alt=\"image-20220915214434388\"></p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220915214445593.png\" alt=\"image-20220915214445593\"></p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20220915214530766.png\" alt=\"image-20220915214527011\"></p>\n<p>-------20221019  å‘¨ä¸‰ --------</p>\n<p>è¯´ä¸‹ç°åœ¨çš„æƒ…å†µï¼Œæˆ‘å¤ªæ‡’äº†ï¼Œæˆ‘åƒå®Œè¦ä¹‹åæ²¡æœ‰å»ç»§ç»­å»ä¹°è¯åƒï¼Œä½†æ˜¯æˆ‘è‡³å°‘ç°åœ¨è§‰å¾—æ‰å¤´å‘çš„æƒ…å†µåˆåœ¨å‡ç¼“ã€‚è™½ç„¶æ¯æ¬¡æ´—å¤´è¿˜æ˜¯ä¼šæ‰ä¸å°‘å¤´å‘ï¼Œç‰¹åˆ«æ˜¯æŠ¹æŠ¤å‘ç´ çš„æ—¶å€™ï¼Œå¾ˆå¥‡æ€ªã€‚</p>\n<p>æˆ‘ä¹Ÿæ²¡æœ‰ä½¿ç”¨ç±³è¯ºåœ°å°”ï¼Œå› ä¸ºæˆ‘çœ‹åˆ°è¿™ä¸ªäº§å“ä¼šæœ‰ä¸€ä¸ªç‹‚è„±æœŸï¼Œæˆ‘å®³æ€•å“ˆå“ˆå“ˆå“ˆï¼Œæœ¬å°±ä¸å¤šï¼Œä¸‡ä¸€ç‹‚è„±äº†ä¹‹åä¸é•¿äº†å’‹åŠå‘ã€‚</p>\n<p>æˆ‘è§‰å¾—æˆ‘æ‰çš„å¤šæ˜¯å› ä¸ºæˆ‘çš„å¤´å‘çˆ±å‡ºæ²¹äº†ï¼Œä¹‹å‰æˆ‘çš„å¤´å‘å°½ç®¡å››äº”å¤©ä¸æ´—å¤´ä¹Ÿä¸ä¼šå¤§æ²¹å¤´çš„ï¼Œç°åœ¨ä¸¤å¤©å°±ä¼šå¾ˆæ²¹ã€‚æˆ‘ç°åœ¨å‹¤å¿«äº†ç‚¹äº†ï¼Œå¥½åƒå°±æ²¡æœ‰å‰æ®µæ—¶é—´æ‰çš„é‚£ä¹ˆå¤šäº†ã€‚ç„¶åæˆ‘çœŸçš„å¤ªæ‡’å°±æ²¡æœ‰åœ¨æ„è¿™ä¸ªå¤´å‘çš„é—®é¢˜äº†ï¼Œå°±å‹¤æ´—å¤´ï¼Œè®¤å‡†<strong>æœˆæ¡‚é†‡èšé†šç¡«é…¸é…¯é’ </strong>è¿™ä¸ªä¸œä¸œï¼Œå»æ²¹çš„ã€‚</p>\n<p>ï¼ˆæˆ‘ä¹Ÿæ˜¯çœ‹äº† b ç«™å…”å…«å“¥è¯´çš„ï¼Œæˆ‘è§‰å¾—ä»–è¯´çš„å¾ˆæœ‰é“ç†ï¼Œè¿˜æœ‰èƒ–å¤©ä½¿ä¹Ÿè¯´è¿‡è„±å‘çš„è¯é¢˜ï¼‰</p>\n",
            "tags": [
                "è„±å‘"
            ]
        },
        {
            "id": "https://blog.dabing.cool/algorithm/%E5%89%8D%E7%BC%80%E5%92%8C/",
            "url": "https://blog.dabing.cool/algorithm/%E5%89%8D%E7%BC%80%E5%92%8C/",
            "title": "å‰ç¼€å’Œ-æ–°æ‰‹",
            "date_published": "2022-09-01T02:00:00.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabing</p>\n<p>æ–°æ‰‹ç¬¬äºŒè¯¾ï½</p>\n<p>ä¹‹åä¼šä¸Šä¼ åˆ° github æˆ–è€…ç äº‘ä¸Šï¼Œå†è¯´å§ã€‚</p>\n<p>é¦–å…ˆä½ å¾—çŸ¥é“ä»€ä¹ˆæ˜¯å‰ç¼€å’Œï¼Œ<strong>å°±æ˜¯åºåˆ—çš„å‰ n é¡¹å’Œ</strong>ã€‚</p>\n<h1 id=\"1-ä¸€ç»´å‰ç¼€å’Œ\"><a class=\"markdownIt-Anchor\" href=\"#1-ä¸€ç»´å‰ç¼€å’Œ\">#</a> 1. ä¸€ç»´å‰ç¼€å’Œ</h1>\n<p>å…ˆçœ‹ä¸¤é“ leetcode é¢˜ï¼š</p>\n<ol>\n<li>ç®€å•å¾—åˆ°ä¸€ç»´å‰ç¼€å’Œåºåˆ—</li>\n</ol>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220905153701740.png\" alt=\"image-20220905153701740\"></p>\n<ol start=\"2\">\n<li>è¿”å›æŒ‡å®šèŒƒå›´çš„å…ƒç´ çš„å’Œ</li>\n</ol>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220905154926588.png\" alt=\"image-20220905154926588\"></p>\n<p>ç¬¬ä¸€é“æ˜¯å®ç°å‰ç¼€å’Œï¼Œç¬¬äºŒé“æ˜¯å‰ç¼€å’Œçš„åº”ç”¨æ±‚åŒºåŸŸå’Œã€‚</p>\n<p>ä¸‹é¢ä»£ç å±•ç¤ºï¼š</p>\n<h2 id=\"1-æ±‚å‰ç¼€å’Œ\"><a class=\"markdownIt-Anchor\" href=\"#1-æ±‚å‰ç¼€å’Œ\">#</a> 1 - æ±‚å‰ç¼€å’Œ</h2>\n<p><strong>ä¸¤ç§æ–¹å¼ï¼š</strong></p>\n<ol>\n<li>è·Ÿæ•°ç»„ä¸€æ ·çš„å¤§å°ï¼Œä¾æ¬¡æ±‚å‡ºå‰ n é¡¹å’Œã€‚</li>\n</ol>\n<p>æ±‚åŒºé—´ <code>[L,R]</code>  å…ƒç´ å’Œæ—¶ï¼Œå–å‡º <code>preNum[R]</code>  å’Œ <code>preNum[L-1]</code> ï¼Œä½œå·®å³å¯ã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220905214708504.png\" alt=\"image-20220905214708504\"></p>\n<ol start=\"2\">\n<li>\n<p>ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œç¼ºç‚¹æ˜¯å‰é¢ç”ŸæˆäºŒç»´çŸ©é˜µçš„æ—¶å€™è¦èŠ±æ—¶é—´å’Œç©ºé—´ã€‚æ—¶é—´å¤æ‚åº¦ <code>n*n/2</code> ï¼Œç©ºé—´ <code>n * n</code></p>\n<p>ä½†æ˜¯å½“ä½ éœ€è¦åšè¶…å¤šæ¬¡æ±‚åŒºé—´å’Œæ“ä½œçš„æ—¶é—´ï¼Œä½ å¯ä»¥ç›´æ¥æ‹¿å‡ºæ¥ä¸ç”¨è¿ç®—ã€‚</p>\n</li>\n</ol>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220905215950938.png\" alt=\"image-20220905215950938\"></p>\n<p>ä»£ç ï¼šå¯ä»¥ç›´æ¥ç²˜åˆ° idea ä¸­æ‰§è¡Œï¼Œç”± mian æ–¹æ³•</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>     * è¿™é‡Œæä¾›çš„æ–¹æ¡ˆæ˜¯åˆ›å»ºä¸€ä¸ªè·Ÿæ•°ç»„ä¸€æ ·å¤§å°çš„æ•°ç»„ï¼Œé‡Œé¢ 0-i çš„å‰ç¼€å’Œ</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     * è¦æ±‚ 2~7 ä¹‹é—´çš„å’Œçš„æ—¶å€™å°±æ˜¯å°± arr [7]-arr [1]</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getPreNum</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">N</span><span class=\"token operator\">=</span>arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> preNum<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token class-name\">N</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        preNum<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token class-name\">N</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            preNum<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>preNum<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">return</span> preNum<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * æ±‚æ•°ç»„ arr çš„ç¬¬ L ä½åˆ°ç¬¬ R ä½çš„ä¹‹é—´æ•°å­—çš„å’Œ (åŒºåŸŸå’Œ)</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">preNum</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> <span class=\"token class-name\">L</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> <span class=\"token class-name\">R</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> preNum<span class=\"token operator\">=</span><span class=\"token function\">getPreNum</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">int</span> ans <span class=\"token operator\">=</span> <span class=\"token class-name\">L</span><span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token operator\">?</span>preNum<span class=\"token punctuation\">[</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span>preNum<span class=\"token punctuation\">[</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">]</span><span class=\"token operator\">-</span>preNum<span class=\"token punctuation\">[</span><span class=\"token class-name\">L</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">return</span> ans<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">18</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">preNum</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">preNum</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">preNum</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">preNum</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å½“ç„¶è¿˜æœ‰äºŒç»´çš„ï¼Œä¸€æ ·çš„é“ç†ï¼šå°±æ˜¯ä¸‹é¢è¿™æ ·çš„åŸç†ã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220905155508969.png\" alt=\"image-20220905155508969\"></p>\n<p>sorryï¼Œæˆ‘æ‡’äº†ã€‚ä»£ç ä¸å¤æ‚æˆ‘ä¸å†™äº†ï¼Œæ„Ÿå…´è¶£çš„è‡ªå·±å®ç°ä¸€ä¸‹ã€‚</p>\n",
            "tags": [
                "ç®—æ³•"
            ]
        },
        {
            "id": "https://blog.dabing.cool/algorithm/%E7%AE%80%E5%8D%95%E6%8E%92%E5%BA%8F/",
            "url": "https://blog.dabing.cool/algorithm/%E7%AE%80%E5%8D%95%E6%8E%92%E5%BA%8F/",
            "title": "ç®€å•æ’åº-æ–°æ‰‹",
            "date_published": "2022-08-31T02:00:00.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabing</p>\n<p>ç®—æ³•å°ç™½å¼€å§‹ç®—æ³•å­¦ä¹ äº†ï¼Œä»æœ€ç®€å•çš„å¼€å§‹ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚</p>\n<p>ç¬¬ä¸€å¤©ï½</p>\n<p>ä¹‹åä¼šä¸Šä¼ åˆ° github æˆ–è€…ç äº‘ä¸Šï¼Œå†è¯´å§ã€‚</p>\n<p>è¿™é‡Œçš„ç®€å•æ’åºå®ç°åŒ…æ‹¬ï¼šé€‰æ‹©æ’åºã€å†’æ³¡æ’åºå’Œæ’å…¥æ’åºã€‚ ç›´æ¥æ‹·è´åˆ° idea å°±èƒ½è¿è¡Œï¼Œæœ‰ main æ–¹æ³•ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>dabing</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> sort <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     * é€‰æ‹©æ’åº</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     * æ¯æ¬¡éƒ½ä¸­ i~n-1 ä¸­é€‰æ‹©å‡ºä¸€ä¸ªæœ€å°çš„æ•°æ”¾å‰é¢</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     * @param arrs</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span>  <span class=\"token function\">selectSort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arrs <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> arrs<span class=\"token punctuation\">.</span>length<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">//0~n-1</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">//1~n-1</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">//2~n-1</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">//n-2~n-1</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arrs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">int</span> minValue<span class=\"token operator\">=</span>i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> arrs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                minValue<span class=\"token operator\">=</span>arrs<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>arrs<span class=\"token punctuation\">[</span>minValue<span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> j <span class=\"token operator\">:</span> minValue<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">,</span>i<span class=\"token punctuation\">,</span>minValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     * å†’æ³¡æ’åº</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     * æ¯æ¬¡ç›¸é‚»çš„ä¸¤ä½æ•°å­—å¯¹æ¯”ï¼Œå¦‚æœå‰ä¸€ä½æ¯”åä¸€ä½å¤§ï¼Œåˆ™äº¤æ¢ä½ç½®ï¼Œè¿™æ ·æ¯æ¬¡ä¸‹æ¥æœ€å¤§çš„æ•°å­—å°±ä¼šè·‘åˆ°é˜Ÿå°¾å»äº†</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     * @param arrs</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">bubbleSort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arrs<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> arrs<span class=\"token punctuation\">.</span>length<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">//0~n-1</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token comment\">//0~n-2</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">//0~n-3</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token comment\">//0~1</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">N</span><span class=\"token operator\">=</span>arrs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> end<span class=\"token operator\">=</span><span class=\"token class-name\">N</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>end<span class=\"token operator\">>=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>end<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token comment\">//0~end</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token comment\">// 0 1   1 2   2 3  ....</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> second <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> second <span class=\"token operator\">&lt;=</span> end<span class=\"token punctuation\">;</span> second<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">[</span>second<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span>arrs<span class=\"token punctuation\">[</span>second<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                    <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">,</span>second<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>second<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>     * æ’å…¥æ’åº</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>     * åƒä½ ç©æ‰‘å…‹æ•´ç‰Œä¸€æ ·ï¼Œæ‰‹ä¸Šçš„ç‰Œå·²ç»æœ‰åºäº†ï¼Œä½ æ–°æ‹¿æ¥ä¸€ä¸ªç‰Œï¼Œä»å³å¾€å·¦ä¸€ä¸ªä¸€ä¸ªå¯¹æ¯”ï¼Œæ‰¾åˆ°è‡ªå·±çš„ä½ç½®æ’å…¥</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>     * @param arrs</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">insertSort1</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arrs<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> arrs<span class=\"token punctuation\">.</span>length<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token comment\">//0~1</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token comment\">//0~2</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token comment\">//0~3</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token comment\">//0~n-1</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">N</span><span class=\"token operator\">=</span>arrs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token class-name\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>            <span class=\"token keyword\">int</span> endNum<span class=\"token operator\">=</span>i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>            <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>endNum<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">></span><span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> arrs<span class=\"token punctuation\">[</span>endNum<span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>arrs<span class=\"token punctuation\">[</span>endNum<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>                <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">,</span>endNum<span class=\"token punctuation\">,</span>endNum<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>                endNum<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">insertSort2</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arrs<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> arrs<span class=\"token punctuation\">.</span>length<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token comment\">//0~1</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token comment\">//0~2</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token comment\">//0~3</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token comment\">//0~n-1</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token keyword\">int</span> <span class=\"token class-name\">N</span><span class=\"token operator\">=</span>arrs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token class-name\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>            <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> endNum<span class=\"token operator\">=</span>i<span class=\"token punctuation\">;</span>endNum<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">></span><span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> arrs<span class=\"token punctuation\">[</span>endNum<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span>arrs<span class=\"token punctuation\">[</span>endNum<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">;</span>endNum <span class=\"token operator\">--</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>                <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">,</span>endNum<span class=\"token punctuation\">,</span>endNum<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arrs<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        <span class=\"token keyword\">int</span> tmp<span class=\"token operator\">=</span>arrs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        arrs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>arrs<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        arrs<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>tmp<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">printArray</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arrs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arrs<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">17</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        <span class=\"token function\">printArray</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre><span class=\"token comment\">//        selectSort(arrs);</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre><span class=\"token comment\">//        bubbleSort(arrs);</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>        <span class=\"token function\">insertSort1</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>        <span class=\"token function\">printArray</span><span class=\"token punctuation\">(</span>arrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•"
            ]
        },
        {
            "id": "https://blog.dabing.cool/hexo/Valine-Admin/",
            "url": "https://blog.dabing.cool/hexo/Valine-Admin/",
            "title": "ä½¿ç”¨Valine-Adminå®ç°è¯„è®ºé‚®ä»¶æé†’",
            "date_published": "2022-08-30T14:46:25.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabingï¼ˆç‹ç”œç”œï¼‰<br>\nvaline æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly92YWxpbmUuanMub3JnL25vdGlmeS5odG1s\">https://valine.js.org/notify.html</span></p>\n<p>github åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0Rlc2VydHNQL1ZhbGluZS1BZG1pbg==\">https://github.com/DesertsP/Valine-Admin</span></p>\n<p>ä½¿ç”¨è¯´æ˜å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3poYW9qdW4xOTk4L1ZhbGluZS1BZG1pbg==\">https://github.com/zhaojun1998/Valine-Admin</span></p>\n<p>ä¸ºå•¥ç”¨è¿™ä¸ªå‘¢ï¼Ÿäººå®˜æ–¹æ¨èçš„ï¼Œé‚£è‚¯å®šæ˜¯æ¯”è¾ƒé€‚é…çš„äº†ã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901102318063.png\" alt=\"img\"></p>\n<p>ä½¿ç”¨è¿™ä¸ª valine-admin è¯„è®ºå‰ææ˜¯ä½ å‰é¢çš„è¯„è®ºç³»ç»Ÿå·²ç»æ­£å¸¸ä½¿ç”¨ï¼Œå¹¶ä¸” leancloud æ•°æ®å­˜å‚¨ä¹Ÿé…å¥½äº†ã€‚</p>\n<p>å°±åªæ˜¯æ·»åŠ ä¸€ä¸ªé‚®ä»¶æé†’çš„åŠŸèƒ½è€Œå·²ã€‚</p>\n<p>ä»¥ä¸Šè¯„è®ºç³»ç»Ÿçš„æ€ä¹ˆé…ï¼Ÿå¯ä»¥å‚è€ƒ valine çš„å®˜ç½‘æ–‡æ¡£ï¼Œå¾ˆè¯¦ç»†ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly92YWxpbmUuanMub3JnL3F1aWNrc3RhcnQuaHRtbA==\">https://valine.js.org/quickstart.html</span></p>\n<h1 id=\"åœ¨-leancloud-éƒ¨ç½²-valine-admin\"><a class=\"markdownIt-Anchor\" href=\"#åœ¨-leancloud-éƒ¨ç½²-valine-admin\">#</a> åœ¨ LeanCloud éƒ¨ç½² Valine-Admin</h1>\n<p>è¿›å…¥<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jb25zb2xlLmxlYW5jbG91ZC5jbi9hcHBz\"> LeanCloud</span> å¯¹åº”çš„ Valine åº”ç”¨é‡Œå»ã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901103247667.png\" alt=\"img\"></p>\n<h2 id=\"1-éƒ¨ç½²-git-é¡¹ç›®\"><a class=\"markdownIt-Anchor\" href=\"#1-éƒ¨ç½²-git-é¡¹ç›®\">#</a> 1. éƒ¨ç½² git é¡¹ç›®</h2>\n<p>ç‚¹å‡»  <code>äº‘å¼•æ“</code>  -&gt;  <code>WEB</code>  -&gt;  <code>éƒ¨ç½²</code>  ï¼ŒæŒ‰ github æ‰€è¯´ï¼Œåœ¨éƒ¨ç½²é¡¹ç›®ä¸­å¡«å†™ä»£ç åº“ï¼š</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3poYW9qdW4xOTk4L1ZhbGluZS1BZG1pbg==\">https://github.com/zhaojun1998/Valine-Admin</span></p>\n<p>æ‰‹åŠ¨éƒ¨ç½²ï¼Œå†ç‚¹å‡»éƒ¨ç½²æŒ‰é’®å³å¯ã€‚</p>\n<p>ä½†æ˜¯ä½œè€…è¿™ä¸ªä»£ç  node.js æ˜¯ 6 ç‰ˆæœ¬çš„ï¼Œç‰ˆæœ¬ä¸å¯¹ï¼Œä½¿ç”¨ä½œè€…çš„å¯èƒ½ä¼šéƒ¨ç½²å¤±è´¥ã€‚è¿™ä¸ªåé¢å±•ç¤ºã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901105142332.png\" alt=\"img\"></p>\n<p><strong>é—®é¢˜</strong>ï¼šä¼šæŠ¥å¦‚ä¸‹è¿™æ ·çš„é”™</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901105317095.png\" alt=\"img\"></p>\n<p>ç”±äº node.js ç‰ˆæœ¬è¿‡ä½å¯¼è‡´ã€‚</p>\n<p><strong>è§£å†³</strong>ï¼š</p>\n<ol>\n<li>æŠŠä½œè€…çš„é¡¹ç›® fork åˆ°è‡ªå·±ä»“åº“ä¸‹ï¼Œä¿®æ”¹ package.json çš„ node ç‰ˆæœ¬ä¸º 12.x å³å¯</li>\n<li>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æˆ‘çš„åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RhYmluZzg1L1ZhbGluZS1BZG1pbg==\">https://github.com/dabing85/Valine-Admin</span></li>\n</ol>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901110153266.png\" alt=\"img\"></p>\n<h2 id=\"2-é‚®ä»¶ç¯å¢ƒå˜é‡é…ç½®\"><a class=\"markdownIt-Anchor\" href=\"#2-é‚®ä»¶ç¯å¢ƒå˜é‡é…ç½®\">#</a> 2. é‚®ä»¶ç¯å¢ƒå˜é‡é…ç½®</h2>\n<p>ç‚¹å‡»  <code>äº‘å¼•æ“</code>  -&gt;  <code>WEB</code>  -&gt;  <code>è®¾ç½®</code>  ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæ·»åŠ å˜é‡å¦‚ä¸‹ï¼š</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901144642095.png\" alt=\"img\"></p>\n<p>æˆ‘æ·»åŠ çš„éƒ½æ˜¯å¿…å¡«ï¼Œå†åŠ ä¸€ä¸ªåŸŸåçš„å‚æ•°:</p>\n<ul>\n<li>\n<p><strong>SITE_NAME</strong> : ç½‘ç«™åç§°ã€‚</p>\n</li>\n<li>\n<p><strong>SITE_URL</strong> : ç½‘ç«™åœ°å€ã€‚</p>\n</li>\n<li>\n<p><strong>SMTP_USER</strong> : SMTP æœåŠ¡ç”¨æˆ·åï¼Œä¸€èˆ¬ä¸ºé‚®ç®±åœ°å€ã€‚</p>\n</li>\n<li>\n<p><strong>SMTP_PASS</strong> : SMTP å¯†ç ï¼Œä¸€èˆ¬ä¸ºæˆæƒç ï¼Œè€Œä¸æ˜¯é‚®ç®±çš„ç™»é™†å¯†ç ï¼Œè¯·è‡ªè¡ŒæŸ¥è¯¢å¯¹åº”é‚®ä»¶æœåŠ¡å•†çš„è·å–æ–¹å¼ã€‚<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZXJ2aWNlLm1haWwucXEuY29tL2NnaS1iaW4vaGVscD9zdWJ0eXBlPTEmYW1wO2lkPTI4JmFtcDtubz0xMDAxMjU2\">QQ é‚®ç®±è·å–æˆæƒç </span> <span class=\"exturl\" data-url=\"aHR0cDovL2hlbHAubWFpbC4xNjMuY29tL2ZhcURldGFpbC5kbz9jb2RlPWQ3YTVkYzg0NzFjZDBjMGU4YjRiOGY0ZjhlNDk5OThiMzc0MTczY2ZlOTE3MTMwNWZhMWNlNjMwZDdmNjdhYzJjZGE4MDE0NWExNzQyNTE2\">ç½‘æ˜“é‚®ç®±è·å–æˆæƒç </span></p>\n</li>\n<li>\n<p><strong>SMTP_SERVICE</strong> : é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œæ”¯æŒ  <code>QQ</code>  ã€  <code>163</code>  ã€  <code>126</code>  ã€  <code>Gmail</code>  ã€ <code>Yahoo</code>  ã€ â€¦ ï¼Œå…¨éƒ¨æ”¯æŒè¯·å‚è€ƒ : <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ub2RlbWFpbGVyLmNvbS9zbXRwL3dlbGwta25vd24vI3N1cHBvcnRlZC1zZXJ2aWNlcw==\">Nodemailer Supported services</span>ã€‚ â€” å¦‚è¿™é‡Œæ²¡æœ‰ä½ ä½¿ç”¨çš„é‚®ä»¶æä¾›å•†ï¼Œè¯·æŸ¥çœ‹<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RhYmluZzg1L1ZhbGluZS1BZG1pbi9ibG9iL21hc3Rlci8lRTklQUIlOTglRTclQkElQTclRTklODUlOEQlRTclQkQlQUUubWQjJUU4JTg3JUFBJUU1JUFFJTlBJUU0JUI5JTg5JUU5JTgyJUFFJUU0JUJCJUI2JUU2JTlDJThEJUU1JThBJUExJUU1JTk5JUE4\">è‡ªå®šä¹‰é‚®ä»¶æœåŠ¡å™¨</span></p>\n</li>\n<li>\n<p><strong>SENDER_NAME</strong>: å¯„ä»¶äººåç§°ã€‚</p>\n</li>\n<li>\n<p><strong>SENDER_EMAIL</strong> : å‘ä»¶äººé‚®ç®±</p>\n</li>\n</ul>\n<p>ä¹Ÿæœ‰å…¶ä»–å¯é€‰å‚æ•°ï¼š</p>\n<ul>\n<li><strong>ADMIN_URL</strong> ï¼š [å»ºè®®] Web ä¸»æœºäºŒçº§åŸŸåï¼ˆäº‘å¼•æ“åŸŸåï¼‰ï¼Œç”¨äºè‡ªåŠ¨å”¤é†’</li>\n<li><strong>BLOGGER_EMAIL</strong> ï¼š [å¯é€‰] åšä¸»é€šçŸ¥æ”¶ä»¶åœ°å€ï¼Œé»˜è®¤ä½¿ç”¨ SENDER_EMAIL</li>\n<li><strong>AKISMET_KEY</strong> ï¼š [å¯é€‰] Akismet Key ç”¨äºåƒåœ¾è¯„è®ºæ£€æµ‹ï¼Œè®¾ä¸º MANUAL_REVIEW å¼€å¯äººå·¥å®¡æ ¸ï¼Œç•™ç©ºä¸ä½¿ç”¨ååƒåœ¾</li>\n</ul>\n<p>å¦‚æœæ²¡ç»‘å®šåŸŸåçš„è¯ï¼Œå¯ä»¥ä¸å¡« ADMIN_URL è¿™ä¸ªå‚æ•°ï¼Œä¹Ÿèƒ½ç”¨ï¼Œåªä¸è¿‡ leancloud æ¯å¤©ä¼šæœ‰ä¼‘çœ  6 å°æ—¶ï¼Œæ²¡æœ‰è¯·æ±‚ 30 åˆ†é’Ÿå°±ä¼šä¼‘çœ äº†ï¼Œç»‘å®šåŸŸåæ˜¯ä¸ºäº†èƒ½åšå®šæ—¶ä»»åŠ¡è‡ªåŠ¨å”¤é†’ã€‚(ä¸‹é¢ä¼šåšå±•ç¤º)</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901145720995.png\" alt=\"img\"></p>\n<p>å®Œæˆä¸Šé¢ä¸¤æ­¥å…¶å®éƒ½å·²ç»å¯ä»¥ä½¿ç”¨äº†ã€‚ä¸è®°å¾—è¦ä¸è¦é‡å¯äº†ã€‚è‡ªå·±æµ‹è¯•æµ‹è¯•ã€‚</p>\n<h2 id=\"3-leancloud-ä¼‘çœ ç­–ç•¥\"><a class=\"markdownIt-Anchor\" href=\"#3-leancloud-ä¼‘çœ ç­–ç•¥\">#</a> 3. LeanCloud ä¼‘çœ ç­–ç•¥</h2>\n<p>å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3poYW9qdW4xOTk4L1ZhbGluZS1BZG1pbi9ibG9iL21hc3Rlci8lRTklQUIlOTglRTclQkElQTclRTklODUlOEQlRTclQkQlQUUubWQjbGVhbmNsb3VkLSVFNCVCQyU5MSVFNyU5QyVBMCVFNyVBRCU5NiVFNyU5NSVBNQ==\">LeanCloud ä¼‘çœ ç­–ç•¥</span></p>\n<blockquote>\n<ol>\n<li>ç»‘å®šåŸŸå</li>\n<li>æ·»åŠ ä¸Šé…ç½®é¡¹ï¼ˆç¯å¢ƒå˜é‡ï¼‰</li>\n<li>é…ç½®å®šæ—¶ä»»åŠ¡</li>\n</ol>\n</blockquote>\n<ol>\n<li>ç»‘å®šåŸŸå</li>\n</ol>\n<p>åŒæ ·åœ¨  <code>äº‘å¼•æ“</code>  -&gt;  <code>WEB</code>  -&gt;  <code>è®¾ç½®</code>  ï¼Œç»‘å®šåŸŸåã€‚</p>\n<p>æ®è¯´ä»¥å‰æ˜¯æœ‰ leancloud æœ‰æä¾›ä»¥å‰å…±äº«çš„äºŒçº§åŸŸåï¼Œä½†æ˜¯ç°åœ¨å–æ¶ˆäº†ï¼Œæˆ‘è¿™ä¸ªæ˜¯è‡ªå·±åœ¨è…¾è®¯äº‘ç§Ÿçš„ä¸€å¹´ï¼Œ618 ç§Ÿçš„ï¼Œæ‰åå‡ å—é’±ä¸€å¹´ã€‚</p>\n<p>ç¼–ä¸€ä¸ªä¸‰çº§åŸŸåï¼Œä¸ºäº†å¥½åŒºåˆ†æˆ‘ç›´æ¥å†™ leancloudã€‚ ç„¶åå»è…¾è®¯äº‘è§£æåŸŸåï¼Œè®°å½•ç±»å‹æ˜¯ CNAMEï¼Œè®°å½•å€¼å¡« leancloud æ¨èçš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå³æˆ‘ä¸‹é¢æ¡†èµ·æ¥çš„é‚£ä¸ªã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901150934361.png\" alt=\"img\"></p>\n<p>è§£æå®Œä¹‹åç­‰ç­‰åˆ·æ–°ä¸€ä¸‹ï¼Œå°±æ˜¾ç¤ºå·²ç»‘å®šçŠ¶æ€äº†ã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901151247337.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li>æ·»åŠ ä¸Šé…ç½®é¡¹ï¼ˆç¯å¢ƒå˜é‡ï¼‰</li>\n</ol>\n<p>å³ <strong>ADMIN_URL</strong> ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFuY2xvdWQuZGFiaW5nLmNvb2wv\">https://leancloud.dabing.cool/</span></p>\n<p>å¯ä»¥çœ‹æˆ‘ä¸Šè¾¹çš„æˆªå›¾</p>\n<ol start=\"3\">\n<li>é…ç½®å®šæ—¶ä»»åŠ¡</li>\n</ol>\n<p>ç‚¹å‡»  <code>å®šæ—¶ä»»åŠ¡</code>  -&gt;  <code>åˆ›å»ºå®šæ—¶ä»»åŠ¡</code></p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220905143608005.png\" alt=\"image-20220905143608005\"></p>\n<p><code>self_wake</code>  ï¼Œcron è¡¨è¾¾å¼ï¼š  <code>0 */30 0-16 * * ?</code>  ï¼Œè¡¨ç¤ºæ¯å¤© 0 ç‚¹åˆ° 16 ç‚¹æ¯åŠå°æ—¶å”¤é†’ä¸€æ¬¡</p>\n<p><code>resend_mails</code>  ï¼Œ cron è¡¨è¾¾å¼ï¼š  <code>0 0 0 * * ?</code>  ï¼Œè¡¨ç¤ºæ£€æŸ¥ 24 å°æ—¶ä»¥å‰æœ‰æ— æ¼å‘é‚®ä»¶ï¼Œæœ‰åˆ™é‡å‘ å†åˆ°éƒ¨ç½²å‡ºé‡å¯éƒ¨ç½²å³å¯ã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220901151813671.png\" alt=\"img\"></p>\n<p>æˆåŠŸå”¤é†’çš„çŠ¶æ€ç æ˜¯ 200</p>\n<p><img data-src=\"https://www.vipyubai.top//dabing/image-20220901152512376.png\" alt=\"img\"></p>\n<h2 id=\"è¡¥å……\"><a class=\"markdownIt-Anchor\" href=\"#è¡¥å……\">#</a> è¡¥å……</h2>\n<p>é…ç½®äº†å®šæ—¶ä»»åŠ¡ä¹‹åå½“å¤©æˆ‘æ²¡å‘ç°ä»€ä¹ˆé—®é¢˜ï¼Œè¿‡ä¸¤å¤©æˆ‘å‘ç°æ—¥å¿—é‡Œæœ‰æŠ¥é”™ä¿¡æ¯ï¼š</p>\n<p><strong>&quot;error&quot;:&quot; å› æµæ§åŸå› ï¼Œé€šè¿‡å®šæ—¶ä»»åŠ¡å”¤é†’ä½“éªŒç‰ˆå®ä¾‹å¤±è´¥ï¼Œå»ºè®®å‡çº§è‡³æ ‡å‡†ç‰ˆäº‘å¼•æ“å®ä¾‹é¿å…ä¼‘çœ </strong></p>\n<p>ä¹Ÿæœ‰æˆåŠŸçš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ä» 7 ç‚¹å¼€å§‹å°±æ˜¯å”¤é†’å¤±è´¥çš„ã€‚</p>\n<p><img data-src=\"http://image.dabing.cool/image/image-20220905150734160.png\" alt=\"image-20220905150734160\"></p>\n<p>ç™¾åº¦äº†ä¸€ä¸‹ï¼š</p>\n<p>å¤§å®¶å¯ä»¥å‚è€ƒ [ä¼˜é›…è§£å†³ LeanCloud æµæ§é—®é¢˜](<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNjI4OTUw\">ä¼˜é›…è§£å†³ LeanCloud æµæ§é—®é¢˜ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)</span>), æˆ–è€…å†ç™¾åº¦çœ‹çœ‹åˆ«çš„ã€‚æˆ‘ä¸æŠ˜è…¾äº†</p>\n<p><img data-src=\"http://image.dabing.cool/image/kf7k2w33cj.png\" alt=\"preload\"></p>\n",
            "tags": [
                "Hexo",
                "Valine-Admin"
            ]
        },
        {
            "id": "https://blog.dabing.cool/javamore/cache/redis%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E6%A0%A1%E9%AA%8C/",
            "url": "https://blog.dabing.cool/javamore/cache/redis%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E6%A0%A1%E9%AA%8C/",
            "title": "Rediså®ç°æ‰‹æœºéªŒè¯ç æ ¡éªŒ",
            "date_published": "2022-08-20T02:10:10.000Z",
            "content_html": "<h2 id=\"ç›®æ ‡-å®Œæˆä¸€ä¸ªæ‰‹æœºéªŒè¯ç åŠŸèƒ½\"><a class=\"markdownIt-Anchor\" href=\"#ç›®æ ‡-å®Œæˆä¸€ä¸ªæ‰‹æœºéªŒè¯ç åŠŸèƒ½\">#</a> ç›®æ ‡ - å®Œæˆä¸€ä¸ªæ‰‹æœºéªŒè¯ç åŠŸèƒ½</h2>\n<p><strong>è¦æ±‚ï¼š</strong><br>\n1ã€è¾“å…¥æ‰‹æœºå·ï¼Œç‚¹å‡»å‘é€åéšæœºç”Ÿæˆ 6 ä½æ•°å­—ç ï¼Œ2 åˆ†é’Ÿæœ‰æ•ˆ<br>\n 2ã€è¾“å…¥éªŒè¯ç ï¼Œç‚¹å‡»éªŒè¯ï¼Œè¿”å›æˆåŠŸæˆ–å¤±è´¥<br>\n 3ã€æ¯ä¸ªæ‰‹æœºå·æ¯å¤©åªèƒ½è¾“å…¥ 3 æ¬¡</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731164343801.png\" alt=\"image-20220731164343801\"></p>\n<p><strong>å®ç°ï¼š</strong></p>\n<h3 id=\"å‰ç«¯ä»£ç \"><a class=\"markdownIt-Anchor\" href=\"#å‰ç«¯ä»£ç \">#</a> å‰ç«¯ä»£ç ï¼š</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>@ page language<span class=\"token operator\">=</span><span class=\"token string\">\"java\"</span> contentType<span class=\"token operator\">=</span><span class=\"token string\">\"text/html; charset=UTF-8\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    pageEncoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">%</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token constant\">DOCTYPE</span> html<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>html<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>meta charset<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>Insert title here<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">&lt;</span>script  src<span class=\"token operator\">=</span><span class=\"token string\">\"static/jquery/jquery-3.1.0.js\"</span> <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">&lt;</span>link href<span class=\"token operator\">=</span><span class=\"token string\">\"static/bs/css/bootstrap.min.css\"</span> rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">&lt;</span>script  src<span class=\"token operator\">=</span><span class=\"token string\">\"static/bs/js/bootstrap.min.js\"</span>   <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>   <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"container\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"row\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t    <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"alertdiv\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"col-md-12\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t          <span class=\"token operator\">&lt;</span>form <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"navbar-form navbar-left\"</span> role<span class=\"token operator\">=</span><span class=\"token string\">\"search\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"codeform\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t\t\t  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"form-group\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"form-control\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"å¡«å†™æ‰‹æœºå·\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"phone_no\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"btn btn-default\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"sendCode\"</span><span class=\"token operator\">></span>å‘é€éªŒè¯ç <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span>font id<span class=\"token operator\">=</span><span class=\"token string\">\"countdown\"</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span> <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>font<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"form-control\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"å¡«å†™éªŒè¯ç \"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"verify_code\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"btn btn-default\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"verifyCode\"</span><span class=\"token operator\">></span>ç¡®å®š<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span>font id<span class=\"token operator\">=</span><span class=\"token string\">\"result\"</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"green\"</span> <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>font<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>font id<span class=\"token operator\">=</span><span class=\"token string\">\"error\"</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span> <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>font<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t\t\t    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>   <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span> </pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token keyword\">var</span> t<span class=\"token operator\">=</span><span class=\"token number\">120</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// è®¾å®šå€’è®¡æ—¶çš„æ—¶é—´ </span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token keyword\">var</span> interval<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">refer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#countdown\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¯·äº\"</span><span class=\"token operator\">+</span>t<span class=\"token operator\">+</span><span class=\"token string\">\"ç§’å†…å¡«å†™éªŒè¯ç  \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ˜¾ç¤ºå€’è®¡æ—¶ </span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    t<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¡æ•°å™¨é€’å‡ </span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>t<span class=\"token operator\">&lt;=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    \t<span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    \t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#countdown\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"éªŒè¯ç å·²å¤±æ•ˆï¼Œè¯·é‡æ–°å‘é€ï¼ \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token punctuation\">&#125;</span> </pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#sendCode\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>\t       </pre></td></tr><tr><td data-num=\"48\"></td><td><pre>\t\t   $<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SendCodeServlet\"</span><span class=\"token punctuation\">,</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#codeform\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">serialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>\t    \t <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>data<span class=\"token operator\">==</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>\t    \t\t t<span class=\"token operator\">=</span><span class=\"token number\">120</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>\t    \t\t <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>\t    \t\t interval<span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"refer()\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// å¯åŠ¨ 1 ç§’å®šæ—¶  </span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>\t   \t\t <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data<span class=\"token operator\">==</span><span class=\"token string\">\"limit\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>\t   \t\t\t<span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>\t   \t\t\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#countdown\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å•æ—¥å‘é€è¶…è¿‡æ¬¡æ•°ï¼ \"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>\t   \t\t <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>\t\t  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   </pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#verifyCode\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>\t    </pre></td></tr><tr><td data-num=\"62\"></td><td><pre>\t\t   $<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CheckCodeServlet\"</span><span class=\"token punctuation\">,</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#codeform\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">serialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>\t    \t <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>data<span class=\"token operator\">==</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>\t    \t\t <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#result\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"color\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"green\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>\t    \t\t <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#result\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"éªŒè¯æˆåŠŸ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>\t    \t\t <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>\t    \t\t <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#countdown\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>\t   \t\t <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>\t    \t\t <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#result\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"color\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>\t    \t\t <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#result\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"éªŒè¯å¤±è´¥\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>\t   \t\t <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>\t\t  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   </pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"76\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"åç«¯ä»£ç \"><a class=\"markdownIt-Anchor\" href=\"#åç«¯ä»£ç \">#</a> åç«¯ä»£ç ï¼š</h3>\n<ol>\n<li>ç‚¹å‡»å‘é€éªŒè¯ç æ—¶ï¼š</li>\n</ol>\n<p>å°†æ•°æ®å­˜å…¥ redis ä¸­</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>dabing<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>servlet</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">redis<span class=\"token punctuation\">.</span>clients<span class=\"token punctuation\">.</span>jedis<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Jedis</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ServletException</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">WebServlet</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServlet</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletRequest</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletResponse</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Duration</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">LocalTime</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Random</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">// å¤„ç†å‘é€éªŒè¯ç çš„ Servlet</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token annotation punctuation\">@WebServlet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/SendCodeServlet\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SendCodeServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">String</span> phoneNo <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"phone_no\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>phoneNo<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>phoneNo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">Jedis</span> jedis <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Jedis</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx.xxx.xx.xx\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">6379</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">String</span> countKey<span class=\"token operator\">=</span>phoneNo<span class=\"token operator\">+</span><span class=\"token string\">\":count\"</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// ç”ŸæˆéªŒè¯ç çš„æ¬¡æ•° key</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">String</span> codeKey<span class=\"token operator\">=</span>phoneNo<span class=\"token operator\">+</span><span class=\"token string\">\":code\"</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// æ‰‹æœºéªŒè¯ç  key</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">String</span> count <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>countKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token class-name\">String</span> code<span class=\"token operator\">=</span><span class=\"token function\">getCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"code=\"</span><span class=\"token operator\">+</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>count<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token comment\">// è¯æ˜æ²¡æœ‰å‘é€è¿‡éªŒè¯ç </span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token comment\">// ä¿å­˜éªŒè¯ç åˆ° redisï¼Œè¿‡æœŸæ—¶é—´ 120 ç§’</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            jedis<span class=\"token punctuation\">.</span><span class=\"token function\">setex</span><span class=\"token punctuation\">(</span>codeKey<span class=\"token punctuation\">,</span><span class=\"token number\">120</span><span class=\"token punctuation\">,</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token comment\">// è®¾ç½®è¿‡æœŸæ—¶é—´ä¸ºä»Šå¤©çš„å‰©ä½™æ—¶é—´</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            jedis<span class=\"token punctuation\">.</span><span class=\"token function\">setex</span><span class=\"token punctuation\">(</span>countKey<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token function\">getTheLeftSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            response<span class=\"token punctuation\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"3\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token comment\">// è¯æ˜å·²ç»å‘é€è¿‡ 3 æ¬¡äº†</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            response<span class=\"token punctuation\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"limit\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// è¿”å›ä¸è®©å‘äº†</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token comment\">// è¯æ˜å·²ç»å‘è¿‡ï¼Œä½†æ˜¯æ¬¡æ•°æ²¡è¾¾åˆ° 3 æ¬¡</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            jedis<span class=\"token punctuation\">.</span><span class=\"token function\">setex</span><span class=\"token punctuation\">(</span>codeKey<span class=\"token punctuation\">,</span><span class=\"token number\">120</span><span class=\"token punctuation\">,</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            jedis<span class=\"token punctuation\">.</span><span class=\"token function\">incr</span><span class=\"token punctuation\">(</span>countKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// æ¬¡æ•°åŠ  1</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            response<span class=\"token punctuation\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token comment\">// éšæœºç”ŸæˆéªŒè¯ç çš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getCode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> len<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">String</span> code <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token keyword\">int</span> rand <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            code <span class=\"token operator\">+=</span> rand<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token keyword\">return</span> code<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token comment\">// è·å–å½“å¤©å‰©ä½™ç§’æ•°çš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> <span class=\"token function\">getTheLeftSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token comment\">// è·å–ç°åœ¨çš„æ—¶é—´</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token class-name\">LocalTime</span> now <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token comment\">// è·å–å½“æ—¥ 23 ç‚¹ 59 åˆ† 59 ç§’çš„æ—¶é—´</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token class-name\">LocalTime</span> end <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">59</span><span class=\"token punctuation\">,</span> <span class=\"token number\">59</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token comment\">// è·å– end ä¸ now ç›¸å·®çš„ç§’æ•°</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token keyword\">long</span> millis <span class=\"token operator\">=</span> <span class=\"token class-name\">Duration</span><span class=\"token punctuation\">.</span><span class=\"token function\">between</span><span class=\"token punctuation\">(</span>now<span class=\"token punctuation\">,</span> end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">1000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token keyword\">return</span> millis<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>è¾“å…¥éªŒè¯ç æ ¡éªŒæ—¶</li>\n</ol>\n<p>ä» redis ä¸­å–å‡ºå¯¹æ¯”</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>dabing<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>servlet</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">redis<span class=\"token punctuation\">.</span>clients<span class=\"token punctuation\">.</span>jedis<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Jedis</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ServletException</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">WebServlet</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServlet</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletRequest</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletResponse</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// å¤„ç†éªŒè¯éªŒè¯ç è¯·æ±‚çš„ Servlet</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@WebServlet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/CheckCodeServlet\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CheckCodeServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">String</span> code<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"verify_code\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">String</span> phoneNo<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"phone_no\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>code<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token operator\">||</span>phoneNo<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token operator\">||</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span><span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>phoneNo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">Jedis</span> jedis <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Jedis</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx.xx.xxx.xx\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">6379</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">String</span> codeKey<span class=\"token operator\">=</span>phoneNo <span class=\"token operator\">+</span> <span class=\"token string\">\":code\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">String</span> codeRedis <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>codeKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>codeRedis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            jedis<span class=\"token punctuation\">.</span><span class=\"token function\">del</span><span class=\"token punctuation\">(</span>codeKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            response<span class=\"token punctuation\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "Redis"
            ]
        },
        {
            "id": "https://blog.dabing.cool/javamore/cache/%E4%BD%BF%E7%94%A8Jedis%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8Redis/",
            "url": "https://blog.dabing.cool/javamore/cache/%E4%BD%BF%E7%94%A8Jedis%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8Redis/",
            "title": "ç”¨Jedisè¿æ¥Redis",
            "date_published": "2022-08-20T02:10:10.000Z",
            "content_html": "<p>ğŸš¨ğŸš¨å…ˆè¯´æ˜ï¼Œåšä¸‹é¢æ“ä½œï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨çš„è¯ï¼Œä¿®æ”¹ç«¯å£ 6379 ä¸ºå…¬å¼€ã€ä¸è®¾ç½® redis å¯†ç è¿™äº›æ“ä½œéƒ½æ˜¯å¾ˆå±é™©çš„ï¼ï¼ï¼ä¸€å®šè¦è®¾ç½®å¯†ç ï¼Œå¯ä»¥æ”¹ç«¯å£å·ï¼Œåªè¦ä¸æ˜¯ 6379 éƒ½è¡Œï¼Œç„¶åä¹Ÿä¸è¦å…¬å¼€ï¼Œå°±è®¾ç½®è‡ªå·±æœ¬æœºçš„ ip å³å¯ï¼Œæˆ‘ä¸‹é¢æ²¡æœ‰åšæ›´æ”¹ã€‚</p>\n<p>è¡€çš„æ•™è®­ï¼Œæˆ‘å°±è¢«æ”»å‡»äº†ï¼Œå¯å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NpbmRlcmVsbGFfX18vYXJ0aWNsZS9kZXRhaWxzLzgwMzkxNTYz\"> æŒ–çŸ¿ï¼Ÿå…¥ä¾µï¼Ÿæœ¨é©¬ï¼Ÿéƒ½æ˜¯ redis æ²¡è®¾å¯†ç æçš„é¬¼</span></p>\n<h2 id=\"1-jedisæ‰€éœ€è¦çš„jaråŒ…\"><a class=\"markdownIt-Anchor\" href=\"#1-jedisæ‰€éœ€è¦çš„jaråŒ…\">#</a> 1 - Jedis æ‰€éœ€è¦çš„ jar åŒ…</h2>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>redis.clients<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>jedis<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>3.2.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h2 id=\"2-è¿æ¥redisæ³¨æ„äº‹é¡¹\"><a class=\"markdownIt-Anchor\" href=\"#2-è¿æ¥redisæ³¨æ„äº‹é¡¹\">#</a> 2 - è¿æ¥ Redis æ³¨æ„äº‹é¡¹</h2>\n<p>ç¦ç”¨ Linux çš„é˜²ç«å¢™ï¼šLinux (CentOS7) é‡Œæ‰§è¡Œå‘½ä»¤</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>æŸ¥çœ‹çŠ¶æ€ï¼š systemctl status firewalld</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>å…³é—­ï¼š systemctl stop firewalld</pre></td></tr></table></figure><p>redis.conf ä¸­æ³¨é‡Šæ‰ bind 127.0.0.1 , ç„¶å protected-mode no</p>\n<h2 id=\"3-jedisè¿æ¥æµ‹è¯•\"><a class=\"markdownIt-Anchor\" href=\"#3-jedisè¿æ¥æµ‹è¯•\">#</a> 3 - Jedis è¿æ¥æµ‹è¯•</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>dabing<span class=\"token punctuation\">.</span>jedis</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">redis<span class=\"token punctuation\">.</span>clients<span class=\"token punctuation\">.</span>jedis<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Jedis</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Demo01</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     * æµ‹è¯•è¿æ¥ Redis æœåŠ¡</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     * èƒ½è¿æ¥ä¸Šçš„å‰æï¼š</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     * 1. å…³é—­ linux çš„é˜²ç«å¢™</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * 2. ä¿®æ”¹ Redis çš„é…ç½®æ–‡ä»¶</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     *      2.1 å°† bind 127.0.0.1 æ³¨é‡Šæ‰</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     *      2.2 å°†ä¿æŠ¤æ¨¡å¼å…³é—­ï¼Œå³ protected-mode çš„å€¼è®¾ç½®ä¸º no</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">connectionTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Jedis</span> jedis <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Jedis</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"192.168.22.3\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">6379</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿™ä¸ªä¸»æœºæˆ‘çå†™çš„ï¼Œå†™è‡ªå·±çš„</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">String</span> pong <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">ping</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿æ¥æˆåŠŸï¼š\"</span><span class=\"token operator\">+</span>pong<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"4-æµ‹è¯•ç›¸å…³æ•°æ®ç±»å‹\"><a class=\"markdownIt-Anchor\" href=\"#4-æµ‹è¯•ç›¸å…³æ•°æ®ç±»å‹\">#</a> 4 - æµ‹è¯•ç›¸å…³æ•°æ®ç±»å‹</h2>\n<h3 id=\"741jedis-api-key\"><a class=\"markdownIt-Anchor\" href=\"#741jedis-api-key\">#</a> 7.4.1.\tJedis-API:    Key</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"v1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"v2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k3\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"v3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> keys <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> key <span class=\"token operator\">:</span> keys<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">ttl</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"742jedis-api-string\"><a class=\"markdownIt-Anchor\" href=\"#742jedis-api-string\">#</a> 7.4.2.\tJedis-API:    String</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">mset</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"str1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"v1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str2\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"v2\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str3\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"v3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">mget</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"str1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str2\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"743jedis-api-list\"><a class=\"markdownIt-Anchor\" href=\"#743jedis-api-list\">#</a> 7.4.3.\tJedis-API:    List</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">lrange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mylist\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> element <span class=\"token operator\">:</span> list<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"744jedis-api-set\"><a class=\"markdownIt-Anchor\" href=\"#744jedis-api-set\">#</a> 7.4.4.\tJedis-API:    set</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order01\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order02\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order03\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order04\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> smembers <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">smembers</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> order <span class=\"token operator\">:</span> smembers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">srem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order02\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"745jedis-api-hash\"><a class=\"markdownIt-Anchor\" href=\"#745jedis-api-hash\">#</a> 7.4.5.\tJedis-API:    hash</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hset</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"lisi\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hget</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"telphone\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"13810169999\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"address\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"atguigu\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"abc@163.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hmset</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash2\"</span><span class=\"token punctuation\">,</span>map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hmget</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"telphone\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> element <span class=\"token operator\">:</span> result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>7.4.6.\tJedis-API:    zset</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"z3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">90d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w5\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"z6\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> zrange <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zrange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> e <span class=\"token operator\">:</span> zrange<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"5-æˆ‘æ»´å®æ“\"><a class=\"markdownIt-Anchor\" href=\"#5-æˆ‘æ»´å®æ“\">#</a> 5- æˆ‘æ»´å®æ“</h2>\n<ol>\n<li>å†™ test è·Ÿä¸Šè¾¹çš„ä¸€æ ·ï¼Œå‘ï¼Œè¿æ¥è¶…æ—¶</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220821201445710.png\" alt=\"image-20220821201445710\"></p>\n<ol start=\"2\">\n<li>å…³é˜²ç«å¢™ã€æ”¹ä¿æŠ¤æ¨¡å¼ä¸º noã€æ³¨é‡Šæ‰ bind 127.0.0.1</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>ã€firewalldçš„åŸºæœ¬ä½¿ç”¨</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>å¯åŠ¨ï¼š systemctl start firewalld</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>å…³é—­ï¼š systemctl stop firewalld</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>æŸ¥çœ‹çŠ¶æ€ï¼š systemctl status firewalld</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>å¼€æœºç¦ç”¨ ï¼š systemctl disable firewalld</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>å¼€æœºå¯ç”¨ ï¼š systemctl <span class=\"token builtin class-name\">enable</span> firewalld</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">2</span>. <span class=\"token function\">vi</span> redis.conf </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token number\">3</span>. å¯åŠ¨redis-server</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220821191948636.png\" alt=\"image-20220821191948636\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220821192558716.png\" alt=\"image-20220821192558716\"></p>\n<p>æ³¨ï¼šæˆ‘è¿™é‡Œå®Œæˆäº†ä»¥ä¸Šä¸¤æ­¥ä¹‹åï¼Œè¿˜æ˜¯æ²¡æœ‰è¿æ¥æˆåŠŸï¼Œç™¾åº¦ä¹‹åå‘ç°åŸæ¥æ˜¯ç”±äºæˆ‘è¿æ¥çš„æ˜¯æœåŠ¡å™¨ï¼Œæ²¡æœ‰æ·»åŠ  6379 ç«¯å£çš„å®‰å…¨ç»„ã€‚</p>\n<p>å¯å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3ODMzMi9hcnRpY2xlL2RldGFpbHMvMTA4NzQxMzY3\">Java ä½¿ç”¨ Jedis åœ¨æœ¬åœ°è¿œç¨‹è¿æ¥è…¾è®¯äº‘æœåŠ¡å™¨ï¼ˆCentOS 7ï¼‰</span></p>\n<p>ä½†æ˜¯æˆ‘çš„æ˜¯è½»é‡çº§æœåŠ¡å™¨ï¼Œçœ‹æ„æ€å°±æ˜¯é˜²ç«å¢™è®¾ç½®äº†ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220821195819961.png\" alt=\"image-20220821195819961\"></p>\n<p>å†æ¥æµ‹è¯•ä¸€æ¬¡ï¼šæˆåŠŸï¼</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220821202013924.png\" alt=\"image-20220821202013924\"></p>\n<p>æ¥ä¸‹æ¥å°±æ˜¯æµ‹è¯•é‚£äº›æ•°æ®äº†ã€‚è·Ÿä¸Šè¾¹çš„æ¥å°±è¡Œã€‚</p>\n",
            "tags": [
                "Redis",
                "Jedis"
            ]
        },
        {
            "id": "https://blog.dabing.cool/javamore/cache/Redis/",
            "url": "https://blog.dabing.cool/javamore/cache/Redis/",
            "title": "Redis",
            "date_published": "2022-07-01T02:00:00.000Z",
            "content_html": "<p>å®˜ç½‘é“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5yZWRpcy5pbw==\">http://www.redis.io</span></p>\n<p>è§†é¢‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMVJ2NDExNzdBZj9zcG1faWRfZnJvbT0zMzMuOTk5LjAuMCZhbXA7dmRfc291cmNlPTEzOWU4MTY4ZDFhZWJiYTg3NGI4MDQ4OTEwMDY2ZDMx\">Redis 6 å°šç¡…è°·</span></p>\n<h1 id=\"ä¸€-nosqlæ•°æ®åº“ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#ä¸€-nosqlæ•°æ®åº“ç®€ä»‹\">#</a> ä¸€ã€NoSQL æ•°æ®åº“ç®€ä»‹</h1>\n<h2 id=\"1-æŠ€æœ¯å‘å±•\"><a class=\"markdownIt-Anchor\" href=\"#1-æŠ€æœ¯å‘å±•\">#</a> 1- æŠ€æœ¯å‘å±•</h2>\n<p>æŠ€æœ¯çš„åˆ†ç±»</p>\n<blockquote>\n<p>1ã€è§£å†³åŠŸèƒ½æ€§çš„é—®é¢˜ï¼šJavaã€Jspã€RDBMSã€Tomcatã€HTMLã€Linuxã€JDBCã€SVN<br>\n2ã€è§£å†³æ‰©å±•æ€§çš„é—®é¢˜ï¼šStrutsã€Springã€SpringMVCã€Hibernateã€Mybatis<br>\n3ã€è§£å†³æ€§èƒ½çš„é—®é¢˜ï¼šNoSQLã€Java çº¿ç¨‹ã€Hadoopã€Nginxã€MQã€ElasticSearch</p>\n</blockquote>\n<h3 id=\"111web10æ—¶ä»£\"><a class=\"markdownIt-Anchor\" href=\"#111web10æ—¶ä»£\">#</a> 1.1.1.\tWeb1.0 æ—¶ä»£</h3>\n<p>Web1.0 çš„æ—¶ä»£ï¼Œæ•°æ®è®¿é—®é‡å¾ˆæœ‰é™ï¼Œç”¨ä¸€å¤«å½“å…³çš„é«˜æ€§èƒ½çš„å•ç‚¹æœåŠ¡å™¨å¯ä»¥è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726231113112.png\" alt=\"image-20220726231113112\"></p>\n<h3 id=\"112web20æ—¶ä»£\"><a class=\"markdownIt-Anchor\" href=\"#112web20æ—¶ä»£\">#</a> 1.1.2.\tWeb2.0 æ—¶ä»£</h3>\n<p>éšç€ Web2.0 çš„æ—¶ä»£çš„åˆ°æ¥ï¼Œç”¨æˆ·è®¿é—®é‡å¤§å¹…åº¦æå‡ï¼ŒåŒæ—¶äº§ç”Ÿäº†å¤§é‡çš„ç”¨æˆ·æ•°æ®ã€‚åŠ ä¸Šåæ¥çš„æ™ºèƒ½ç§»åŠ¨è®¾å¤‡çš„æ™®åŠï¼Œæ‰€æœ‰çš„äº’è”ç½‘å¹³å°éƒ½é¢ä¸´äº†å·¨å¤§çš„æ€§èƒ½æŒ‘æˆ˜ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726231129462.png\" alt=\"image-20220726231129462\"></p>\n<h3 id=\"113è§£å†³cpuåŠå†…å­˜å‹åŠ›\"><a class=\"markdownIt-Anchor\" href=\"#113è§£å†³cpuåŠå†…å­˜å‹åŠ›\">#</a> 1.1.3.\tè§£å†³ CPU åŠå†…å­˜å‹åŠ›</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726231204844.png\" alt=\"image-20220726231204844\"></p>\n<h3 id=\"114è§£å†³ioå‹åŠ›\"><a class=\"markdownIt-Anchor\" href=\"#114è§£å†³ioå‹åŠ›\">#</a> 1.1.4.\tè§£å†³ IO å‹åŠ›</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726231220567.png\" alt=\"image-20220726231220567\"></p>\n<h2 id=\"2-nosqlæ•°æ®åº“\"><a class=\"markdownIt-Anchor\" href=\"#2-nosqlæ•°æ®åº“\">#</a> 2 - NoSQL æ•°æ®åº“</h2>\n<h3 id=\"121nosqlæ•°æ®åº“æ¦‚è¿°\"><a class=\"markdownIt-Anchor\" href=\"#121nosqlæ•°æ®åº“æ¦‚è¿°\">#</a> 1.2.1.\tNoSQL æ•°æ®åº“æ¦‚è¿°</h3>\n<p><strong>NoSQL(NoSQL = Not Only SQL )</strong>ï¼Œæ„å³ â€œä¸ä»…ä»…æ˜¯ SQLâ€ï¼Œæ³›æŒ‡ <code>éå…³ç³»å‹</code> çš„æ•°æ®åº“ã€‚<br>\nNoSQL ä¸ä¾èµ–ä¸šåŠ¡é€»è¾‘æ–¹å¼å­˜å‚¨ï¼Œè€Œä»¥ç®€å•çš„ <code>key-value</code>  æ¨¡å¼å­˜å‚¨ã€‚å› æ­¤å¤§å¤§çš„å¢åŠ äº†æ•°æ®åº“çš„æ‰©å±•èƒ½åŠ›ã€‚</p>\n<ul>\n<li>ä¸éµå¾ª SQL æ ‡å‡†ã€‚</li>\n<li>ä¸æ”¯æŒ ACIDã€‚</li>\n<li>è¿œè¶…äº SQL çš„æ€§èƒ½ã€‚</li>\n</ul>\n<h3 id=\"122nosqlé€‚ç”¨åœºæ™¯\"><a class=\"markdownIt-Anchor\" href=\"#122nosqlé€‚ç”¨åœºæ™¯\">#</a> 1.2.2.\tNoSQL é€‚ç”¨åœºæ™¯</h3>\n<ul>\n<li>å¯¹æ•°æ®é«˜å¹¶å‘çš„è¯»å†™</li>\n<li>æµ·é‡æ•°æ®çš„è¯»å†™</li>\n<li>å¯¹æ•°æ®é«˜å¯æ‰©å±•æ€§çš„</li>\n</ul>\n<h3 id=\"123nosqlä¸é€‚ç”¨åœºæ™¯\"><a class=\"markdownIt-Anchor\" href=\"#123nosqlä¸é€‚ç”¨åœºæ™¯\">#</a> 1.2.3.\tNoSQL ä¸é€‚ç”¨åœºæ™¯</h3>\n<ul>\n<li>\n<p>éœ€è¦äº‹åŠ¡æ”¯æŒ</p>\n</li>\n<li>\n<p>åŸºäº sql çš„ç»“æ„åŒ–æŸ¥è¯¢å­˜å‚¨ï¼Œå¤„ç†å¤æ‚çš„å…³ç³»ï¼Œéœ€è¦ <code>å³å¸­</code>  æŸ¥è¯¢ã€‚</p>\n</li>\n<li>\n<p><strong>ï¼ˆç”¨ä¸ç€ sql çš„å’Œç”¨äº† sql ä¹Ÿä¸è¡Œçš„æƒ…å†µï¼Œè¯·è€ƒè™‘ç”¨ NoSqlï¼‰</strong></p>\n</li>\n</ul>\n<h3 id=\"124memcache\"><a class=\"markdownIt-Anchor\" href=\"#124memcache\">#</a> 1.2.4.\tMemcache</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726231803375.png\" alt=\"image-20220726231803375\"></p>\n<h3 id=\"125redis\"><a class=\"markdownIt-Anchor\" href=\"#125redis\">#</a> 1.2.5.\tRedis</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726231821129.png\" alt=\"image-20220726231821129\"></p>\n<h3 id=\"126mongodb\"><a class=\"markdownIt-Anchor\" href=\"#126mongodb\">#</a> 1.2.6.\tMongoDB</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726231850038.png\" alt=\"image-20220726231850038\"></p>\n<h2 id=\"3-è¡Œå¼å­˜å‚¨æ•°æ®åº“å¤§æ•°æ®æ—¶ä»£\"><a class=\"markdownIt-Anchor\" href=\"#3-è¡Œå¼å­˜å‚¨æ•°æ®åº“å¤§æ•°æ®æ—¶ä»£\">#</a> 3 - è¡Œå¼å­˜å‚¨æ•°æ®åº“ï¼ˆå¤§æ•°æ®æ—¶ä»£ï¼‰</h2>\n<h3 id=\"131è¡Œå¼æ•°æ®åº“\"><a class=\"markdownIt-Anchor\" href=\"#131è¡Œå¼æ•°æ®åº“\">#</a> 1.3.1.\tè¡Œå¼æ•°æ®åº“</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726232027994.png\" alt=\"image-20220726232027994\"></p>\n<h3 id=\"132åˆ—å¼æ•°æ®åº“\"><a class=\"markdownIt-Anchor\" href=\"#132åˆ—å¼æ•°æ®åº“\">#</a> 1.3.2.\tåˆ—å¼æ•°æ®åº“</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726232035860.png\" alt=\"image-20220726232035860\"></p>\n<p><strong>1.3.2.1.\tHbase</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220726232045024.png\" alt=\"image-20220726232045024\"></p>\n<p>HBase æ˜¯<strong> Hadoop</strong> é¡¹ç›®ä¸­çš„æ•°æ®åº“ã€‚å®ƒç”¨äºéœ€è¦å¯¹å¤§é‡çš„æ•°æ®è¿›è¡Œéšæœºã€å®æ—¶çš„è¯»å†™æ“ä½œçš„åœºæ™¯ä¸­ã€‚<br>\nHBase çš„ç›®æ ‡å°±æ˜¯å¤„ç†æ•°æ®é‡<strong>éå¸¸åºå¤§</strong>çš„è¡¨ï¼Œå¯ä»¥ç”¨<strong>æ™®é€šçš„è®¡ç®—æœº</strong>å¤„ç†è¶…è¿‡<strong> 10 äº¿è¡Œæ•°æ®</strong>ï¼Œè¿˜å¯å¤„ç†æœ‰æ•°ç™¾ä¸‡<strong>åˆ—</strong>å…ƒç´ çš„æ•°æ®è¡¨ã€‚</p>\n<p><strong>1.3.2.2.\tCassandra[kÉ™ËˆsÃ¦ndrÉ™]</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727003413693.png\" alt=\"image-20220727003413693\"></p>\n<p>Apache Cassandra æ˜¯ä¸€æ¬¾å…è´¹çš„å¼€æº NoSQL æ•°æ®åº“ï¼Œå…¶è®¾è®¡ç›®çš„åœ¨äºç®¡ç†ç”±å¤§é‡å•†ç”¨æœåŠ¡å™¨æ„å»ºèµ·æ¥çš„åºå¤§é›†ç¾¤ä¸Šçš„<strong>æµ·é‡æ•°æ®é›† (æ•°æ®é‡é€šå¸¸è¾¾åˆ° PB çº§åˆ«)</strong>ã€‚åœ¨ä¼—å¤šæ˜¾è‘—ç‰¹æ€§å½“ä¸­ï¼ŒCassandra æœ€ä¸ºå“è¶Šçš„é•¿å¤„æ˜¯å¯¹å†™å…¥åŠè¯»å–æ“ä½œè¿›è¡Œè§„æ¨¡è°ƒæ•´ï¼Œè€Œä¸”å…¶ä¸å¼ºè°ƒä¸»é›†ç¾¤çš„è®¾è®¡æ€è·¯èƒ½å¤Ÿä»¥ç›¸å¯¹ç›´è§‚çš„æ–¹å¼ç®€åŒ–å„é›†ç¾¤çš„åˆ›å»ºä¸æ‰©å±•æµç¨‹ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>è®¡ç®—æœºå­˜å‚¨å•ä½ è®¡ç®—æœºå­˜å‚¨å•ä½ä¸€èˆ¬ç”¨<span class=\"token class-name\">B</span>ï¼Œ<span class=\"token constant\">KB</span>ï¼Œ<span class=\"token constant\">MB</span>ï¼Œ<span class=\"token constant\">GB</span>ï¼Œ<span class=\"token constant\">TB</span>ï¼Œ<span class=\"token constant\">EB</span>ï¼Œ<span class=\"token constant\">ZB</span>ï¼Œ<span class=\"token constant\">YB</span>ï¼Œ<span class=\"token constant\">BB</span>æ¥è¡¨ç¤ºï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»æ˜¯ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>ä½ bit <span class=\"token punctuation\">(</span>æ¯”ç‰¹<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Binary</span> <span class=\"token class-name\">Digits</span><span class=\"token punctuation\">)</span>ï¼šå­˜æ”¾ä¸€ä½äºŒè¿›åˆ¶æ•°ï¼Œå³ <span class=\"token number\">0</span> æˆ– <span class=\"token number\">1</span>ï¼Œæœ€å°çš„å­˜å‚¨å•ä½ã€‚</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>å­—èŠ‚ <span class=\"token keyword\">byte</span>ï¼š<span class=\"token number\">8</span>ä¸ªäºŒè¿›åˆ¶ä½ä¸ºä¸€ä¸ªå­—èŠ‚<span class=\"token punctuation\">(</span><span class=\"token class-name\">B</span><span class=\"token punctuation\">)</span>ï¼Œæœ€å¸¸ç”¨çš„å•ä½ã€‚</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">KB</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Kilobyte</span> åƒå­—èŠ‚<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token number\">1024</span>Bï¼Œ</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">MB</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Megabyte</span> å…†å­—èŠ‚ ç®€ç§°â€œå…†â€<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token number\">1024</span><span class=\"token constant\">KB</span>ï¼Œ</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">GB</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Gigabyte</span> å‰å­—èŠ‚ åˆç§°â€œåƒå…†â€<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token number\">1024</span><span class=\"token constant\">MB</span>ï¼Œ</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">TB</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Trillionbyte</span> ä¸‡äº¿å­—èŠ‚ å¤ªå­—èŠ‚<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token number\">1024</span><span class=\"token constant\">GB</span>ï¼Œå…¶ä¸­<span class=\"token number\">1024</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token operator\">^</span><span class=\"token number\">10</span> <span class=\"token punctuation\">(</span> <span class=\"token number\">2</span> çš„<span class=\"token number\">10</span>æ¬¡æ–¹<span class=\"token punctuation\">)</span>ï¼Œ</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">PB</span>ï¼ˆ<span class=\"token class-name\">Petabyte</span> åƒä¸‡äº¿å­—èŠ‚ æ‹å­—èŠ‚ï¼‰<span class=\"token operator\">=</span><span class=\"token number\">1024</span><span class=\"token constant\">TB</span>ï¼Œ</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">EB</span>ï¼ˆ<span class=\"token class-name\">Exabyte</span> ç™¾äº¿äº¿å­—èŠ‚ è‰¾å­—èŠ‚ï¼‰<span class=\"token operator\">=</span><span class=\"token number\">1024</span><span class=\"token constant\">PB</span>ï¼Œ</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">ZB</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Zettabyte</span> åä¸‡äº¿äº¿å­—èŠ‚ æ³½å­—èŠ‚<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span> <span class=\"token number\">1024</span> <span class=\"token constant\">EB</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">YB</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Jottabyte</span> ä¸€äº¿äº¿äº¿å­—èŠ‚ å°§å­—èŠ‚<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span> <span class=\"token number\">1024</span> <span class=\"token constant\">ZB</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">1</span><span class=\"token constant\">BB</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Brontobyte</span> ä¸€åƒäº¿äº¿äº¿å­—èŠ‚<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span> <span class=\"token number\">1024</span> <span class=\"token constant\">YB</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>æ³¨ï¼šâ€œå…†â€ä¸ºç™¾ä¸‡çº§æ•°é‡å•ä½ã€‚</pre></td></tr></table></figure><h2 id=\"4-å›¾å…³ç³»å‹æ•°æ®åº“\"><a class=\"markdownIt-Anchor\" href=\"#4-å›¾å…³ç³»å‹æ•°æ®åº“\">#</a> 4- å›¾å…³ç³»å‹æ•°æ®åº“</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727003806092.png\" alt=\"image-20220727003806092\"></p>\n<p>ä¸»è¦åº”ç”¨ï¼šç¤¾ä¼šå…³ç³»ï¼Œå…¬å…±äº¤é€šç½‘ç»œï¼Œåœ°å›¾åŠç½‘ç»œæ‹“è°± (n*(n-1)/2)</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727003831658.png\" alt=\"image-20220727003831658\"></p>\n<h2 id=\"5-db-engines-æ•°æ®åº“æ’å\"><a class=\"markdownIt-Anchor\" href=\"#5-db-engines-æ•°æ®åº“æ’å\">#</a> 5 - DB-Engines æ•°æ®åº“æ’å</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2RiLWVuZ2luZXMuY29tL2VuL3Jhbmtpbmc=\">http://db-engines.com/en/ranking</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727003904477.png\" alt=\"image-20220727003904477\"></p>\n<h1 id=\"äºŒ-redisæ¦‚è¿°å®‰è£…\"><a class=\"markdownIt-Anchor\" href=\"#äºŒ-redisæ¦‚è¿°å®‰è£…\">#</a> äºŒã€Redis æ¦‚è¿°å®‰è£…</h1>\n<ul>\n<li>Redis æ˜¯ä¸€ä¸ª <code>å¼€æº</code> çš„ <code>key-value</code>  å­˜å‚¨ç³»ç»Ÿã€‚</li>\n<li>å’Œ Memcached ç±»ä¼¼ï¼Œå®ƒæ”¯æŒå­˜å‚¨çš„ value ç±»å‹ç›¸å¯¹æ›´å¤šï¼ŒåŒ…æ‹¬ <code>string</code>  (å­—ç¬¦ä¸²)ã€ <code>list</code>  (é“¾è¡¨)ã€ <code>set</code>  (é›†åˆ)ã€ <code>zset</code>  (sorted set -- æœ‰åºé›†åˆ) å’Œ <code>hash</code> ï¼ˆå“ˆå¸Œç±»å‹ï¼‰</li>\n<li>è¿™äº›æ•°æ®ç±»å‹éƒ½æ”¯æŒ push/popã€add/remove åŠå–äº¤é›†å¹¶é›†å’Œå·®é›†åŠæ›´ä¸°å¯Œçš„æ“ä½œï¼Œè€Œä¸”è¿™äº›æ“ä½œéƒ½æ˜¯ <code>åŸå­æ€§</code> çš„</li>\n<li>åœ¨æ­¤åŸºç¡€ä¸Šï¼ŒRedis æ”¯æŒå„ç§ä¸åŒæ–¹å¼çš„ <code>æ’åº</code> ã€‚</li>\n<li>ä¸ memcached ä¸€æ ·ï¼Œä¸ºäº†ä¿è¯æ•ˆç‡ï¼Œæ•°æ®éƒ½æ˜¯ <code>ç¼“å­˜åœ¨å†…å­˜</code> ä¸­ã€‚</li>\n<li>åŒºåˆ«çš„æ˜¯ Redis ä¼šå‘¨æœŸæ€§çš„æŠŠæ›´æ–°çš„æ•°æ®å†™å…¥ç£ç›˜æˆ–è€…æŠŠä¿®æ”¹æ“ä½œå†™å…¥è¿½åŠ çš„è®°å½•æ–‡ä»¶ã€‚</li>\n<li>å¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº† <code>master-slave(ä¸»ä»)</code>  åŒæ­¥ã€‚</li>\n</ul>\n<h2 id=\"1-åº”ç”¨åœºæ™¯\"><a class=\"markdownIt-Anchor\" href=\"#1-åº”ç”¨åœºæ™¯\">#</a> 1 - åº”ç”¨åœºæ™¯</h2>\n<h3 id=\"211é…åˆå…³ç³»å‹æ•°æ®åº“åšé«˜é€Ÿç¼“å­˜\"><a class=\"markdownIt-Anchor\" href=\"#211é…åˆå…³ç³»å‹æ•°æ®åº“åšé«˜é€Ÿç¼“å­˜\">#</a> 2.1.1.\té…åˆå…³ç³»å‹æ•°æ®åº“åšé«˜é€Ÿç¼“å­˜</h3>\n<ul>\n<li>é«˜é¢‘æ¬¡ï¼Œçƒ­é—¨è®¿é—®çš„æ•°æ®ï¼Œé™ä½æ•°æ®åº“ IO</li>\n<li>åˆ†å¸ƒå¼æ¶æ„ï¼Œåš session å…±äº«</li>\n<li><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727004314790.png\" alt=\"image-20220727004314790\"></li>\n</ul>\n<h3 id=\"212å¤šæ ·çš„æ•°æ®ç»“æ„å­˜å‚¨æŒä¹…åŒ–æ•°æ®\"><a class=\"markdownIt-Anchor\" href=\"#212å¤šæ ·çš„æ•°æ®ç»“æ„å­˜å‚¨æŒä¹…åŒ–æ•°æ®\">#</a> 2.1.2.\tå¤šæ ·çš„æ•°æ®ç»“æ„å­˜å‚¨æŒä¹…åŒ–æ•°æ®</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727004344728.png\" alt=\"image-20220727004344728\"></p>\n<h2 id=\"2-rediså®‰è£…\"><a class=\"markdownIt-Anchor\" href=\"#2-rediså®‰è£…\">#</a> 2 - Redis å®‰è£…</h2>\n<p>Redis å®˜æ–¹ç½‘ç«™:  <span class=\"exturl\" data-url=\"aHR0cDovL3JlZGlzLmlv\">http://redis.io</span></p>\n<p>Redis ä¸­æ–‡å®˜æ–¹ç½‘ç«™:  <span class=\"exturl\" data-url=\"aHR0cDovL3JlZGlzLmNuLw==\">http://redis.cn/</span></p>\n<p>å‚è€ƒé“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81Mjc4Mjg2Mjc=\">linux ç³»ç»Ÿå®‰è£…å’Œä½¿ç”¨ Redis - çŸ¥ä¹ (zhihu.com)</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727004514512.png\" alt=\"image-20220727004514512\"></p>\n<h3 id=\"221å®‰è£…ç‰ˆæœ¬\"><a class=\"markdownIt-Anchor\" href=\"#221å®‰è£…ç‰ˆæœ¬\">#</a> 2.2.1.\tå®‰è£…ç‰ˆæœ¬</h3>\n<ul>\n<li>6.2.1 for Linuxï¼ˆredis-6.2.1.tar.gzï¼‰</li>\n<li>ä¸ç”¨è€ƒè™‘åœ¨ windows ç¯å¢ƒä¸‹å¯¹ Redis çš„æ”¯æŒ (å¦‚æœçœŸçš„éœ€è¦å¯ä»¥å» github ä¸Šæ‰¾æ‰¾)</li>\n</ul>\n<h3 id=\"222å®‰è£…æ­¥éª¤\"><a class=\"markdownIt-Anchor\" href=\"#222å®‰è£…æ­¥éª¤\">#</a> 2.2.2.\tå®‰è£…æ­¥éª¤</h3>\n<p><strong>2.2.2.1.\tå‡†å¤‡å·¥ä½œï¼šä¸‹è½½å®‰è£…æœ€æ–°ç‰ˆçš„ gcc ç¼–è¯‘å™¨</strong><br>\nå®‰è£… C è¯­è¨€çš„ç¼–è¯‘ç¯å¢ƒ</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> centos-release-scl scl-utils-build</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> devtoolset-8-toolchain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>scl <span class=\"token builtin class-name\">enable</span> devtoolset-8 <span class=\"token function\">bash</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># æµ‹è¯• gcc ç‰ˆæœ¬ </span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>gcc <span class=\"token parameter variable\">--version</span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727104704322.png\" alt=\"image-20220727104704322\"></p>\n<p><strong>2.2.2.2.\tä¸‹è½½ redis-6.2.1.tar.gz æ”¾ /opt ç›®å½•</strong></p>\n<p><strong>2.2.2.3.\tè§£å‹å‘½ä»¤ï¼štar -zxvf redis-6.2.1.tar.gz</strong></p>\n<p><strong>2.2.2.4.\tè§£å‹å®Œæˆåè¿›å…¥ç›®å½•ï¼šcd redis-6.2.1</strong></p>\n<p><strong>2.2.2.5.\tåœ¨ redis-6.2.1 ç›®å½•ä¸‹å†æ¬¡æ‰§è¡Œ make å‘½ä»¤ï¼ˆåªæ˜¯ç¼–è¯‘å¥½ï¼‰</strong></p>\n<p><strong>2.2.2.6.\tå¦‚æœæ²¡æœ‰å‡†å¤‡å¥½ C è¯­è¨€ç¼–è¯‘ç¯å¢ƒï¼Œmake ä¼šæŠ¥é”™ â€”Jemalloc/jemalloc.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727104834499.png\" alt=\"image-20220727104834499\"></p>\n<p><strong>2.2.2.7.\tè§£å†³æ–¹æ¡ˆï¼šè¿è¡Œ make distclean</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727104852287.png\" alt=\"image-20220727104852287\"></p>\n<p><strong>2.2.2.8.\tåœ¨ redis-6.2.1 ç›®å½•ä¸‹å†æ¬¡æ‰§è¡Œ make å‘½ä»¤ï¼ˆåªæ˜¯ç¼–è¯‘å¥½ï¼‰</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727104906795.png\" alt=\"image-20220727104906795\"></p>\n<p><strong>2.2.2.9.\tè·³è¿‡ make test ç»§ç»­æ‰§è¡Œ: make install</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727104934592.png\" alt=\"image-20220727104934592\"></p>\n<h3 id=\"å®æ“\"><a class=\"markdownIt-Anchor\" href=\"#å®æ“\">#</a> å®æ“</h3>\n<ol>\n<li>å®‰è£…ä¾èµ–ï¼Œå› ä¸º Redis æ˜¯åŸºäº C è¯­è¨€ç¼–å†™çš„ï¼Œå› æ­¤é¦–å…ˆéœ€è¦å®‰è£… Redis æ‰€éœ€è¦çš„ gcc ä¾èµ–</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> gcc tcl</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727155634575.png\" alt=\"image-20220727155634575\"></p>\n<ol start=\"2\">\n<li>\n<p>ä¸Šä¼ æ–‡ä»¶ï¼šæˆ‘ä¸Šä¼ åˆ°äº† /opt ç›®å½•ä¸‹</p>\n</li>\n<li>\n<p>è§£å‹ï¼š <code>tar -zxvf redis-6.2.7.tar.gz</code></p>\n</li>\n<li>\n<p>cd åˆ°è¯¥ç›®å½•ï¼šcd  redis-6.2.7</p>\n</li>\n<li>\n<p>make: ç¼–è¯‘   <code>make</code>  è¿™ä¸ªå®Œæˆä¹‹å <code>make install</code></p>\n</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727161333762.png\" alt=\"image-20220727161333762\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727161816964.png\" alt=\"image-20220727161816964\"></p>\n<p>é»˜è®¤å®‰è£…è·¯å¾„ï¼šusr/local/bin/</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727161855947.png\" alt=\"image-20220727161855947\"></p>\n<p>ä½¿ç”¨æ¨èçš„åå°å¯åŠ¨æ–¹å¼ï¼Œéœ€è¦å¯¹ redis.conf å¤‡ä»½ä¸€ä»½</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cp</span> redis.conf redis.conf.copy</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727162452302.png\" alt=\"image-20220727162452302\"></p>\n<h3 id=\"223å®‰è£…ç›®å½•usrlocalbin\"><a class=\"markdownIt-Anchor\" href=\"#223å®‰è£…ç›®å½•usrlocalbin\">#</a> 2.2.3.\tå®‰è£…ç›®å½•ï¼š/usr/local/bin</h3>\n<p><strong>æŸ¥çœ‹é»˜è®¤å®‰è£…ç›®å½•ï¼š</strong><br>\nredis-benchmark :   æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥åœ¨è‡ªå·±æœ¬å­è¿è¡Œï¼Œçœ‹çœ‹è‡ªå·±æœ¬å­æ€§èƒ½å¦‚ä½•<br>\n redis-check-aofï¼š ä¿®å¤æœ‰é—®é¢˜çš„ AOF æ–‡ä»¶ï¼Œrdb å’Œ aof åé¢è®²<br>\n redis-check-dumpï¼šä¿®å¤æœ‰é—®é¢˜çš„ dump.rdb æ–‡ä»¶<br>\n redis-sentinelï¼šRedis é›†ç¾¤ä½¿ç”¨<br>\n <code>redis-server</code> ï¼šRedis æœåŠ¡å™¨å¯åŠ¨å‘½ä»¤<br>\n <code>redis-cli</code> ï¼šå®¢æˆ·ç«¯ï¼Œæ“ä½œå…¥å£</p>\n<h3 id=\"224å‰å°å¯åŠ¨ä¸æ¨è\"><a class=\"markdownIt-Anchor\" href=\"#224å‰å°å¯åŠ¨ä¸æ¨è\">#</a> 2.2.4.\tå‰å°å¯åŠ¨ï¼ˆä¸æ¨èï¼‰</h3>\n<p>å‰å°å¯åŠ¨ï¼Œå‘½ä»¤è¡Œçª—å£ä¸èƒ½å…³é—­ï¼Œå¦åˆ™æœåŠ¡å™¨åœæ­¢</p>\n<p>redis-server</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105158482.png\" alt=\"image-20220727105158482\"></p>\n<h3 id=\"225åå°å¯åŠ¨æ¨è\"><a class=\"markdownIt-Anchor\" href=\"#225åå°å¯åŠ¨æ¨è\">#</a> 2.2.5.\tåå°å¯åŠ¨ï¼ˆæ¨èï¼‰</h3>\n<p><strong>2.2.5.1.\tå¤‡ä»½ redis.conf</strong></p>\n<p>æ‹·è´ä¸€ä»½ <code>redis.conf</code>  åˆ°å…¶ä»–ç›®å½•<br>\n <code>cp  /opt/redis-3.2.5/redis.conf  /myredis</code></p>\n<p><strong>2.2.5.2.\tåå°å¯åŠ¨è®¾ç½® <code>daemonize no</code>  æ”¹æˆ <code>yes</code> </strong></p>\n<p>ä¿®æ”¹ redis.conf (128 è¡Œ) æ–‡ä»¶å°†é‡Œé¢çš„ daemonize no æ”¹æˆ yesï¼Œè®©æœåŠ¡åœ¨åå°å¯åŠ¨</p>\n<p><strong>2.2.5.3.\tRedis å¯åŠ¨</strong></p>\n<p><code>redis-server/myredis/redis.conf</code>   ä½ çš„è¿™ä¸ªé…ç½®æ–‡ä»¶åœ¨é‚£ä¸ªæ–‡ä»¶å¤¹ä¸‹å°±æ‰§è¡Œå“ªä¸ªæ–‡ä»¶å¤¹çš„é…ç½®é…ç½®æ–‡ä»¶</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105349213.png\" alt=\"image-20220727105349213\"></p>\n<p><strong>2.2.5.4.\tç”¨å®¢æˆ·ç«¯è®¿é—®ï¼š</strong> <code>redis-cli</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105413882.png\" alt=\"image-20220727105413882\"></p>\n<p><strong>2.2.5.5.\tå¤šä¸ªç«¯å£å¯ä»¥ï¼š</strong> <code>redis-cli -p6379</code> <br>\n<strong>2.2.5.6.\tæµ‹è¯•éªŒè¯ï¼š</strong>  <code>ping</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105506029.png\" alt=\"image-20220727105506029\"></p>\n<p><strong>2.2.5.7.\tRedis å…³é—­</strong></p>\n<p>å•å®ä¾‹å…³é—­ï¼š <code>redis-cli shutdown</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105606303.png\" alt=\"image-20220727105606303\"></p>\n<p>ä¹Ÿå¯ä»¥è¿›å…¥ç»ˆç«¯åå†å…³é—­</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105620164.png\" alt=\"image-20220727105620164\"></p>\n<p>å¤šå®ä¾‹å…³é—­ï¼ŒæŒ‡å®šç«¯å£å…³é—­ï¼š <code>redis-cli -p 6379 shutdown</code></p>\n<h3 id=\"226redisä»‹ç»ç›¸å…³çŸ¥è¯†\"><a class=\"markdownIt-Anchor\" href=\"#226redisä»‹ç»ç›¸å…³çŸ¥è¯†\">#</a> 2.2.6.\tRedis ä»‹ç»ç›¸å…³çŸ¥è¯†</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105742074.png\" alt=\"image-20220727105742074\"></p>\n<p><strong>Redis æ˜¯å•çº¿ç¨‹ + å¤šè·¯ IO å¤ç”¨æŠ€æœ¯</strong></p>\n<p>å¤šè·¯å¤ç”¨æ˜¯æŒ‡ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥æ£€æŸ¥å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆSocketï¼‰çš„å°±ç»ªçŠ¶æ€ï¼Œæ¯”å¦‚è°ƒç”¨ select å’Œ poll å‡½æ•°ï¼Œä¼ å…¥å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦å°±ç»ªï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™é˜»å¡ç›´åˆ°è¶…æ—¶ã€‚å¾—åˆ°å°±ç»ªçŠ¶æ€åè¿›è¡ŒçœŸæ­£çš„æ“ä½œå¯ä»¥åœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å¯åŠ¨çº¿ç¨‹æ‰§è¡Œï¼ˆæ¯”å¦‚ä½¿ç”¨çº¿ç¨‹æ± ï¼‰</p>\n<p><code>ä¸²è¡Œ   vs   å¤šçº¿ç¨‹+é”ï¼ˆmemcachedï¼‰ vs   å•çº¿ç¨‹+å¤šè·¯IOå¤ç”¨(Redis)</code></p>\n<p>ï¼ˆä¸ Memcache ä¸‰ç‚¹ä¸åŒï¼šæ”¯æŒå¤šæ•°æ®ç±»å‹ï¼Œæ”¯æŒæŒä¹…åŒ–ï¼Œå•çº¿ç¨‹ + å¤šè·¯ IO å¤ç”¨ï¼‰</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727105854506.png\" alt=\"image-20220727105854506\"></p>\n<h1 id=\"ä¸‰-å¸¸ç”¨äº”å¤§æ•°æ®ç±»å‹\"><a class=\"markdownIt-Anchor\" href=\"#ä¸‰-å¸¸ç”¨äº”å¤§æ•°æ®ç±»å‹\">#</a> ä¸‰ã€å¸¸ç”¨äº”å¤§æ•°æ®ç±»å‹</h1>\n<p>å“ªé‡Œå»è·å¾— redis å¸¸è§æ•°æ®ç±»å‹æ“ä½œå‘½ä»¤ http://www.redis.cn/commands.html</p>\n<h2 id=\"1-redisé”®key\"><a class=\"markdownIt-Anchor\" href=\"#1-redisé”®key\">#</a> 1 - Redis é”® (key)</h2>\n<p><code>key:</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  ï¼ˆ1ï¼‰keys * <span class=\"token builtin class-name\">:</span> æŸ¥çœ‹å½“å‰åº“æ‰€æœ‰key    <span class=\"token punctuation\">(</span>åŒ¹é…ï¼škeys *1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ï¼ˆ2ï¼‰exists key: åˆ¤æ–­æŸä¸ªkeyæ˜¯å¦å­˜åœ¨</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  ï¼ˆ3ï¼‰type key <span class=\"token builtin class-name\">:</span> æŸ¥çœ‹ä½ çš„keyæ˜¯ä»€ä¹ˆç±»å‹</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  ï¼ˆ4ï¼‰del key  <span class=\"token builtin class-name\">:</span> åˆ é™¤æŒ‡å®šçš„keyæ•°æ®</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  ï¼ˆ5ï¼‰unlink key <span class=\"token builtin class-name\">:</span> æ ¹æ®valueé€‰æ‹©éé˜»å¡åˆ é™¤<span class=\"token punctuation\">(</span>ä»…å°†keysä»keyspaceå…ƒæ•°æ®ä¸­åˆ é™¤ï¼ŒçœŸæ­£çš„åˆ é™¤ä¼šåœ¨åç»­å¼‚æ­¥æ“ä½œ<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  ï¼ˆ6ï¼‰expire key <span class=\"token number\">10</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>ç§’é’Ÿ,ä¸ºç»™å®šçš„keyè®¾ç½®è¿‡æœŸæ—¶é—´</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  ï¼ˆ7ï¼‰ttl key <span class=\"token builtin class-name\">:</span> æŸ¥çœ‹è¿˜æœ‰å¤šå°‘ç§’è¿‡æœŸï¼Œ-1è¡¨ç¤ºæ°¸ä¸è¿‡æœŸï¼Œ-2è¡¨ç¤ºå·²è¿‡æœŸ</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  ï¼ˆ8ï¼‰select  <span class=\"token builtin class-name\">:</span> å‘½ä»¤åˆ‡æ¢æ•°æ®åº“</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  ï¼ˆ9ï¼‰dbsize  <span class=\"token builtin class-name\">:</span> æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„keyçš„æ•°é‡</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  ï¼ˆ10ï¼‰flushdb <span class=\"token builtin class-name\">:</span> æ¸…ç©ºå½“å‰åº“</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  ï¼ˆ11ï¼‰flushall: é€šæ€å…¨éƒ¨åº“</pre></td></tr></table></figure><h2 id=\"2-rediså­—ç¬¦ä¸²string\"><a class=\"markdownIt-Anchor\" href=\"#2-rediså­—ç¬¦ä¸²string\">#</a> 2 - Redis å­—ç¬¦ä¸² (String)</h2>\n<h3 id=\"321ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#321ç®€ä»‹\">#</a> 3.2.1.\tç®€ä»‹</h3>\n<p>String æ˜¯ Redis æœ€åŸºæœ¬çš„ç±»å‹ï¼Œä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚<br>\nString ç±»å‹æ˜¯ <code>äºŒè¿›åˆ¶å®‰å…¨çš„</code> ã€‚æ„å‘³ç€ Redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚ jpg å›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚<br>\nString ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œä¸€ä¸ª Redis ä¸­å­—ç¬¦ä¸² value æœ€å¤šå¯ä»¥æ˜¯ <code>512M</code></p>\n<h3 id=\"322å¸¸ç”¨å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#322å¸¸ç”¨å‘½ä»¤\">#</a> 3.2.2.\tå¸¸ç”¨å‘½ä»¤</h3>\n<p><code>String:</code>  k- key (é”®)  v-value (å€¼)</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  ï¼ˆ1ï¼‰å­˜ï¼šset k <span class=\"token function\">v</span>  <span class=\"token punctuation\">[</span>å¦è¯´æ˜è§ä¸‹ï¼<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ï¼ˆ2ï¼‰å–ï¼šget k         </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  ï¼ˆ3ï¼‰è¿½åŠ å­—ç¬¦ï¼šappend k <span class=\"token string\">\"è¿½åŠ å­—æ®µ\"</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  ï¼ˆ4ï¼‰é•¿åº¦ï¼šstrlen k</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  ï¼ˆ5ï¼‰æ— è¯¥keyæ—¶å­˜ï¼šsetnx k v:ï¼ˆåªæœ‰åœ¨ key ä¸å­˜åœ¨æ—¶è®¾ç½® key çš„å€¼ï¼‰</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  ï¼ˆ6ï¼‰å¢æŒ‡å®šå€¼ï¼šincrby k <span class=\"token punctuation\">[</span>integer<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  ï¼ˆ7ï¼‰å‡æŒ‡å®šå€¼ï¼šdecrby k <span class=\"token punctuation\">[</span>integer<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  ï¼ˆ8ï¼‰é€’å¢ï¼šincr k ï¼ˆä¸€å®šæ˜¯æ•´æ•°ï¼›å¦‚æ— å€¼åˆ™èµ‹0ååŠ 1ï¼‰</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  ï¼ˆ9ï¼‰é€’é”®ï¼šdecr k ï¼ˆä¸€å®šæ˜¯æ•´æ•°ï¼›å¦‚æ— å€¼åˆ™èµ‹0åå‡1ï¼‰</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>å…¶ä»–å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  ï¼ˆ1ï¼‰æ‰¹é‡å­˜ï¼šmset k1 v1 k2 v2<span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  ï¼ˆ2ï¼‰æ‰¹é‡å–ï¼šmget k1 k2 k3 <span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>         </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  ï¼ˆ3ï¼‰æ‰¹é‡å­˜ï¼šmsetnx k1 v1 k2 v2<span class=\"token punctuation\">..</span>.ï¼ˆå½“ä¸”ä»…å½“æ‰€æœ‰ç»™å®š key éƒ½ä¸å­˜åœ¨ï¼ŒåŸå­æ€§ï¼Œæœ‰ä¸€ä¸ªå¤±è´¥åˆ™éƒ½å¤±è´¥ï¼‰</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  ï¼ˆ4ï¼‰èŒƒå›´å–ï¼šgetrange k èµ·å§‹ä½ç½® ç»“æŸä½ç½®ï¼ˆç±»ä¼¼javaä¸­çš„substringï¼Œå‰åŒ…ï¼ŒååŒ…ï¼‰</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  ï¼ˆ5ï¼‰å–å…¨éƒ¨æ•°æ®ï¼šgetrange k <span class=\"token number\">0</span> <span class=\"token parameter variable\">-1</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  ï¼ˆ6ï¼‰è¦†ç›–å€¼ï¼šsetrange k èµ·å§‹ä½ç½® <span class=\"token function\">v</span> <span class=\"token punctuation\">(</span>ç”¨<span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>è¦†å†™<span class=\"token operator\">&lt;</span>key<span class=\"token operator\">></span>æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ï¼Œä»<span class=\"token operator\">&lt;</span>èµ·å§‹ä½ç½®<span class=\"token operator\">></span>å¼€å§‹<span class=\"token punctuation\">(</span>ç´¢å¼•ä»0å¼€å§‹<span class=\"token punctuation\">))</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  ï¼ˆ7ï¼‰è¿‡æœŸæ—¶é—´ï¼šsetex k è¿‡æœŸæ—¶é—´ value <span class=\"token punctuation\">(</span>è®¾ç½®é”®å€¼çš„åŒæ—¶ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå•ä½ç§’<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  ï¼ˆ8ï¼‰ä»¥æ–°æ¢æ—§ï¼šgetset k <span class=\"token function\">v</span> <span class=\"token punctuation\">(</span>è®¾ç½®äº†æ–°å€¼åŒæ—¶è·å¾—æ—§å€¼<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><strong>å­˜ set çš„è¯´æ˜ï¼š</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727111440940.png\" alt=\"image-20220727111440940\"></p>\n<ul>\n<li>NXï¼šå½“æ•°æ®åº“ä¸­ key ä¸å­˜åœ¨æ—¶ï¼Œå¯ä»¥å°† key-value æ·»åŠ æ•°æ®åº“</li>\n<li>XXï¼šå½“æ•°æ®åº“ä¸­ key å­˜åœ¨æ—¶ï¼Œå¯ä»¥å°† key-value æ·»åŠ æ•°æ®åº“ï¼Œä¸ NX å‚æ•°äº’æ–¥</li>\n<li>EXï¼škey çš„è¶…æ—¶ç§’æ•°</li>\n<li>PXï¼škey çš„è¶…æ—¶æ¯«ç§’æ•°ï¼Œä¸ EX äº’æ–¥</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727113031192.png\" alt=\"image-20220727113031192\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727113111389.png\" alt=\"image-20220727113111389\"></p>\n<p>ä¸Šé¢çš„å€¼å¯èƒ½æ˜¯ 2~200ï¼Œå› ä¸º i++ ä¸æ˜¯åŸå­æ“ä½œï¼Œå®ƒåˆ†ä¸‰æ­¥å®Œæˆï¼šè·å– i çš„å€¼ï¼Œè¿›è¡Œ + æ“ä½œï¼Œèµ‹å€¼</p>\n<h3 id=\"323æ•°æ®ç»“æ„\"><a class=\"markdownIt-Anchor\" href=\"#323æ•°æ®ç»“æ„\">#</a> 3.2.3.\tæ•°æ®ç»“æ„</h3>\n<p>String çš„æ•°æ®ç»“æ„ä¸º <code>ç®€å•åŠ¨æ€å­—ç¬¦ä¸²</code>  (Simple Dynamic String, ç¼©å†™ SDS)ã€‚æ˜¯å¯ä»¥ä¿®æ”¹çš„å­—ç¬¦ä¸²ï¼Œå†…éƒ¨ç»“æ„å®ç°ä¸Šç±»ä¼¼äº Java çš„ <code>ArrayList</code> ï¼Œé‡‡ç”¨é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727123548075.png\" alt=\"image-20220727123548075\"></p>\n<p>å¦‚å›¾ä¸­æ‰€ç¤ºï¼Œå†…éƒ¨ä¸ºå½“å‰å­—ç¬¦ä¸²å®é™…åˆ†é…çš„ç©ºé—´ capacity ä¸€èˆ¬è¦é«˜äºå®é™…å­—ç¬¦ä¸²é•¿åº¦ lenã€‚å½“å­—ç¬¦ä¸²é•¿åº¦å°äº 1M æ—¶ï¼Œæ‰©å®¹éƒ½æ˜¯ <code>åŠ å€</code> ç°æœ‰çš„ç©ºé—´ï¼Œå¦‚æœè¶…è¿‡ 1Mï¼Œæ‰©å®¹æ—¶ä¸€æ¬¡åªä¼š <code>å¤šæ‰©1M</code>  çš„ç©ºé—´ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦ä¸º 512Mã€‚</p>\n<h2 id=\"3-redisåˆ—è¡¨list\"><a class=\"markdownIt-Anchor\" href=\"#3-redisåˆ—è¡¨list\">#</a> 3 - Redis åˆ—è¡¨ (List)</h2>\n<h3 id=\"331ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#331ç®€ä»‹\">#</a> 3.3.1.\tç®€ä»‹</h3>\n<p><strong>å•é”®å¤šå€¼</strong><br>\n Redis åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚</p>\n<p>å®ƒçš„åº•å±‚å®é™…æ˜¯ä¸ª <code>åŒå‘é“¾è¡¨</code> ï¼Œå¯¹ä¸¤ç«¯çš„æ“ä½œæ€§èƒ½å¾ˆé«˜ï¼Œé€šè¿‡ç´¢å¼•ä¸‹æ ‡çš„æ“ä½œä¸­é—´çš„èŠ‚ç‚¹æ€§èƒ½ä¼šè¾ƒå·®ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727123852045.png\" alt=\"image-20220727123852045\"></p>\n<h3 id=\"332å¸¸ç”¨å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#332å¸¸ç”¨å‘½ä»¤\">#</a> 3.3.2.\tå¸¸ç”¨å‘½ä»¤</h3>\n<p><code>list:</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>æ¦‚è¿°ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>å…ƒç´ æ’å…¥</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>é“¾è¡¨è¡¨å¤´æˆ–ç»“å°¾æ’å…¥ï¼šé«˜æ•ˆï¼Œä¸­é—´ï¼šä½</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>å­˜å‚¨listï¼š</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">1</span>.ArrayListä½¿ç”¨æ•°ç»„æ–¹å¼ï¼šä½¿ç”¨ç´¢å¼•æŸ¥è¯¢-å—ï¼Œæ–°å¢åˆ é™¤æ—¶æ¶‰åŠä½ç§»æ“ä½œ-æ…¢</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">2</span>.LinkedListä½¿ç”¨åŒå‘é“¾æ¥æ–¹å¼ï¼šæ¯ä¸ªå…ƒç´ è®°å½•å‰åå…ƒç´ æŒ‡é’ˆ</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token number\">3</span>.åŒå‘é“¾è¡¨å¢åŠ æ•°æ®</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token number\">4</span>.åŒå‘é“¾è¡¨åˆ é™¤æ•°æ®</pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>å­˜å‚¨listå¸¸ç”¨å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token number\">1</span>.ä¸¤ç«¯æ·»åŠ ï¼šlpushã€rpush<span class=\"token variable\">`</span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>lpush list <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token comment\">#ä»å·¦ä¾§å¾€ list è¡¨ä¸­æ’å…¥ 1 2 3</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>rpush list a b c <span class=\"token comment\">#ä»å³ä¾§å¾€ list è¡¨ä¸­æ’å…¥ a b c </span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token number\">2</span>.æŸ¥çœ‹åˆ—è¡¨ï¼šlrange<span class=\"token variable\">`</span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>lrange list <span class=\"token number\">0</span> <span class=\"token parameter variable\">-1</span> <span class=\"token comment\">#ä»å¤´åˆ°å°¾æŸ¥çœ‹</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>lrange list <span class=\"token number\">0</span> <span class=\"token number\">5</span>  <span class=\"token comment\">#ä»å¼€å§‹åˆ°ç¬¬ 5 ä¸ªæŸ¥çœ‹</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token number\">3</span>.ä¸¤ç«¯å¼¹å‡ºï¼šlpopã€rpop <span class=\"token punctuation\">(</span>å€¼åœ¨é”®åœ¨ï¼Œå€¼å…‰é”®äº¡<span class=\"token punctuation\">)</span><span class=\"token variable\">`</span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>lpop list <span class=\"token comment\">#ä»å·¦è¾¹å¼¹å‡ºç¬¬ä¸€ä¸ªæ•°</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>rpop list <span class=\"token comment\">#ä»å°¾éƒ¨å¼¹å‡ºç¬¬ä¸€ä¸ªæ•°</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token number\">4</span>.è·å–åˆ—è¡¨å…ƒç´ ä¸ªæ•°ï¼šllen<span class=\"token variable\">`</span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>llen list <span class=\"token comment\">#æŸ¥çœ‹å…ƒç´ ä¸ªæ•°</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token number\">5</span>.æ‰©å±•å‘½ä»¤ï¼šlpushxã€rpushxã€lremã€lsetã€rpoplppush<span class=\"token variable\">`</span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>lpushx list x <span class=\"token comment\">#æ’å…¥ x åˆ° list è¡¨çš„å¼€å¤´ï¼ˆå·¦è¾¹ï¼‰</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>rpushx list y <span class=\"token comment\">#æ’å…¥ y åˆ° list è¡¨çš„å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>lrem list n value <span class=\"token comment\">#ä»å¤´åˆ°å°¾åˆ é™¤ n ä¸ª value</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>lrem list <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token comment\">#ä»å¤´åˆ°å°¾åˆ é™¤ 2 ä¸ª 3 (ä»å·¦åˆ°å³)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>lrem list <span class=\"token parameter variable\">-2</span> <span class=\"token number\">1</span>  <span class=\"token comment\">#ä»å°¾åˆ°å¤´åˆ é™¤ 2 ä¸ª 1ï¼ˆä»å³åˆ°å·¦ï¼‰</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>lrem list <span class=\"token number\">0</span> <span class=\"token number\">2</span>\t<span class=\"token comment\">#åˆ é™¤æ‰€æœ‰ 2</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>lset key n value \t<span class=\"token comment\">#åœ¨ key è¡¨ç¬¬ n ä¸ªè§’æ ‡è®¾ç½®ä¸º value</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>lset list <span class=\"token number\">3</span> mmm \t<span class=\"token comment\">#åœ¨ list è¡¨ç¬¬ 3 ä¸ªè§’æ ‡è®¾ç½® mmm</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>linset list before a yy\t <span class=\"token comment\">#åœ¨ list è¡¨ä¸­ a ä¹‹å‰æ’å…¥ yy</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>linset list after b xx \t<span class=\"token comment\">#åœ¨ list è¡¨ä¸­ b ä¹‹åæ’å…¥ xx</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>rpoplpush list1 list2 \t<span class=\"token comment\">#ä» list1 è¡¨çš„å³è¾¹åå‡ºå‹å…¥åˆ° list2 è¡¨çš„å·¦è¾¹</span></pre></td></tr></table></figure><h3 id=\"333æ•°æ®ç»“æ„\"><a class=\"markdownIt-Anchor\" href=\"#333æ•°æ®ç»“æ„\">#</a> 3.3.3.\tæ•°æ®ç»“æ„</h3>\n<p>List çš„æ•°æ®ç»“æ„ä¸º <code>å¿«é€Ÿé“¾è¡¨quickList</code> ã€‚</p>\n<p>é¦–å…ˆåœ¨åˆ—è¡¨å…ƒç´ è¾ƒå°‘çš„æƒ…å†µä¸‹ä¼šä½¿ç”¨ä¸€å—è¿ç»­çš„å†…å­˜å­˜å‚¨ï¼Œè¿™ä¸ªç»“æ„æ˜¯ <code>ziplist</code> ï¼Œä¹Ÿå³æ˜¯ <code>å‹ç¼©åˆ—è¡¨</code> ã€‚</p>\n<p>å®ƒå°†æ‰€æœ‰çš„å…ƒç´ ç´§æŒ¨ç€ä¸€èµ·å­˜å‚¨ï¼Œåˆ†é…çš„æ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ã€‚</p>\n<p>å½“æ•°æ®é‡æ¯”è¾ƒå¤šçš„æ—¶å€™æ‰ä¼šæ”¹æˆ <code>quicklist</code> ã€‚</p>\n<p>å› ä¸ºæ™®é€šçš„é“¾è¡¨éœ€è¦çš„é™„åŠ æŒ‡é’ˆç©ºé—´å¤ªå¤§ï¼Œä¼šæ¯”è¾ƒæµªè´¹ç©ºé—´ã€‚æ¯”å¦‚è¿™ä¸ªåˆ—è¡¨é‡Œå­˜çš„åªæ˜¯ int ç±»å‹çš„æ•°æ®ï¼Œç»“æ„ä¸Šè¿˜éœ€è¦ä¸¤ä¸ªé¢å¤–çš„æŒ‡é’ˆ prev å’Œ nextã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727135259344.png\" alt=\"image-20220727135259344\"></p>\n<p>Redis å°†é“¾è¡¨å’Œ ziplist ç»“åˆèµ·æ¥ç»„æˆäº† quicklistã€‚ä¹Ÿå°±æ˜¯å°†å¤šä¸ª ziplist ä½¿ç”¨åŒå‘æŒ‡é’ˆä¸²èµ·æ¥ä½¿ç”¨ã€‚è¿™æ ·æ—¢æ»¡è¶³äº†å¿«é€Ÿçš„æ’å…¥åˆ é™¤æ€§èƒ½ï¼Œåˆä¸ä¼šå‡ºç°å¤ªå¤§çš„ç©ºé—´å†—ä½™ã€‚</p>\n<h2 id=\"4-redisé›†åˆset\"><a class=\"markdownIt-Anchor\" href=\"#4-redisé›†åˆset\">#</a> 4 - Redis é›†åˆ (Set)</h2>\n<h3 id=\"341ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#341ç®€ä»‹\">#</a> 3.4.1.\tç®€ä»‹</h3>\n<p>Redis set å¯¹å¤–æä¾›çš„åŠŸèƒ½ä¸ list ç±»ä¼¼æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„åŠŸèƒ½ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äº set æ˜¯å¯ä»¥ <code>è‡ªåŠ¨æ’é‡</code> çš„ï¼Œå½“ä½ éœ€è¦å­˜å‚¨ä¸€ä¸ªåˆ—è¡¨æ•°æ®ï¼Œåˆä¸å¸Œæœ›å‡ºç°é‡å¤æ•°æ®æ—¶ï¼Œset æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå¹¶ä¸” set æä¾›äº†åˆ¤æ–­æŸä¸ªæˆå‘˜æ˜¯å¦åœ¨ä¸€ä¸ª set é›†åˆå†…çš„é‡è¦æ¥å£ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ list æ‰€ä¸èƒ½æä¾›çš„ã€‚</p>\n<p>Redis çš„ Set æ˜¯ string ç±»å‹çš„<strong>æ— åºé›†åˆ</strong>ã€‚<strong>å®ƒåº•å±‚å…¶å®æ˜¯ä¸€ä¸ª value ä¸º null çš„ hash è¡¨ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯ O (1)</strong>ã€‚</p>\n<p>ä¸€ä¸ªç®—æ³•ï¼Œéšç€æ•°æ®çš„å¢åŠ ï¼Œæ‰§è¡Œæ—¶é—´çš„é•¿çŸ­ï¼Œå¦‚æœæ˜¯ O (1)ï¼Œæ•°æ®å¢åŠ ï¼ŒæŸ¥æ‰¾æ•°æ®çš„æ—¶é—´ä¸å˜</p>\n<h3 id=\"342å¸¸ç”¨å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#342å¸¸ç”¨å‘½ä»¤\">#</a> 3.4.2.\tå¸¸ç”¨å‘½ä»¤</h3>\n<p><code>Set:</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Redisæ•°æ®ç»“æ„ï¼ˆSetï¼‰: Listå…è®¸å‡ºç°é‡å¤æ•°æ®ï¼ŒSetä¸å…è®¸å‡ºç°é‡å¤æ•°æ®ï¼›Setæœ€å¤§å…ƒç´ æ•°é‡æ˜¯4294967295</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ï¼ˆ1ï¼‰å­˜ï¼šsadd åˆ—å <span class=\"token punctuation\">[</span>å€¼<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  ï¼ˆ2ï¼‰åˆ ï¼šsrem åˆ—å <span class=\"token punctuation\">[</span>å€¼<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  ï¼ˆ3ï¼‰æŸ¥å…¨ï¼šsmembers åˆ—å</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  ï¼ˆ4ï¼‰æŸ¥æ˜¯å¦å­˜åœ¨ï¼šsismember åˆ—å å€¼ï¼Œ1è¡¨ç¤ºå­˜åœ¨ï¼Œ0è¡¨ç¤ºä¸å­˜åœ¨</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  ï¼ˆ5ï¼‰å·®é›†ï¼šsdiff åˆ—å1 åˆ—å2 ï¼ˆ<span class=\"token punctuation\">(</span>åˆ—1ä¸­çš„ï¼Œä¸åŒ…å«åœ¨åˆ—2ä¸­çš„<span class=\"token punctuation\">)</span>ï¼‰</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  ï¼ˆ6ï¼‰äº¤é›†ï¼šsinter åˆ—å1 åˆ—å2</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  ï¼ˆ7ï¼‰å¹¶é›†ï¼šsunion åˆ—å1 åˆ—å2</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  ï¼ˆ8ï¼‰æŸ¥æ•°é‡ï¼šscard åˆ—å</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  ï¼ˆ9ï¼‰éšæœºæŸ¥<span class=\"token operator\">&lt;</span>n<span class=\"token operator\">></span>ä¸ªå€¼ï¼šsrandmember åˆ—å <span class=\"token operator\">&lt;</span>n<span class=\"token operator\">></span>ï¼ˆä¸ä¼šä»é›†åˆä¸­åˆ é™¤ï¼‰</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  ï¼ˆ10ï¼‰éšæœºåå‡ºä¸€ä¸ªå€¼ï¼šspop åˆ—å</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  ï¼ˆ11ï¼‰ä»é›†åˆAçš„å€¼ç§»åŠ¨åˆ°é›†åˆBï¼šsmove åˆ—å1 åˆ—å2 å€¼ </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  ï¼ˆ12ï¼‰å°†å·®é›†å­˜åˆ°æ–°é›†åˆä¸­ï¼šsdiffstore æ–°åˆ—å åˆ—å1 åˆ—å2</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  ï¼ˆ13ï¼‰å°†äº¤é›†å­˜åˆ°æ–°é›†åˆä¸­ï¼šsinterstore æ–°åˆ—å åˆ—å1 åˆ—å2</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  ï¼ˆ14ï¼‰å°†å¹¶é›†å­˜åˆ°æ–°é›†åˆä¸­ï¼šsunionstore æ–°åˆ—å åˆ—å1 åˆ—å2</pre></td></tr></table></figure><h3 id=\"343æ•°æ®ç»“æ„\"><a class=\"markdownIt-Anchor\" href=\"#343æ•°æ®ç»“æ„\">#</a> 3.4.3.\tæ•°æ®ç»“æ„</h3>\n<p>Set æ•°æ®ç»“æ„æ˜¯ dict å­—å…¸ï¼Œå­—å…¸æ˜¯ç”¨ <code>å“ˆå¸Œè¡¨</code> å®ç°çš„ã€‚</p>\n<p>Java ä¸­ HashSet çš„å†…éƒ¨å®ç°ä½¿ç”¨çš„æ˜¯ HashMapï¼Œåªä¸è¿‡æ‰€æœ‰çš„ value éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚Redis çš„ set ç»“æ„ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå®ƒçš„å†…éƒ¨ä¹Ÿä½¿ç”¨ hash ç»“æ„ï¼Œæ‰€æœ‰çš„ value éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…éƒ¨å€¼ã€‚</p>\n<h2 id=\"5-rediså“ˆå¸Œhash\"><a class=\"markdownIt-Anchor\" href=\"#5-rediså“ˆå¸Œhash\">#</a> 5 - Redis å“ˆå¸Œ (Hash)</h2>\n<h3 id=\"351ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#351ç®€ä»‹\">#</a> 3.5.1.\tç®€ä»‹</h3>\n<p>Redis hash æ˜¯ä¸€ä¸ªé”®å€¼å¯¹é›†åˆã€‚</p>\n<p>Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ <code>field</code>  å’Œ <code>value</code>  çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äº <code>å­˜å‚¨å¯¹è±¡</code> ã€‚<br>\nç±»ä¼¼ Java é‡Œé¢çš„ Map&lt;String,Object&gt;</p>\n<p>ç”¨æˆ· ID ä¸ºæŸ¥æ‰¾çš„ keyï¼Œå­˜å‚¨çš„ value ç”¨æˆ·å¯¹è±¡åŒ…å«å§“åï¼Œå¹´é¾„ï¼Œç”Ÿæ—¥ç­‰ä¿¡æ¯ï¼Œå¦‚æœç”¨æ™®é€šçš„ key/value ç»“æ„æ¥å­˜å‚¨</p>\n<p>ä¸»è¦æœ‰ä»¥ä¸‹ 2 ç§å­˜å‚¨æ–¹å¼ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727140611227.png\" alt=\"image-20220727140611227\"></p>\n<h3 id=\"352å¸¸ç”¨å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#352å¸¸ç”¨å‘½ä»¤\">#</a> 3.5.2.\tå¸¸ç”¨å‘½ä»¤</h3>\n<p><code>Hash:</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å¸¸ç”¨å­˜å‚¨ç±»å‹ï¼ˆHashï¼‰ï¼šæ¯ä¸ªå¯å­˜4294967295ä¸ªé”®å€¼å¯¹</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>å‘½ä»¤: è¡¨å<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> åŸŸ<span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">)</span> å€¼<span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ï¼ˆ1ï¼‰å­˜ï¼šhset è¡¨å åŸŸ å€¼ </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  ï¼ˆ2ï¼‰æ‰¹é‡å­˜ï¼šhmset è¡¨å åŸŸ å€¼ åŸŸ å€¼<span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  ï¼ˆ2ï¼‰å–ï¼šhget è¡¨å åŸŸ</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  ï¼ˆ4ï¼‰æ‰¹é‡å–ï¼šhmget è¡¨å åŸŸ åŸŸ <span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  ï¼ˆ5ï¼‰å–å…¨ï¼šhgetall è¡¨å</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  ï¼ˆ6ï¼‰åˆ é™¤ï¼šhdel è¡¨å åŸŸ<span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  ï¼ˆ7ï¼‰å…¨åˆ ï¼šdel è¡¨å</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  ï¼ˆ8ï¼‰å¢æŒ‡å®šå€¼ï¼šhincrby è¡¨å åŸŸ <span class=\"token punctuation\">[</span>integer<span class=\"token punctuation\">]</span>ï¼ˆä¸€å®šæ˜¯æ•´æ•°ï¼‰</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  ï¼ˆ9ï¼‰åˆ¤æ–­å­˜åœ¨ï¼šhexists è¡¨å åŸŸ <span class=\"token punctuation\">(</span>æŸ¥çœ‹å“ˆå¸Œè¡¨ key ä¸­ï¼Œç»™å®šåŸŸ field æ˜¯å¦å­˜åœ¨<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  ï¼ˆ10ï¼‰è®¾ç½®åŸŸå€¼ï¼šhsetnx è¡¨å f <span class=\"token function\">v</span> ï¼ˆå°†hashè¡¨ä¸­åŸŸfçš„å€¼è®¾ç½®ä¸ºvï¼Œå½“ä¸”ä»…å½“fieldä¸å­˜åœ¨æ—¶ï¼‰</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  ï¼ˆ11ï¼‰é”®å€¼å¯¹æ•°é‡ï¼šhlen è¡¨å</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  ï¼ˆ12ï¼‰å–æ‰€æœ‰åŸŸ<span class=\"token punctuation\">(</span>é”®<span class=\"token punctuation\">)</span>ï¼šhkeys è¡¨åï¼ˆåˆ—å‡ºæ‰€æœ‰çš„fieldï¼‰</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  ï¼ˆ13ï¼‰å–æ‰€æœ‰å€¼ï¼šhvals è¡¨åï¼ˆåˆ—å‡ºæ‰€æœ‰çš„valueï¼‰</pre></td></tr></table></figure><h3 id=\"353æ•°æ®ç»“æ„\"><a class=\"markdownIt-Anchor\" href=\"#353æ•°æ®ç»“æ„\">#</a> 3.5.3.\tæ•°æ®ç»“æ„</h3>\n<p>Hash ç±»å‹å¯¹åº”çš„æ•°æ®ç»“æ„æ˜¯ä¸¤ç§ï¼š <code>ziplist</code> ï¼ˆå‹ç¼©åˆ—è¡¨ï¼‰ï¼Œ <code>hashtable</code> ï¼ˆå“ˆå¸Œè¡¨ï¼‰ã€‚å½“ field-value é•¿åº¦è¾ƒçŸ­ä¸”ä¸ªæ•°è¾ƒå°‘æ—¶ï¼Œä½¿ç”¨ ziplistï¼Œå¦åˆ™ä½¿ç”¨ hashtableã€‚</p>\n<h2 id=\"6-redisæœ‰åºé›†åˆzsetsorted-set\"><a class=\"markdownIt-Anchor\" href=\"#6-redisæœ‰åºé›†åˆzsetsorted-set\">#</a> 6 - Redis æœ‰åºé›†åˆ Zset (sorted set)</h2>\n<h3 id=\"361ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#361ç®€ä»‹\">#</a> 3.6.1.\tç®€ä»‹</h3>\n<p>Redis æœ‰åºé›†åˆ zset ä¸æ™®é€šé›†åˆ set éå¸¸ç›¸ä¼¼ï¼Œæ˜¯ä¸€ä¸ª <code>æ²¡æœ‰é‡å¤å…ƒç´ </code> çš„å­—ç¬¦ä¸²é›†åˆã€‚</p>\n<p>ä¸åŒä¹‹å¤„æ˜¯æœ‰åºé›†åˆçš„æ¯ä¸ªæˆå‘˜éƒ½å…³è”äº†ä¸€ä¸ª <code>è¯„åˆ†ï¼ˆscoreï¼‰</code> , è¿™ä¸ªè¯„åˆ†ï¼ˆscoreï¼‰è¢«ç”¨æ¥æŒ‰ç…§ä»æœ€ä½åˆ†åˆ°æœ€é«˜åˆ†çš„æ–¹å¼ <code>æ’åº</code> é›†åˆä¸­çš„æˆå‘˜ã€‚<strong>é›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯è¯„åˆ†å¯ä»¥æ˜¯é‡å¤äº† ã€‚</strong></p>\n<p>å› ä¸ºå…ƒç´ æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥å¾ˆå¿«çš„æ ¹æ®è¯„åˆ†ï¼ˆscoreï¼‰æˆ–è€…æ¬¡åºï¼ˆpositionï¼‰æ¥è·å–ä¸€ä¸ªèŒƒå›´çš„å…ƒç´ ã€‚</p>\n<p>è®¿é—®æœ‰åºé›†åˆçš„ä¸­é—´å…ƒç´ ä¹Ÿæ˜¯éå¸¸å¿«çš„ï¼Œå› æ­¤ä½ èƒ½å¤Ÿ<strong>ä½¿ç”¨æœ‰åºé›†åˆä½œä¸ºä¸€ä¸ªæ²¡æœ‰é‡å¤æˆå‘˜</strong>çš„æ™ºèƒ½åˆ—è¡¨ã€‚</p>\n<h3 id=\"362å¸¸ç”¨å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#362å¸¸ç”¨å‘½ä»¤\">#</a> 3.6.2.\tå¸¸ç”¨å‘½ä»¤</h3>\n<p><code>Zset:</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å‘½ä»¤: é›†åˆå<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> è¯„åˆ†<span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">)</span> å€¼<span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  ï¼ˆ1ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>å­˜<span class=\"token variable\">`</span></span>ï¼šzadd é›†åˆå è¯„åˆ†1 å€¼1 è¯„åˆ†2 å€¼2<span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ï¼ˆ2ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>æŒ‰ä¸‹æ ‡å–<span class=\"token variable\">`</span></span>ï¼šzrange é›†åˆå ä¸‹æ ‡1 ä¸‹æ ‡2 <span class=\"token punctuation\">[</span>WITHSCORES<span class=\"token punctuation\">]</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  ï¼ˆè¿”å›æœ‰åºé›† key ä¸­ï¼Œä¸‹æ ‡åœ¨<span class=\"token operator\">&lt;</span>ä¸‹æ ‡<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>></span> <span class=\"token operator\">&lt;</span>ä¸‹æ ‡<span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>ä¹‹é—´çš„å…ƒç´ ,å¸¦WITHSCORESï¼Œå¯ä»¥è®©åˆ†æ•°ä¸€èµ·å’Œå€¼è¿”å›åˆ°ç»“æœé›†ï¼‰</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  ï¼ˆ3ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>æŒ‰è¯„åˆ†å–<span class=\"token variable\">`</span></span>ï¼šzrangebyscore é›†åˆå min max <span class=\"token punctuation\">[</span>withscores<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>limit offset count<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  ï¼ˆè¿”å›æœ‰åºé›† key ä¸­ï¼Œæ‰€æœ‰ score å€¼ä»‹äº min å’Œ max ä¹‹é—´<span class=\"token punctuation\">(</span>åŒ…æ‹¬ç­‰äº min æˆ– max <span class=\"token punctuation\">)</span>çš„æˆå‘˜ã€‚æœ‰åºé›†æˆå‘˜æŒ‰ score å€¼é€’å¢<span class=\"token punctuation\">(</span>ä»å°åˆ°å¤§<span class=\"token punctuation\">)</span>æ¬¡åºæ’åˆ—ï¼‰</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  ï¼ˆ4ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>ä»å¤§åˆ°å°å–<span class=\"token variable\">`</span></span>ï¼šzrevrangebyscore é›†åˆå max min <span class=\"token punctuation\">[</span>withscores<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>limit offset count<span class=\"token punctuation\">]</span>   ï¼ˆåŒä¸Šï¼Œæ”¹ä¸ºä»å¤§åˆ°å°æ’åˆ—ã€‚ï¼‰</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  ï¼ˆ5ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>å¢æŒ‡å®šå€¼<span class=\"token variable\">`</span></span>ï¼šzincrby é›†åˆå å¢é‡ å€¼ï¼ˆç»™å€¼åŠ ä¸Šå¢é‡ï¼‰</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  ï¼ˆ6ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>åˆ é™¤<span class=\"token variable\">`</span></span>ï¼šzrem é›†åˆå å€¼ </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  ï¼ˆ7ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>ç»Ÿè®¡<span class=\"token variable\">`</span></span>ï¼šzcount é›†åˆå min max ï¼ˆç»Ÿè®¡è¯¥é›†åˆï¼Œåˆ†æ•°åŒºé—´å†…çš„å…ƒç´ ä¸ªæ•°ï¼‰</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  ï¼ˆ8ï¼‰<span class=\"token variable\"><span class=\"token variable\">`</span>æ’å<span class=\"token variable\">`</span></span>ï¼šzrank é›†åˆå å€¼ ï¼ˆè¿”å›è¯¥å€¼åœ¨é›†åˆä¸­çš„æ’åï¼Œä»0å¼€å§‹ï¼‰</pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼šå¦‚ä½•åˆ©ç”¨ zset å®ç°ä¸€ä¸ªæ–‡ç« è®¿é—®é‡çš„æ’è¡Œæ¦œï¼Ÿ</p>\n<h3 id=\"363æ•°æ®ç»“æ„\"><a class=\"markdownIt-Anchor\" href=\"#363æ•°æ®ç»“æ„\">#</a> 3.6.3.\tæ•°æ®ç»“æ„</h3>\n<p>SortedSet (zset) æ˜¯ Redis æä¾›çš„ä¸€ä¸ªéå¸¸ç‰¹åˆ«çš„æ•°æ®ç»“æ„ï¼Œä¸€æ–¹é¢å®ƒç­‰ä»·äº Java çš„æ•°æ®ç»“æ„ Map&lt;String, Double&gt;ï¼Œå¯ä»¥ç»™æ¯ä¸€ä¸ªå…ƒç´  value èµ‹äºˆä¸€ä¸ªæƒé‡ scoreï¼Œå¦ä¸€æ–¹é¢å®ƒåˆç±»ä¼¼äº TreeSetï¼Œå†…éƒ¨çš„å…ƒç´ ä¼šæŒ‰ç…§æƒé‡ score è¿›è¡Œæ’åºï¼Œå¯ä»¥å¾—åˆ°æ¯ä¸ªå…ƒç´ çš„åæ¬¡ï¼Œè¿˜å¯ä»¥é€šè¿‡ score çš„èŒƒå›´æ¥è·å–å…ƒç´ çš„åˆ—è¡¨ã€‚</p>\n<p>zset åº•å±‚ä½¿ç”¨äº†ä¸¤ä¸ªæ•°æ®ç»“æ„<br>\nï¼ˆ1ï¼‰<strong>hash</strong>ï¼Œhash çš„ä½œç”¨å°±æ˜¯å…³è”å…ƒç´  value å’Œæƒé‡ scoreï¼Œä¿éšœå…ƒç´  value çš„å”¯ä¸€æ€§ï¼Œå¯ä»¥é€šè¿‡å…ƒç´  value æ‰¾åˆ°ç›¸åº”çš„ score å€¼ã€‚<br>\nï¼ˆ2ï¼‰<strong>è·³è·ƒè¡¨</strong>ï¼Œè·³è·ƒè¡¨çš„ç›®çš„åœ¨äºç»™å…ƒç´  value æ’åºï¼Œæ ¹æ® score çš„èŒƒå›´è·å–å…ƒç´ åˆ—è¡¨ã€‚</p>\n<h3 id=\"364è·³è·ƒè¡¨è·³è¡¨\"><a class=\"markdownIt-Anchor\" href=\"#364è·³è·ƒè¡¨è·³è¡¨\">#</a> 3.6.4.\tè·³è·ƒè¡¨ï¼ˆè·³è¡¨ï¼‰</h3>\n<p><strong>1ã€ç®€ä»‹</strong></p>\n<p>â€‹\t    æœ‰åºé›†åˆåœ¨ç”Ÿæ´»ä¸­æ¯”è¾ƒå¸¸è§ï¼Œä¾‹å¦‚æ ¹æ®æˆç»©å¯¹å­¦ç”Ÿæ’åï¼Œæ ¹æ®å¾—åˆ†å¯¹ç©å®¶æ’åç­‰ã€‚å¯¹äºæœ‰åºé›†åˆçš„åº•å±‚å®ç°ï¼Œå¯ä»¥ç”¨æ•°ç»„ã€å¹³è¡¡æ ‘ã€é“¾è¡¨ç­‰ã€‚æ•°ç»„ä¸ä¾¿å…ƒç´ çš„æ’å…¥ã€åˆ é™¤ï¼›å¹³è¡¡æ ‘æˆ–çº¢é»‘æ ‘è™½ç„¶æ•ˆç‡é«˜ä½†ç»“æ„å¤æ‚ï¼›é“¾è¡¨æŸ¥è¯¢éœ€è¦éå†æ‰€æœ‰æ•ˆç‡ä½ã€‚Redis é‡‡ç”¨çš„æ˜¯è·³è·ƒè¡¨ã€‚è·³è·ƒè¡¨æ•ˆç‡å ªæ¯”çº¢é»‘æ ‘ï¼Œå®ç°è¿œæ¯”çº¢é»‘æ ‘ç®€å•ã€‚</p>\n<p><strong>2ã€å®ä¾‹</strong></p>\n<p>â€‹\tå¯¹æ¯”æœ‰åºé“¾è¡¨å’Œè·³è·ƒè¡¨ï¼Œä»é“¾è¡¨ä¸­æŸ¥è¯¢å‡º 51</p>\n<p>ï¼ˆ1ï¼‰<strong>æœ‰åºé“¾è¡¨</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727150205067.png\" alt=\"image-20220727150205067\"></p>\n<p>è¦æŸ¥æ‰¾å€¼ä¸º 51 çš„å…ƒç´ ï¼Œéœ€è¦ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ä¾æ¬¡æŸ¥æ‰¾ã€æ¯”è¾ƒæ‰èƒ½æ‰¾åˆ°ã€‚å…±éœ€è¦ 6 æ¬¡æ¯”è¾ƒã€‚<br>\nï¼ˆ2ï¼‰<strong>è·³è·ƒè¡¨</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220727150256931.png\" alt=\"image-20220727150256931\"></p>\n<p>ä»ç¬¬ 2 å±‚å¼€å§‹ï¼Œ1 èŠ‚ç‚¹æ¯” 51 èŠ‚ç‚¹å°ï¼Œå‘åæ¯”è¾ƒã€‚</p>\n<p>21 èŠ‚ç‚¹æ¯” 51 èŠ‚ç‚¹å°ï¼Œç»§ç»­å‘åæ¯”è¾ƒï¼Œåé¢å°±æ˜¯ NULL äº†ï¼Œæ‰€ä»¥ä» 21 èŠ‚ç‚¹å‘ä¸‹åˆ°ç¬¬ 1 å±‚</p>\n<p>åœ¨ç¬¬ 1 å±‚ï¼Œ41 èŠ‚ç‚¹æ¯” 51 èŠ‚ç‚¹å°ï¼Œç»§ç»­å‘åï¼Œ61 èŠ‚ç‚¹æ¯” 51 èŠ‚ç‚¹å¤§ï¼Œæ‰€ä»¥ä» 41 å‘ä¸‹</p>\n<p>åœ¨ç¬¬ 0 å±‚ï¼Œ51 èŠ‚ç‚¹ä¸ºè¦æŸ¥æ‰¾çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹è¢«æ‰¾åˆ°ï¼Œå…±æŸ¥æ‰¾ 4 æ¬¡ã€‚</p>\n<p>ä»æ­¤å¯ä»¥çœ‹å‡ºè·³è·ƒè¡¨æ¯”æœ‰åºé“¾è¡¨æ•ˆç‡è¦é«˜</p>\n<h1 id=\"å››-redisé…ç½®æ–‡ä»¶ä»‹ç»\"><a class=\"markdownIt-Anchor\" href=\"#å››-redisé…ç½®æ–‡ä»¶ä»‹ç»\">#</a> å››ã€Redis é…ç½®æ–‡ä»¶ä»‹ç»</h1>\n<p>æˆ‘çš„ç›®å½•ï¼š/opt/redis-6.2.7/redis.conf</p>\n<h2 id=\"1-unitså•ä½\"><a class=\"markdownIt-Anchor\" href=\"#1-unitså•ä½\">#</a> 1- Units å•ä½</h2>\n<p>é…ç½®å¤§å°å•ä½ï¼Œå¼€å¤´å®šä¹‰äº†ä¸€äº›åŸºæœ¬çš„åº¦é‡å•ä½ï¼Œåªæ”¯æŒ bytesï¼Œä¸æ”¯æŒ bit å¤§å°å†™ä¸æ•æ„Ÿ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730115141232.png\" alt=\"image-20220730115141232\"></p>\n<h2 id=\"2-includesåŒ…å«\"><a class=\"markdownIt-Anchor\" href=\"#2-includesåŒ…å«\">#</a> 2- INCLUDES åŒ…å«</h2>\n<p>ç±»ä¼¼ jsp ä¸­çš„ includeï¼Œå¤šå®ä¾‹çš„æƒ…å†µå¯ä»¥æŠŠå…¬ç”¨çš„é…ç½®æ–‡ä»¶æå–å‡ºæ¥</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730115303933.png\" alt=\"image-20220730115303933\"></p>\n<h2 id=\"3-ç½‘ç»œç›¸å…³é…ç½®\"><a class=\"markdownIt-Anchor\" href=\"#3-ç½‘ç»œç›¸å…³é…ç½®\">#</a> 3 - ç½‘ç»œç›¸å…³é…ç½®</h2>\n<h3 id=\"431-bind\"><a class=\"markdownIt-Anchor\" href=\"#431-bind\">#</a> 4.3.1  bind</h3>\n<p>é»˜è®¤æƒ…å†µ bind=127.0.0.1 åªèƒ½æ¥å—æœ¬æœºçš„è®¿é—®è¯·æ±‚</p>\n<p>ä¸å†™çš„æƒ…å†µä¸‹ï¼Œæ— é™åˆ¶æ¥å—ä»»ä½• ip åœ°å€çš„è®¿é—®</p>\n<p>ç”Ÿäº§ç¯å¢ƒè‚¯å®šè¦å†™ä½ åº”ç”¨æœåŠ¡å™¨çš„åœ°å€ï¼›æœåŠ¡å™¨æ˜¯éœ€è¦è¿œç¨‹è®¿é—®çš„ï¼Œæ‰€ä»¥éœ€è¦å°†å…¶æ³¨é‡Šæ‰</p>\n<p><strong>å¦‚æœå¼€å¯äº† protected-modeï¼Œé‚£ä¹ˆåœ¨æ²¡æœ‰è®¾å®š bind ip ä¸”æ²¡æœ‰è®¾å¯†ç çš„æƒ…å†µä¸‹ï¼ŒRedis åªå…è®¸æ¥å—æœ¬æœºçš„å“åº”</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730141422593.png\" alt=\"image-20220730141422593\"></p>\n<p>ä¿å­˜é…ç½®ï¼Œåœæ­¢æœåŠ¡ï¼Œé‡å¯å¯åŠ¨æŸ¥çœ‹è¿›ç¨‹ï¼Œä¸å†æ˜¯æœ¬æœºè®¿é—®äº†ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730114744786.png\" alt=\"image-20220730114744786\"></p>\n<h3 id=\"432-protected-mode\"><a class=\"markdownIt-Anchor\" href=\"#432-protected-mode\">#</a> 4.3.2.  protected-mode</h3>\n<p>å°†æœ¬æœºè®¿é—®ä¿æŠ¤æ¨¡å¼è®¾ç½® no</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730141730607.png\" alt=\"image-20220730141730607\"></p>\n<h3 id=\"433-port\"><a class=\"markdownIt-Anchor\" href=\"#433-port\">#</a> 4.3.3 Port</h3>\n<p>ç«¯å£å·ï¼Œé»˜è®¤ 6379</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730141828893.png\" alt=\"image-20220730141828893\"></p>\n<h3 id=\"434-tcp-backlog\"><a class=\"markdownIt-Anchor\" href=\"#434-tcp-backlog\">#</a> 4.3.4.  tcp-backlog</h3>\n<p>è®¾ç½® tcp çš„ backlogï¼Œbacklog å…¶å®æ˜¯ä¸€ä¸ªè¿æ¥é˜Ÿåˆ—ï¼Œbacklog é˜Ÿåˆ—æ€»å’Œ = æœªå®Œæˆä¸‰æ¬¡æ¡æ‰‹é˜Ÿåˆ— + å·²ç»å®Œæˆä¸‰æ¬¡æ¡æ‰‹é˜Ÿåˆ—ã€‚</p>\n<p>åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ä½ éœ€è¦ä¸€ä¸ªé«˜ backlog å€¼æ¥é¿å…æ…¢å®¢æˆ·ç«¯è¿æ¥é—®é¢˜ã€‚</p>\n<p>æ³¨æ„ Linux å†…æ ¸ä¼šå°†è¿™ä¸ªå€¼å‡å°åˆ° /proc/sys/net/core/somaxconn çš„å€¼ï¼ˆ128ï¼‰ï¼Œæ‰€ä»¥éœ€è¦ç¡®è®¤å¢å¤§ /proc/sys/net/core/somaxconn å’Œ /proc/sys/net/ipv4/tcp_max_syn_backlogï¼ˆ128ï¼‰ä¸¤ä¸ªå€¼æ¥è¾¾åˆ°æƒ³è¦çš„æ•ˆæœ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730142147649.png\" alt=\"image-20220730142147649\"></p>\n<h3 id=\"435-timeout\"><a class=\"markdownIt-Anchor\" href=\"#435-timeout\">#</a> 4.3.5.  timeout</h3>\n<p>ä¸€ä¸ªç©ºé—²çš„å®¢æˆ·ç«¯ç»´æŒå¤šå°‘ç§’ä¼šå…³é—­ï¼Œ0 è¡¨ç¤ºå…³é—­è¯¥åŠŸèƒ½ã€‚å³<strong>æ°¸ä¸å…³é—­</strong>ã€‚</p>\n<p><img data-src=\"C:%5CUsers%5C22616%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220730142318928.png\" alt=\"image-20220730142318928\"></p>\n<h3 id=\"436-tcp-keepalive\"><a class=\"markdownIt-Anchor\" href=\"#436-tcp-keepalive\">#</a> 4.3.6.  tcp-keepalive</h3>\n<p>å¯¹è®¿é—®å®¢æˆ·ç«¯çš„ä¸€ç§<strong>å¿ƒè·³æ£€æµ‹</strong>ï¼Œæ¯ä¸ª n ç§’æ£€æµ‹ä¸€æ¬¡ã€‚</p>\n<p>å•ä½ä¸ºç§’ï¼Œå¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸ä¼šè¿›è¡Œ Keepalive æ£€æµ‹ï¼Œå»ºè®®è®¾ç½®æˆ 60</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730143102388.png\" alt=\"image-20220730143102388\"></p>\n<h2 id=\"4-generalé€šç”¨\"><a class=\"markdownIt-Anchor\" href=\"#4-generalé€šç”¨\">#</a> 4 - GENERAL é€šç”¨</h2>\n<h3 id=\"441-daemonize\"><a class=\"markdownIt-Anchor\" href=\"#441-daemonize\">#</a> 4.4.1.  daemonize</h3>\n<p>æ˜¯å¦ä¸ºåå°è¿›ç¨‹ï¼Œè®¾ç½®ä¸º yes</p>\n<p>å®ˆæŠ¤è¿›ç¨‹ï¼Œåå°å¯åŠ¨</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730143234823.png\" alt=\"image-20220730143234823\"></p>\n<h3 id=\"442-pidfile\"><a class=\"markdownIt-Anchor\" href=\"#442-pidfile\">#</a> 4.4.2.  pidfile</h3>\n<p>å­˜æ”¾ pid æ–‡ä»¶çš„ä½ç½®ï¼Œæ¯ä¸ªå®ä¾‹ä¼šäº§ç”Ÿä¸€ä¸ªä¸åŒçš„ pid æ–‡ä»¶</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730143450301.png\" alt=\"image-20220730143450301\"></p>\n<h3 id=\"443-loglevel\"><a class=\"markdownIt-Anchor\" href=\"#443-loglevel\">#</a> 4.4.3.  loglevel</h3>\n<p>æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedis æ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸º<strong> notice</strong></p>\n<p><strong>å››ä¸ªçº§åˆ«æ ¹æ®ä½¿ç”¨é˜¶æ®µæ¥é€‰æ‹©ï¼Œç”Ÿäº§ç¯å¢ƒé€‰æ‹© notice æˆ–è€… warning</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730143541853.png\" alt=\"image-20220730143541853\"></p>\n<h3 id=\"444-logfile\"><a class=\"markdownIt-Anchor\" href=\"#444-logfile\">#</a> 4.4.4.  logfile</h3>\n<p>æ—¥å¿—æ–‡ä»¶åç§°</p>\n<p><img data-src=\"C:%5CUsers%5C22616%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220730143639134.png\" alt=\"image-20220730143639134\"></p>\n<h3 id=\"445-databases-16\"><a class=\"markdownIt-Anchor\" href=\"#445-databases-16\">#</a> 4.4.5.  databases 16</h3>\n<p>è®¾å®šåº“çš„æ•°é‡ é»˜è®¤ 16ï¼Œé»˜è®¤æ•°æ®åº“ä¸º 0ï¼Œå¯ä»¥ä½¿ç”¨ SELECT <dbid>å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“ id</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730143726917.png\" alt=\"image-20220730143726917\"></p>\n<h2 id=\"5-securityå®‰å…¨\"><a class=\"markdownIt-Anchor\" href=\"#5-securityå®‰å…¨\">#</a> 5 -  SECURITY å®‰å…¨</h2>\n<h3 id=\"551-è®¾ç½®å¯†ç \"><a class=\"markdownIt-Anchor\" href=\"#551-è®¾ç½®å¯†ç \">#</a> 5.5.1.  è®¾ç½®å¯†ç </h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730144004826.png\" alt=\"image-20220730144004826\"></p>\n<p>è®¿é—®å¯†ç çš„æŸ¥çœ‹ã€è®¾ç½®å’Œå–æ¶ˆ</p>\n<p>åœ¨å‘½ä»¤ä¸­è®¾ç½®å¯†ç ï¼Œåªæ˜¯ä¸´æ—¶çš„ã€‚é‡å¯ redis æœåŠ¡å™¨ï¼Œå¯†ç å°±è¿˜åŸäº†ã€‚</p>\n<p>æ°¸ä¹…è®¾ç½®ï¼Œéœ€è¦å†é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730144237188.png\" alt=\"image-20220730144237188\"></p>\n<h2 id=\"6-limitsé™åˆ¶\"><a class=\"markdownIt-Anchor\" href=\"#6-limitsé™åˆ¶\">#</a> 6 - LIMITS é™åˆ¶</h2>\n<h3 id=\"661-maxclients\"><a class=\"markdownIt-Anchor\" href=\"#661-maxclients\">#</a> 6.6.1.  maxclients</h3>\n<ul>\n<li>\n<p>è®¾ç½® redis åŒæ—¶å¯ä»¥ä¸å¤šå°‘ä¸ªå®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ã€‚</p>\n</li>\n<li>\n<p>é»˜è®¤æƒ…å†µä¸‹ä¸º 10000 ä¸ªå®¢æˆ·ç«¯ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœè¾¾åˆ°äº†æ­¤é™åˆ¶ï¼Œredis åˆ™ä¼šæ‹’ç»æ–°çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶ä¸”å‘è¿™äº›è¿æ¥è¯·æ±‚æ–¹å‘å‡º â€œmax number of clients reachedâ€ ä»¥ä½œå›åº”ã€‚</p>\n</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730144953788.png\" alt=\"image-20220730144953788\"></p>\n<h3 id=\"662-maxmemory\"><a class=\"markdownIt-Anchor\" href=\"#662-maxmemory\">#</a> 6.6.2.  maxmemory</h3>\n<ul>\n<li>\n<p>å»ºè®®<strong>å¿…é¡»è®¾ç½®</strong>ï¼Œå¦åˆ™ï¼Œå°†å†…å­˜å æ»¡ï¼Œé€ æˆæœåŠ¡å™¨å®•æœº</p>\n</li>\n<li>\n<p>è®¾ç½® redis å¯ä»¥ä½¿ç”¨çš„å†…å­˜é‡ã€‚ä¸€æ—¦åˆ°è¾¾å†…å­˜ä½¿ç”¨ä¸Šé™ï¼Œredis å°†ä¼šè¯•å›¾ç§»é™¤å†…éƒ¨æ•°æ®ï¼Œç§»é™¤è§„åˆ™å¯ä»¥é€šè¿‡<strong> maxmemory-policy</strong> æ¥æŒ‡å®šã€‚</p>\n</li>\n<li>\n<p>å¦‚æœ redis æ— æ³•æ ¹æ®ç§»é™¤è§„åˆ™æ¥ç§»é™¤å†…å­˜ä¸­çš„æ•°æ®ï¼Œæˆ–è€…è®¾ç½®äº† â€œä¸å…è®¸ç§»é™¤â€ï¼Œé‚£ä¹ˆ redis åˆ™ä¼šé’ˆå¯¹é‚£äº›éœ€è¦ç”³è¯·å†…å­˜çš„æŒ‡ä»¤è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚ SETã€LPUSH ç­‰ã€‚</p>\n</li>\n<li>\n<p>ä½†æ˜¯å¯¹äºæ— å†…å­˜ç”³è¯·çš„æŒ‡ä»¤ï¼Œä»ç„¶ä¼šæ­£å¸¸å“åº”ï¼Œæ¯”å¦‚ GET ç­‰ã€‚å¦‚æœä½ çš„ redis æ˜¯ä¸» redisï¼ˆè¯´æ˜ä½ çš„ redis æœ‰ä» redisï¼‰ï¼Œé‚£ä¹ˆåœ¨è®¾ç½®å†…å­˜ä½¿ç”¨ä¸Šé™æ—¶ï¼Œéœ€è¦åœ¨ç³»ç»Ÿä¸­ç•™å‡ºä¸€äº›å†…å­˜ç©ºé—´ç»™åŒæ­¥é˜Ÿåˆ—ç¼“å­˜ï¼Œåªæœ‰åœ¨ä½ è®¾ç½®çš„æ˜¯ â€œä¸ç§»é™¤â€ çš„æƒ…å†µä¸‹ï¼Œæ‰ä¸ç”¨è€ƒè™‘è¿™ä¸ªå› ç´ ã€‚</p>\n</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145049188.png\" alt=\"image-20220730145049188\"></p>\n<h3 id=\"663-maxmemory-policy\"><a class=\"markdownIt-Anchor\" href=\"#663-maxmemory-policy\">#</a> 6.6.3.  maxmemory-policy</h3>\n<ul>\n<li>\n<p>volatile-lruï¼šä½¿ç”¨ LRU ç®—æ³•ç§»é™¤ keyï¼Œåªå¯¹è®¾ç½®äº†<strong>è¿‡æœŸæ—¶é—´</strong>çš„é”®ï¼›ï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰</p>\n</li>\n<li>\n<p>allkeys-lruï¼šåœ¨æ‰€æœ‰é›†åˆ key ä¸­ï¼Œä½¿ç”¨ LRU ç®—æ³•ç§»é™¤ key</p>\n</li>\n<li>\n<p>volatile-randomï¼šåœ¨è¿‡æœŸé›†åˆä¸­ç§»é™¤éšæœºçš„ keyï¼Œåªå¯¹è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®</p>\n</li>\n<li>\n<p>allkeys-randomï¼šåœ¨æ‰€æœ‰é›†åˆ key ä¸­ï¼Œç§»é™¤éšæœºçš„ key</p>\n</li>\n<li>\n<p>volatile-ttlï¼šç§»é™¤é‚£äº› TTL å€¼æœ€å°çš„ keyï¼Œå³é‚£äº›æœ€è¿‘è¦è¿‡æœŸçš„ key</p>\n</li>\n<li>\n<p>noevictionï¼šä¸è¿›è¡Œç§»é™¤ã€‚é’ˆå¯¹å†™æ“ä½œï¼Œåªæ˜¯è¿”å›é”™è¯¯ä¿¡æ¯</p>\n</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145143860.png\" alt=\"image-20220730145143860\"></p>\n<h3 id=\"664-maxmemory-samples\"><a class=\"markdownIt-Anchor\" href=\"#664-maxmemory-samples\">#</a> 6.6.4.  maxmemory-samples</h3>\n<ul>\n<li>\n<p>è®¾ç½®æ ·æœ¬æ•°é‡ï¼ŒLRU ç®—æ³•å’Œæœ€å° TTL ç®—æ³•éƒ½å¹¶éæ˜¯ç²¾ç¡®çš„ç®—æ³•ï¼Œè€Œæ˜¯ä¼°ç®—å€¼ï¼Œæ‰€ä»¥ä½ å¯ä»¥è®¾ç½®æ ·æœ¬çš„å¤§å°ï¼Œredis é»˜è®¤ä¼šæ£€æŸ¥è¿™ä¹ˆå¤šä¸ª key å¹¶é€‰æ‹©å…¶ä¸­ LRU çš„é‚£ä¸ªã€‚</p>\n</li>\n<li>\n<p>ä¸€èˆ¬è®¾ç½® 3 åˆ° 7 çš„æ•°å­—ï¼Œæ•°å€¼è¶Šå°æ ·æœ¬è¶Šä¸å‡†ç¡®ï¼Œä½†æ€§èƒ½æ¶ˆè€—è¶Šå°ã€‚</p>\n</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145234892.png\" alt=\"image-20220730145234892\"></p>\n<h1 id=\"äº”-redisçš„å‘å¸ƒå’Œè®¢é˜…\"><a class=\"markdownIt-Anchor\" href=\"#äº”-redisçš„å‘å¸ƒå’Œè®¢é˜…\">#</a> äº”ã€Redis çš„å‘å¸ƒå’Œè®¢é˜…</h1>\n<h2 id=\"1-ä»€ä¹ˆæ˜¯å‘å¸ƒå’Œè®¢é˜…\"><a class=\"markdownIt-Anchor\" href=\"#1-ä»€ä¹ˆæ˜¯å‘å¸ƒå’Œè®¢é˜…\">#</a> 1- ä»€ä¹ˆæ˜¯å‘å¸ƒå’Œè®¢é˜…</h2>\n<p>Redis å‘å¸ƒè®¢é˜… (pub/sub) æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼šå‘é€è€… (pub) å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€… (sub) æ¥æ”¶æ¶ˆæ¯ã€‚</p>\n<p>Redis å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…ä»»æ„æ•°é‡çš„é¢‘é“ã€‚</p>\n<h2 id=\"2-redisçš„å‘å¸ƒå’Œè®¢é˜…\"><a class=\"markdownIt-Anchor\" href=\"#2-redisçš„å‘å¸ƒå’Œè®¢é˜…\">#</a> 2- Redis çš„å‘å¸ƒå’Œè®¢é˜…</h2>\n<p>1ã€å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…é¢‘é“å¦‚ä¸‹å›¾</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145408989.png\" alt=\"image-20220730145408989\"></p>\n<p>2ã€å½“ç»™è¿™ä¸ªé¢‘é“å‘å¸ƒæ¶ˆæ¯åï¼Œæ¶ˆæ¯å°±ä¼šå‘é€ç»™è®¢é˜…çš„å®¢æˆ·ç«¯</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145420014.png\" alt=\"image-20220730145420014\"></p>\n<h2 id=\"3-å‘å¸ƒè®¢é˜…å‘½ä»¤è¡Œå®ç°\"><a class=\"markdownIt-Anchor\" href=\"#3-å‘å¸ƒè®¢é˜…å‘½ä»¤è¡Œå®ç°\">#</a> 3- å‘å¸ƒè®¢é˜…å‘½ä»¤è¡Œå®ç°</h2>\n<p>1ã€\tæ‰“å¼€ä¸€ä¸ªå®¢æˆ·ç«¯è®¢é˜… channel1<br>\nSUBSCRIBE channel1</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145530661.png\" alt=\"image-20220730145530661\"></p>\n<p>2ã€æ‰“å¼€å¦ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œç»™ channel1 å‘å¸ƒæ¶ˆæ¯ hello<br>\npublish channel1 hello</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145549967.png\" alt=\"image-20220730145549967\"></p>\n<p>è¿”å›çš„ 1 æ˜¯è®¢é˜…è€…æ•°é‡<br>\n 3ã€æ‰“å¼€ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯å¯ä»¥çœ‹åˆ°å‘é€çš„æ¶ˆæ¯</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145629320.png\" alt=\"image-20220730145629320\"></p>\n<p>æ³¨ï¼šå‘å¸ƒçš„æ¶ˆæ¯æ²¡æœ‰æŒä¹…åŒ–ï¼Œå¦‚æœåœ¨è®¢é˜…çš„å®¢æˆ·ç«¯æ”¶ä¸åˆ° helloï¼Œåªèƒ½æ”¶åˆ°è®¢é˜…åå‘å¸ƒçš„æ¶ˆæ¯</p>\n<h1 id=\"å…­-redisæ–°æ•°æ®ç±»å‹\"><a class=\"markdownIt-Anchor\" href=\"#å…­-redisæ–°æ•°æ®ç±»å‹\">#</a> å…­ã€Redis æ–°æ•°æ®ç±»å‹</h1>\n<h2 id=\"1-bitmaps\"><a class=\"markdownIt-Anchor\" href=\"#1-bitmaps\">#</a> 1- Bitmaps</h2>\n<h3 id=\"611ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#611ç®€ä»‹\">#</a> 6.1.1.\tç®€ä»‹</h3>\n<p>ç°ä»£è®¡ç®—æœºç”¨äºŒè¿›åˆ¶ï¼ˆä½ï¼‰ ä½œä¸ºä¿¡æ¯çš„åŸºç¡€å•ä½ï¼Œ 1 ä¸ªå­—èŠ‚ç­‰äº 8 ä½ï¼Œ ä¾‹å¦‚ â€œabcâ€ å­—ç¬¦ä¸²æ˜¯ç”± 3 ä¸ªå­—èŠ‚ç»„æˆï¼Œ ä½†å®é™…åœ¨è®¡ç®—æœºå­˜å‚¨æ—¶å°†å…¶ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œ â€œabcâ€ åˆ†åˆ«å¯¹åº”çš„ ASCII ç åˆ†åˆ«æ˜¯ 97ã€ 98ã€ 99ï¼Œ å¯¹åº”çš„äºŒè¿›åˆ¶åˆ†åˆ«æ˜¯ 01100001ã€ 01100010 å’Œ 01100011ï¼Œå¦‚ä¸‹å›¾</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145703500.png\" alt=\"image-20220730145703500\"></p>\n<p>åˆç†åœ°ä½¿ç”¨æ“ä½œä½èƒ½å¤Ÿæœ‰æ•ˆåœ°æé«˜å†…å­˜ä½¿ç”¨ç‡å’Œå¼€å‘æ•ˆç‡ã€‚<br>\nRedis æä¾›äº† Bitmaps è¿™ä¸ª â€œæ•°æ®ç±»å‹â€ å¯ä»¥å®ç°å¯¹ä½çš„æ“ä½œï¼š<br>\nï¼ˆ1ï¼‰\tBitmaps æœ¬èº«ä¸æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œ å®é™…ä¸Šå®ƒå°±æ˜¯å­—ç¬¦ä¸²ï¼ˆkey-valueï¼‰ ï¼Œ ä½†æ˜¯å®ƒå¯ä»¥å¯¹å­—ç¬¦ä¸²çš„ä½è¿›è¡Œæ“ä½œã€‚<br>\nï¼ˆ2ï¼‰\tBitmaps å•ç‹¬æä¾›äº†ä¸€å¥—å‘½ä»¤ï¼Œ æ‰€ä»¥åœ¨ Redis ä¸­ä½¿ç”¨ Bitmaps å’Œä½¿ç”¨å­—ç¬¦ä¸²çš„æ–¹æ³•ä¸å¤ªç›¸åŒã€‚ å¯ä»¥æŠŠ Bitmaps æƒ³è±¡æˆä¸€ä¸ªä»¥ä½ä¸ºå•ä½çš„æ•°ç»„ï¼Œ æ•°ç»„çš„æ¯ä¸ªå•å…ƒåªèƒ½å­˜å‚¨ 0 å’Œ 1ï¼Œ æ•°ç»„çš„ä¸‹æ ‡åœ¨ Bitmaps ä¸­å«åšåç§»é‡ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145718081.png\" alt=\"image-20220730145718081\"></p>\n<h3 id=\"612å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#612å‘½ä»¤\">#</a> 6.1.2.\tå‘½ä»¤</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  ï¼ˆ1ï¼‰å­˜ï¼šsetbit</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ï¼ˆ2ï¼‰å–ï¼šgetbit</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  ï¼ˆ3ï¼‰ç»Ÿè®¡ï¼šbitcount</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  ï¼ˆ4ï¼‰å¹¶/äº¤/å¼‚æˆ–æ“ä½œï¼šbitop</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>è¯¦è§ä¸‹åˆ—å¾ˆå®ä¾‹ç¤ºèŒƒã€‚</pre></td></tr></table></figure><p>1ã€ <code>setbit</code> <br>\nï¼ˆ1ï¼‰æ ¼å¼<br>\n **setbit<key><offset><value>** è®¾ç½® Bitmaps ä¸­æŸä¸ªåç§»é‡çš„å€¼ï¼ˆ0 æˆ– 1ï¼‰</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145758337.png\" alt=\"image-20220730145758337\"></p>\n<p><code>offset</code> ï¼šåç§»é‡ä» 0 å¼€å§‹</p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹<br>\næ¯ä¸ªç‹¬ç«‹ç”¨æˆ·æ˜¯å¦è®¿é—®è¿‡ç½‘ç«™å­˜æ”¾åœ¨ Bitmaps ä¸­ï¼Œ å°†è®¿é—®çš„ç”¨æˆ·è®°åš 1ï¼Œ æ²¡æœ‰è®¿é—®çš„ç”¨æˆ·è®°åš 0ï¼Œ ç”¨åç§»é‡ä½œä¸ºç”¨æˆ·çš„ idã€‚<br>\nè®¾ç½®é”®çš„ç¬¬ offset ä¸ªä½çš„å€¼ï¼ˆä» 0 ç®—èµ·ï¼‰ ï¼Œ å‡è®¾ç°åœ¨æœ‰ 20 ä¸ªç”¨æˆ·ï¼Œuserid=1ï¼Œ 6ï¼Œ 11ï¼Œ 15ï¼Œ 19 çš„ç”¨æˆ·å¯¹ç½‘ç«™è¿›è¡Œäº†è®¿é—®ï¼Œ é‚£ä¹ˆå½“å‰ Bitmaps åˆå§‹åŒ–ç»“æœå¦‚å›¾</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730145816388.png\" alt=\"image-20220730145816388\"></p>\n<p>unique:users:20201106 ä»£è¡¨ 2020-11-06 è¿™å¤©çš„ç‹¬ç«‹è®¿é—®ç”¨æˆ·çš„ Bitmaps</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730150000867.png\" alt=\"image-20220730150000867\"></p>\n<p>æ³¨ï¼šğŸ’¡<br>\nå¾ˆå¤šåº”ç”¨çš„ç”¨æˆ· id ä»¥ä¸€ä¸ªæŒ‡å®šæ•°å­—ï¼ˆä¾‹å¦‚ 10000ï¼‰ å¼€å¤´ï¼Œ ç›´æ¥å°†ç”¨æˆ· id å’Œ Bitmaps çš„åç§»é‡å¯¹åº”åŠ¿å¿…ä¼šé€ æˆä¸€å®šçš„æµªè´¹ï¼Œ é€šå¸¸çš„åšæ³•æ˜¯æ¯æ¬¡åš setbit æ“ä½œæ—¶å°†ç”¨æˆ· id å‡å»è¿™ä¸ªæŒ‡å®šæ•°å­—ã€‚<br>\nåœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ– Bitmaps æ—¶ï¼Œ å‡å¦‚åç§»é‡éå¸¸å¤§ï¼Œ é‚£ä¹ˆæ•´ä¸ªåˆå§‹åŒ–è¿‡ç¨‹æ‰§è¡Œä¼šæ¯”è¾ƒæ…¢ï¼Œ å¯èƒ½ä¼šé€ æˆ Redis çš„é˜»å¡ã€‚</p>\n<p>2ã€ <code>getbit</code> <br>\nï¼ˆ1ï¼‰æ ¼å¼<br>\n **getbit<key><offset>** è·å– Bitmaps ä¸­æŸä¸ªåç§»é‡çš„å€¼</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730150357659.png\" alt=\"image-20220730150357659\"></p>\n<p>è·å–é”®çš„ç¬¬ offset ä½çš„å€¼ï¼ˆä» 0 å¼€å§‹ç®—ï¼‰</p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹<br>\nè·å– id=8 çš„ç”¨æˆ·æ˜¯å¦åœ¨ 2020-11-06 è¿™å¤©è®¿é—®è¿‡ï¼Œ è¿”å› 0 è¯´æ˜æ²¡æœ‰è®¿é—®è¿‡ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730150425467.png\" alt=\"image-20220730150425467\"></p>\n<p>æ³¨ï¼šå› ä¸º 100 æ ¹æœ¬ä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯è¿”å› 0</p>\n<p>3ã€ <code>bitcount</code> <br>\n<strong> ç»Ÿè®¡å­—ç¬¦ä¸²</strong>è¢«è®¾ç½®ä¸º 1 çš„ bit æ•°ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç»™å®šçš„æ•´ä¸ªå­—ç¬¦ä¸²éƒ½ä¼šè¢«è¿›è¡Œè®¡æ•°ï¼Œé€šè¿‡æŒ‡å®šé¢å¤–çš„ start æˆ– end å‚æ•°ï¼Œå¯ä»¥è®©è®¡æ•°åªåœ¨ç‰¹å®šçš„ä½ä¸Šè¿›è¡Œã€‚start å’Œ end å‚æ•°çš„è®¾ç½®ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è´Ÿæ•°å€¼ï¼šæ¯”å¦‚ -1 è¡¨ç¤ºæœ€åä¸€ä¸ªä½ï¼Œè€Œ -2 è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªä½ï¼Œstartã€end æ˜¯æŒ‡ bit ç»„çš„å­—èŠ‚çš„<strong>ä¸‹æ ‡æ•°</strong>ï¼ŒäºŒè€…çš†åŒ…å«ã€‚<br>\nï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> bitcount<key>[start end]</strong> ç»Ÿè®¡å­—ç¬¦ä¸²ä» start å­—èŠ‚åˆ° end å­—èŠ‚æ¯”ç‰¹å€¼ä¸º 1 çš„æ•°é‡</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730150503473.png\" alt=\"image-20220730150503473\"></p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹<br>\nè®¡ç®— 2022-11-06 è¿™å¤©çš„ç‹¬ç«‹è®¿é—®ç”¨æˆ·æ•°é‡</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730150516584.png\" alt=\"image-20220730150516584\"></p>\n<p>start å’Œ end ä»£è¡¨èµ·å§‹å’Œç»“æŸå­—èŠ‚æ•°ï¼Œ ä¸‹é¢æ“ä½œè®¡ç®—ç”¨æˆ· id åœ¨ç¬¬ 1 ä¸ªå­—èŠ‚åˆ°ç¬¬ 3 ä¸ªå­—èŠ‚ä¹‹é—´çš„ç‹¬ç«‹è®¿é—®ç”¨æˆ·æ•°ï¼Œ å¯¹åº”çš„ç”¨æˆ· id æ˜¯ 11ï¼Œ 15ï¼Œ 19ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220730150532060.png\" alt=\"image-20220730150532060\"></p>\n<p>ä¸¾ä¾‹ï¼šğŸ’¡</p>\n<p>K1 ã€01000001 01000000  00000000 00100001ã€‘ï¼Œå¯¹åº”ã€0ï¼Œ1ï¼Œ2ï¼Œ3ã€‘</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>bitcount K1 <span class=\"token number\">1</span> <span class=\"token number\">2</span> ï¼š ç»Ÿè®¡ä¸‹æ ‡1ã€2å­—èŠ‚ç»„ä¸­bit<span class=\"token operator\">=</span><span class=\"token number\">1</span>çš„ä¸ªæ•°ï¼Œå³01000000  00000000 --ã€‹  bitcount K1 <span class=\"token number\">1</span> <span class=\"token number\">2</span>  --ã€‹  <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>bitcount K1 <span class=\"token number\">1</span> <span class=\"token number\">3</span>  ï¼š ç»Ÿè®¡ä¸‹æ ‡1ã€2å­—èŠ‚ç»„ä¸­bit<span class=\"token operator\">=</span><span class=\"token number\">1</span>çš„ä¸ªæ•°ï¼Œå³01000000  00000000 00100001  --ã€‹bitcount K1 <span class=\"token number\">1</span> <span class=\"token number\">3</span>  --ã€‹3</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>bitcount K1 <span class=\"token number\">0</span> <span class=\"token parameter variable\">-2</span>  ï¼š ç»Ÿè®¡ä¸‹æ ‡0åˆ°ä¸‹æ ‡å€’æ•°ç¬¬2ï¼Œå­—èŠ‚ç»„ä¸­bit<span class=\"token operator\">=</span><span class=\"token number\">1</span>çš„ä¸ªæ•°ï¼Œå³01000001  01000000   00000000   --ã€‹bitcount K1 <span class=\"token number\">0</span> <span class=\"token parameter variable\">-2</span>   --ã€‹3</pre></td></tr></table></figure><p>æ³¨æ„ï¼šğŸ’¡redis çš„ setbit è®¾ç½®æˆ–æ¸…é™¤çš„æ˜¯ bit ä½ç½®ï¼Œè€Œ bitcount è®¡ç®—çš„æ˜¯ byte ä½ç½®ã€‚bitï¼ˆä½ï¼‰byteï¼ˆå­—èŠ‚ï¼‰</p>\n<p>4ã€ <code>bitop</code> <br>\n (1) æ ¼å¼<br>\n<strong> bitop  and (or/not/xor) <destkey> [keyâ€¦]</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731112131913.png\" alt=\"image-20220731112131913\"></p>\n<p>bitop æ˜¯ä¸€ä¸ªå¤åˆæ“ä½œï¼Œ å®ƒå¯ä»¥åšå¤šä¸ª Bitmaps çš„ andï¼ˆäº¤é›†ï¼‰ ã€ orï¼ˆå¹¶é›†ï¼‰ ã€ notï¼ˆéï¼‰ ã€ xorï¼ˆå¼‚æˆ–ï¼‰ æ“ä½œå¹¶å°†ç»“æœä¿å­˜åœ¨ destkey ä¸­ã€‚</p>\n<p>(2) å®ä¾‹</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">2020</span>-11-04 æ—¥è®¿é—®ç½‘ç«™çš„userid<span class=\"token operator\">=</span><span class=\"token number\">1,2</span>,5,9ã€‚</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>setbit unique:users:20201104 <span class=\"token number\">1</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>setbit unique:users:20201104 <span class=\"token number\">2</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>setbit unique:users:20201104 <span class=\"token number\">5</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>setbit unique:users:20201104 <span class=\"token number\">9</span> <span class=\"token number\">1</span></pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">2020</span>-11-03 æ—¥è®¿é—®ç½‘ç«™çš„userid<span class=\"token operator\">=</span><span class=\"token number\">0,1</span>,4,9ã€‚</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>setbit unique:users:20201103 <span class=\"token number\">0</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>setbit unique:users:20201103 <span class=\"token number\">1</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>setbit unique:users:20201103 <span class=\"token number\">4</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>setbit unique:users:20201103 <span class=\"token number\">9</span> <span class=\"token number\">1</span></pre></td></tr></table></figure><p>è®¡ç®—å‡ºä¸¤å¤©éƒ½è®¿é—®è¿‡ç½‘ç«™çš„ç”¨æˆ·æ•°é‡</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>bitop and unique:users:and:20201104_03</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> unique:users:20201103 unique:users:20201104</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731112424506.png\" alt=\"image-20220731112424506\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731112608764.png\" alt=\"image-20220731112608764\"></p>\n<p>è®¡ç®—å‡ºä»»æ„ä¸€å¤©éƒ½è®¿é—®è¿‡ç½‘ç«™çš„ç”¨æˆ·æ•°é‡ï¼ˆä¾‹å¦‚æœˆæ´»è·ƒå°±æ˜¯ç±»ä¼¼è¿™ç§ï¼‰ ï¼Œ å¯ä»¥ä½¿ç”¨ or æ±‚å¹¶é›†</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731112642593.png\" alt=\"image-20220731112642593\"></p>\n<h3 id=\"613bitmapsä¸setå¯¹æ¯”\"><a class=\"markdownIt-Anchor\" href=\"#613bitmapsä¸setå¯¹æ¯”\">#</a> 6.1.3.\tBitmaps ä¸ set å¯¹æ¯”</h3>\n<p>å‡è®¾ç½‘ç«™æœ‰ 1 äº¿ç”¨æˆ·ï¼Œ æ¯å¤©ç‹¬ç«‹è®¿é—®çš„ç”¨æˆ·æœ‰ 5 åƒä¸‡ï¼Œ å¦‚æœæ¯å¤©ç”¨é›†åˆç±»å‹å’Œ Bitmaps åˆ†åˆ«å­˜å‚¨æ´»è·ƒç”¨æˆ·å¯ä»¥å¾—åˆ°è¡¨<br>\n<img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731112759996.png\" alt=\"image-20220731112759996\"></p>\n<p>å¾ˆæ˜æ˜¾ï¼Œ è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ Bitmaps èƒ½èŠ‚çœå¾ˆå¤šçš„å†…å­˜ç©ºé—´ï¼Œ å°¤å…¶æ˜¯éšç€æ—¶é—´æ¨ç§»èŠ‚çœçš„å†…å­˜è¿˜æ˜¯éå¸¸å¯è§‚çš„</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731112933430.png\" alt=\"image-20220731112933430\"></p>\n<p>ä½† Bitmaps å¹¶ä¸æ˜¯ä¸‡é‡‘æ²¹ï¼Œ å‡å¦‚è¯¥ç½‘ç«™æ¯å¤©çš„ç‹¬ç«‹è®¿é—®ç”¨æˆ·å¾ˆå°‘ï¼Œ ä¾‹å¦‚åªæœ‰ 10 ä¸‡ï¼ˆå¤§é‡çš„åƒµå°¸ç”¨æˆ·ï¼‰ ï¼Œ é‚£ä¹ˆä¸¤è€…çš„å¯¹æ¯”å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œ å¾ˆæ˜¾ç„¶ï¼Œ è¿™æ—¶å€™ä½¿ç”¨ Bitmaps å°±ä¸å¤ªåˆé€‚äº†ï¼Œ å› ä¸ºåŸºæœ¬ä¸Šå¤§éƒ¨åˆ†ä½éƒ½æ˜¯ 0ã€‚<br>\n<img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731112959496.png\" alt=\"image-20220731112959496\"></p>\n<h2 id=\"2-hyperloglog\"><a class=\"markdownIt-Anchor\" href=\"#2-hyperloglog\">#</a> 2 - HyperLogLog</h2>\n<h3 id=\"621ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#621ç®€ä»‹\">#</a> 6.2.1.\tç®€ä»‹</h3>\n<p>åœ¨å·¥ä½œå½“ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸ç»Ÿè®¡ç›¸å…³çš„åŠŸèƒ½éœ€æ±‚ï¼Œæ¯”å¦‚ç»Ÿè®¡ç½‘ç«™ PVï¼ˆPageView é¡µé¢è®¿é—®é‡ï¼‰, å¯ä»¥ä½¿ç”¨ Redis çš„ incrã€incrby è½»æ¾å®ç°ã€‚</p>\n<p>ä½†åƒ UVï¼ˆUniqueVisitorï¼Œç‹¬ç«‹è®¿å®¢ï¼‰ã€ç‹¬ç«‹ IP æ•°ã€æœç´¢è®°å½•æ•°ç­‰éœ€è¦å»é‡å’Œè®¡æ•°çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿè¿™ç§æ±‚é›†åˆä¸­ä¸é‡å¤å…ƒç´ ä¸ªæ•°çš„é—®é¢˜ç§°ä¸ºåŸºæ•°é—®é¢˜ã€‚</p>\n<p><strong>è§£å†³åŸºæ•°é—®é¢˜æœ‰å¾ˆå¤šç§æ–¹æ¡ˆï¼š</strong><br>\nï¼ˆ1ï¼‰æ•°æ®å­˜å‚¨åœ¨ MySQL è¡¨ä¸­ï¼Œä½¿ç”¨ distinct count è®¡ç®—ä¸é‡å¤ä¸ªæ•°<br>\nï¼ˆ2ï¼‰ä½¿ç”¨ Redis æä¾›çš„ hashã€setã€bitmaps ç­‰æ•°æ®ç»“æ„æ¥å¤„ç†</p>\n<p>ä»¥ä¸Šçš„æ–¹æ¡ˆç»“æœç²¾ç¡®ï¼Œä½†éšç€æ•°æ®ä¸æ–­å¢åŠ ï¼Œå¯¼è‡´å ç”¨ç©ºé—´è¶Šæ¥è¶Šå¤§ï¼Œå¯¹äºéå¸¸å¤§çš„æ•°æ®é›†æ˜¯ä¸åˆ‡å®é™…çš„ã€‚</p>\n<p>èƒ½å¦èƒ½å¤Ÿé™ä½ä¸€å®šçš„ç²¾åº¦æ¥å¹³è¡¡å­˜å‚¨ç©ºé—´ï¼ŸRedis æ¨å‡ºäº† HyperLogLog</p>\n<p>Redis HyperLogLog æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ŒHyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®šçš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚</p>\n<p>åœ¨ Redis é‡Œé¢ï¼Œæ¯ä¸ª HyperLogLog é”®åªéœ€è¦èŠ±è´¹ 12 KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 2^64 ä¸ªä¸åŒå…ƒç´ çš„åŸºæ•°ã€‚è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚</p>\n<p>ä½†æ˜¯ï¼Œå› ä¸º HyperLogLog åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«ï¼Œæ‰€ä»¥ HyperLogLog ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ ã€‚</p>\n<p>ä»€ä¹ˆæ˜¯åŸºæ•°ï¼Ÿ<br>\n æ¯”å¦‚æ•°æ®é›† {1, 3, 5, 7, 5, 7, 8}ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ•°æ®é›†çš„åŸºæ•°é›†ä¸º {1, 3, 5 ,7, 8}, åŸºæ•° (ä¸é‡å¤å…ƒç´ ) ä¸º 5ã€‚ åŸºæ•°ä¼°è®¡å°±æ˜¯åœ¨è¯¯å·®å¯æ¥å—çš„èŒƒå›´å†…ï¼Œå¿«é€Ÿè®¡ç®—åŸºæ•°ã€‚</p>\n<h3 id=\"622å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#622å‘½ä»¤\">#</a> 6.2.2.\tå‘½ä»¤</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  ï¼ˆ1ï¼‰å­˜ï¼špfadd</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ï¼ˆ2ï¼‰å»é‡ç»Ÿè®¡ï¼ˆå¯å¹¶é›†ï¼‰ï¼špfcount</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  ï¼ˆ3ï¼‰å–å¹¶é›†<span class=\"token punctuation\">(</span>ç”Ÿæˆæ–°æ•°æ®<span class=\"token punctuation\">)</span>ï¼špfmerge</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>è¯¦è§ä¸‹åˆ—å®ä¾‹</pre></td></tr></table></figure><p>1ã€ <code>pfadd </code> <br>\nï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> pfadd <key>&lt; element&gt; [element â€¦]</strong>   æ·»åŠ æŒ‡å®šå…ƒç´ åˆ° HyperLogLog ä¸­</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161114528.png\" alt=\"image-20220731161114528\"></p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161148573.png\" alt=\"image-20220731161148573\"></p>\n<p>å°†æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°æŒ‡å®š HyperLogLog æ•°æ®ç»“æ„ä¸­ã€‚å¦‚æœæ‰§è¡Œå‘½ä»¤å HLL ä¼°è®¡çš„è¿‘ä¼¼åŸºæ•°å‘ç”Ÿå˜åŒ–ï¼Œåˆ™è¿”å› 1ï¼Œå¦åˆ™è¿”å› 0ã€‚</p>\n<p>2ã€ <code>pfcount</code> <br>\nï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> pfcount<key> [key â€¦]</strong> è®¡ç®— HLL çš„è¿‘ä¼¼åŸºæ•°ï¼Œå¯ä»¥è®¡ç®—å¤šä¸ª HLLï¼Œæ¯”å¦‚ç”¨ HLL å­˜å‚¨æ¯å¤©çš„ UVï¼Œè®¡ç®—ä¸€å‘¨çš„ UV å¯ä»¥ä½¿ç”¨ 7 å¤©çš„ UV åˆå¹¶è®¡ç®—å³å¯</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161256514.png\" alt=\"image-20220731161256514\"></p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161305107.png\" alt=\"image-20220731161305107\"></p>\n<p>3ã€ <code>pfmerge</code> <br>\nï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> pfmerge<destkey><sourcekey> [sourcekey â€¦]</strong>  å°†ä¸€ä¸ªæˆ–å¤šä¸ª HLL åˆå¹¶åçš„ç»“æœå­˜å‚¨åœ¨å¦ä¸€ä¸ª HLL ä¸­ï¼Œæ¯”å¦‚æ¯æœˆæ´»è·ƒç”¨æˆ·å¯ä»¥ä½¿ç”¨æ¯å¤©çš„æ´»è·ƒç”¨æˆ·æ¥åˆå¹¶è®¡ç®—å¯å¾—</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161447288.png\" alt=\"image-20220731161447288\"></p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161510641.png\" alt=\"image-20220731161510641\"></p>\n<h2 id=\"3-geospatial\"><a class=\"markdownIt-Anchor\" href=\"#3-geospatial\">#</a> 3- Geospatial</h2>\n<h3 id=\"631ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#631ç®€ä»‹\">#</a> 6.3.1.\tç®€ä»‹</h3>\n<p>Redis 3.2 ä¸­å¢åŠ äº†å¯¹ GEO ç±»å‹çš„æ”¯æŒã€‚GEOï¼ŒGeographicï¼Œ<strong>åœ°ç†ä¿¡æ¯</strong>çš„ç¼©å†™ã€‚è¯¥ç±»å‹ï¼Œå°±æ˜¯å…ƒç´ çš„ 2 ç»´åæ ‡ï¼Œåœ¨åœ°å›¾ä¸Šå°±æ˜¯<strong>ç»çº¬åº¦</strong>ã€‚redis åŸºäºè¯¥ç±»å‹ï¼Œæä¾›äº†ç»çº¬åº¦è®¾ç½®ï¼ŒæŸ¥è¯¢ï¼ŒèŒƒå›´æŸ¥è¯¢ï¼Œè·ç¦»æŸ¥è¯¢ï¼Œç»çº¬åº¦ Hash ç­‰å¸¸è§æ“ä½œã€‚</p>\n<h3 id=\"632å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#632å‘½ä»¤\">#</a> 6.3.2.\tå‘½ä»¤</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>   ï¼ˆ1ï¼‰å­˜ï¼šgeoadd</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   ï¼ˆ2ï¼‰å–ï¼šgeopos</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>   ï¼ˆ3ï¼‰ç›´çº¿è·ç¦»ï¼šgeodist</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   ï¼ˆ4ï¼‰æŒ‡å®šä¸­å¿ƒã€åŠå¾„å†…çš„å…ƒç´ ï¼šgeoradiusã€</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>è¯¦è§ä¸‹åˆ—å®ä¾‹</pre></td></tr></table></figure><p>1ã€ <code>geoadd</code></p>\n<p>ï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> geoadd<key>&lt; longitude&gt;<latitude><member> [longitude latitude memberâ€¦]</strong>   æ·»åŠ åœ°ç†ä½ç½®ï¼ˆç»åº¦ï¼Œçº¬åº¦ï¼Œåç§°ï¼‰</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161856254.png\" alt=\"image-20220731161856254\"></p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>geoadd china:city <span class=\"token number\">121.47</span> <span class=\"token number\">31.23</span> shanghai</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>geoadd china:city <span class=\"token number\">106.50</span> <span class=\"token number\">29.53</span> chongqing <span class=\"token number\">114.05</span> <span class=\"token number\">22.52</span> shenzhen <span class=\"token number\">116.38</span> <span class=\"token number\">39.90</span> beijing</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731161919961.png\" alt=\"image-20220731161919961\"></p>\n<p>ä¸¤ææ— æ³•ç›´æ¥æ·»åŠ ï¼Œä¸€èˆ¬ä¼šä¸‹è½½åŸå¸‚æ•°æ®ï¼Œç›´æ¥é€šè¿‡ Java ç¨‹åºä¸€æ¬¡æ€§å¯¼å…¥ã€‚</p>\n<p><strong>æœ‰æ•ˆçš„ç»åº¦ä» -180 åº¦åˆ° 180 åº¦ã€‚æœ‰æ•ˆçš„çº¬åº¦ä» -85.05112878 åº¦åˆ° 85.05112878 åº¦ã€‚</strong></p>\n<p>å½“åæ ‡ä½ç½®è¶…å‡ºæŒ‡å®šèŒƒå›´æ—¶ï¼Œè¯¥å‘½ä»¤å°†ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚<br>\nå·²ç»æ·»åŠ çš„æ•°æ®ï¼Œæ˜¯æ— æ³•å†æ¬¡å¾€é‡Œé¢æ·»åŠ çš„ã€‚</p>\n<p>2ã€ <code>geopos  </code></p>\n<p>ï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> geopos  <key><member> [memberâ€¦]</strong>  è·å¾—æŒ‡å®šåœ°åŒºçš„åæ ‡å€¼</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731162347572.png\" alt=\"image-20220731162347572\"></p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731162359258.png\" alt=\"image-20220731162359258\"></p>\n<p>3ã€ <code>geodist</code></p>\n<p>ï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> geodist<key><member1><member2>  [m|km|ft|mi ]</strong>  è·å–ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„ç›´çº¿è·ç¦»</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731162423033.png\" alt=\"image-20220731162423033\"></p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹<br>\nè·å–ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„ç›´çº¿è·ç¦»</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731162458356.png\" alt=\"image-20220731162458356\"></p>\n<p>å•ä½ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>m è¡¨ç¤ºå•ä½ä¸ºç±³<span class=\"token punctuation\">[</span>é»˜è®¤å€¼<span class=\"token punctuation\">]</span>ã€‚</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>km è¡¨ç¤ºå•ä½ä¸ºåƒç±³ã€‚</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>mi è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œã€‚</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ft è¡¨ç¤ºå•ä½ä¸ºè‹±å°ºã€‚</pre></td></tr></table></figure><p>å¦‚æœç”¨æˆ·æ²¡æœ‰æ˜¾å¼åœ°æŒ‡å®šå•ä½å‚æ•°ï¼Œ é‚£ä¹ˆ GEODIST é»˜è®¤ä½¿ç”¨ç±³ä½œä¸ºå•ä½</p>\n<p>4ã€ <code>georadius</code> <br>\nï¼ˆ1ï¼‰æ ¼å¼<br>\n<strong> georadius<key>&lt; longitude&gt;<latitude>radius  m|km|ft|mi</strong>   ä»¥ç»™å®šçš„ç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œæ‰¾å‡ºæŸä¸€åŠå¾„å†…çš„å…ƒç´ </p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731162604335.png\" alt=\"image-20220731162604335\"></p>\n<p>ç»åº¦ çº¬åº¦ è·ç¦» å•ä½</p>\n<p>ï¼ˆ2ï¼‰å®ä¾‹</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731162630641.png\" alt=\"image-20220731162630641\"></p>\n<h1 id=\"ä¸ƒ-redis_jedis_æµ‹è¯•\"><a class=\"markdownIt-Anchor\" href=\"#ä¸ƒ-redis_jedis_æµ‹è¯•\">#</a> ä¸ƒã€Redis_Jedis_æµ‹è¯•</h1>\n<h2 id=\"1-jedisæ‰€éœ€è¦çš„jaråŒ…\"><a class=\"markdownIt-Anchor\" href=\"#1-jedisæ‰€éœ€è¦çš„jaråŒ…\">#</a> 1 - Jedis æ‰€éœ€è¦çš„ jar åŒ…</h2>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>redis.clients<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>jedis<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>3.2.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h2 id=\"2-è¿æ¥redisæ³¨æ„äº‹é¡¹\"><a class=\"markdownIt-Anchor\" href=\"#2-è¿æ¥redisæ³¨æ„äº‹é¡¹\">#</a> 2 - è¿æ¥ Redis æ³¨æ„äº‹é¡¹</h2>\n<p>ç¦ç”¨ Linux çš„é˜²ç«å¢™ï¼šLinux (CentOS7) é‡Œæ‰§è¡Œå‘½ä»¤</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl stop/disable firewalld.service   </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>redis.confä¸­æ³¨é‡Šæ‰bind <span class=\"token number\">127.0</span>.0.1 ,ç„¶å protected-mode no</pre></td></tr></table></figure><h2 id=\"3-jediså¸¸ç”¨æ“ä½œ\"><a class=\"markdownIt-Anchor\" href=\"#3-jediså¸¸ç”¨æ“ä½œ\">#</a> 3 - Jedis å¸¸ç”¨æ“ä½œ</h2>\n<h3 id=\"731åˆ›å»ºåŠ¨æ€çš„å·¥ç¨‹\"><a class=\"markdownIt-Anchor\" href=\"#731åˆ›å»ºåŠ¨æ€çš„å·¥ç¨‹\">#</a> 7.3.1.\tåˆ›å»ºåŠ¨æ€çš„å·¥ç¨‹</h3>\n<h3 id=\"732åˆ›å»ºæµ‹è¯•ç¨‹åº\"><a class=\"markdownIt-Anchor\" href=\"#732åˆ›å»ºæµ‹è¯•ç¨‹åº\">#</a> 7.3.2.\tåˆ›å»ºæµ‹è¯•ç¨‹åº</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>atguigu<span class=\"token punctuation\">.</span>jedis</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">redis<span class=\"token punctuation\">.</span>clients<span class=\"token punctuation\">.</span>jedis<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Jedis</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Demo01</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">Jedis</span> jedis <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Jedis</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"192.168.137.3\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">6379</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">String</span> pong <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">ping</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿æ¥æˆåŠŸï¼š\"</span><span class=\"token operator\">+</span>pong<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"4-æµ‹è¯•ç›¸å…³æ•°æ®ç±»å‹\"><a class=\"markdownIt-Anchor\" href=\"#4-æµ‹è¯•ç›¸å…³æ•°æ®ç±»å‹\">#</a> 4 - æµ‹è¯•ç›¸å…³æ•°æ®ç±»å‹</h2>\n<h3 id=\"741jedis-api-key\"><a class=\"markdownIt-Anchor\" href=\"#741jedis-api-key\">#</a> 7.4.1.\tJedis-API:    Key</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"v1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"v2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k3\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"v3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> keys <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> key <span class=\"token operator\">:</span> keys<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">ttl</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"742jedis-api-string\"><a class=\"markdownIt-Anchor\" href=\"#742jedis-api-string\">#</a> 7.4.2.\tJedis-API:    String</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">mset</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"str1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"v1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str2\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"v2\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str3\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"v3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">mget</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"str1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str2\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"str3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"743jedis-api-list\"><a class=\"markdownIt-Anchor\" href=\"#743jedis-api-list\">#</a> 7.4.3.\tJedis-API:    List</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">lrange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mylist\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> element <span class=\"token operator\">:</span> list<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"744jedis-api-set\"><a class=\"markdownIt-Anchor\" href=\"#744jedis-api-set\">#</a> 7.4.4.\tJedis-API:    set</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order01\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order02\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order03\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order04\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> smembers <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">smembers</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> order <span class=\"token operator\">:</span> smembers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">srem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orders\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"order02\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"745jedis-api-hash\"><a class=\"markdownIt-Anchor\" href=\"#745jedis-api-hash\">#</a> 7.4.5.\tJedis-API:    hash</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hset</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"lisi\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hget</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"telphone\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"13810169999\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"address\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"atguigu\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"abc@163.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hmset</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash2\"</span><span class=\"token punctuation\">,</span>map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">hmget</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hash2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"telphone\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> element <span class=\"token operator\">:</span> result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>7.4.6.\tJedis-API:    zset</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"z3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">90d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w5\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zadd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70d</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"z6\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> zrange <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">zrange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zset01\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> e <span class=\"token operator\">:</span> zrange<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"å…«-redis_jedis_å®ä¾‹\"><a class=\"markdownIt-Anchor\" href=\"#å…«-redis_jedis_å®ä¾‹\">#</a> å…«ã€Redis_Jedis_å®ä¾‹</h1>\n<h2 id=\"1-å®Œæˆä¸€ä¸ªæ‰‹æœºéªŒè¯ç åŠŸèƒ½\"><a class=\"markdownIt-Anchor\" href=\"#1-å®Œæˆä¸€ä¸ªæ‰‹æœºéªŒè¯ç åŠŸèƒ½\">#</a> 1 - å®Œæˆä¸€ä¸ªæ‰‹æœºéªŒè¯ç åŠŸèƒ½</h2>\n<p>è¦æ±‚ï¼š<br>\n1ã€è¾“å…¥æ‰‹æœºå·ï¼Œç‚¹å‡»å‘é€åéšæœºç”Ÿæˆ 6 ä½æ•°å­—ç ï¼Œ2 åˆ†é’Ÿæœ‰æ•ˆ<br>\n 2ã€è¾“å…¥éªŒè¯ç ï¼Œç‚¹å‡»éªŒè¯ï¼Œè¿”å›æˆåŠŸæˆ–å¤±è´¥<br>\n 3ã€æ¯ä¸ªæ‰‹æœºå·æ¯å¤©åªèƒ½è¾“å…¥ 3 æ¬¡</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731164343801.png\" alt=\"image-20220731164343801\"></p>\n<p>å®ç°è§ï¼š<a href=\"http://blog.dabing.cool/cache/redis%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E6%A0%A1%E9%AA%8C/\">http://blog.dabing.cool/cache/redis å®ç°æ‰‹æœºéªŒè¯ç æ ¡éªŒ /</a></p>\n<h1 id=\"ä¹-redisä¸spring-bootæ•´åˆ\"><a class=\"markdownIt-Anchor\" href=\"#ä¹-redisä¸spring-bootæ•´åˆ\">#</a> ä¹ã€Redis ä¸ Spring Boot æ•´åˆ</h1>\n<p>Spring Boot æ•´åˆ Redis éå¸¸ç®€å•ï¼Œåªéœ€è¦æŒ‰å¦‚ä¸‹æ­¥éª¤æ•´åˆå³å¯</p>\n<h2 id=\"1-æ•´åˆæ­¥éª¤\"><a class=\"markdownIt-Anchor\" href=\"#1-æ•´åˆæ­¥éª¤\">#</a> 1 - æ•´åˆæ­¥éª¤</h2>\n<p>1ã€\tåœ¨ pom.xml æ–‡ä»¶ä¸­å¼•å…¥ redis ç›¸å…³ä¾èµ–</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- redis --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-data-redis<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">&lt;!-- spring2.X é›†æˆ redis æ‰€éœ€ common-pool2--></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.commons<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>commons-pool2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.6.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>2ã€\tapplication.properties é…ç½® redis é…ç½®</p>\n<figure class=\"highlight properties\"><figcaption data-lang=\".properties\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#Redis æœåŠ¡å™¨åœ°å€</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key attr-name\">spring.redis.host</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">192.168.140.136</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#Redis æœåŠ¡å™¨è¿æ¥ç«¯å£</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key attr-name\">spring.redis.port</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">6379</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#Redis æ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º 0ï¼‰</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key attr-name\">spring.redis.database</span><span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">0</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key attr-name\">spring.redis.timeout</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">1800000</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token key attr-name\">spring.redis.lettuce.pool.max-active</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">20</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ (è´Ÿæ•°è¡¨ç¤ºæ²¡é™åˆ¶)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token key attr-name\">spring.redis.lettuce.pool.max-wait</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">-1</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">#è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token key attr-name\">spring.redis.lettuce.pool.max-idle</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">5</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">#è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token key attr-name\">spring.redis.lettuce.pool.min-idle</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">0</span></pre></td></tr></table></figure><p>3ã€\tæ·»åŠ  redis é…ç½®ç±»</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@EnableCaching</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Configuration</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RedisConfig</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">CachingConfigurerSupport</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token annotation punctuation\">@Bean</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">redisTemplate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisConnectionFactory</span> factory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> template <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token class-name\">RedisSerializer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> redisSerializer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringRedisSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token class-name\">Jackson2JsonRedisSerializer</span> jackson2JsonRedisSerializer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Jackson2JsonRedisSerializer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token class-name\">ObjectMapper</span> om <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        om<span class=\"token punctuation\">.</span><span class=\"token function\">setVisibility</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PropertyAccessor</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ALL</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">JsonAutoDetect<span class=\"token punctuation\">.</span>Visibility</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ANY</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        om<span class=\"token punctuation\">.</span><span class=\"token function\">enableDefaultTyping</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ObjectMapper<span class=\"token punctuation\">.</span>DefaultTyping</span><span class=\"token punctuation\">.</span><span class=\"token constant\">NON_FINAL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        jackson2JsonRedisSerializer<span class=\"token punctuation\">.</span><span class=\"token function\">setObjectMapper</span><span class=\"token punctuation\">(</span>om<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        template<span class=\"token punctuation\">.</span><span class=\"token function\">setConnectionFactory</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">//key åºåˆ—åŒ–æ–¹å¼</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        template<span class=\"token punctuation\">.</span><span class=\"token function\">setKeySerializer</span><span class=\"token punctuation\">(</span>redisSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">//value åºåˆ—åŒ–</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        template<span class=\"token punctuation\">.</span><span class=\"token function\">setValueSerializer</span><span class=\"token punctuation\">(</span>jackson2JsonRedisSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">//value hashmap åºåˆ—åŒ–</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        template<span class=\"token punctuation\">.</span><span class=\"token function\">setHashValueSerializer</span><span class=\"token punctuation\">(</span>jackson2JsonRedisSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">return</span> template<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Bean</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">CacheManager</span> <span class=\"token function\">cacheManager</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisConnectionFactory</span> factory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    \t<span class=\"token class-name\">RedisSerializer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> redisSerializer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringRedisSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    \t<span class=\"token class-name\">Jackson2JsonRedisSerializer</span> jackson2JsonRedisSerializer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Jackson2JsonRedisSerializer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    \t<span class=\"token comment\">// è§£å†³æŸ¥è¯¢ç¼“å­˜è½¬æ¢å¼‚å¸¸çš„é—®é¢˜</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">ObjectMapper</span> om <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        om<span class=\"token punctuation\">.</span><span class=\"token function\">setVisibility</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PropertyAccessor</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ALL</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">JsonAutoDetect<span class=\"token punctuation\">.</span>Visibility</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ANY</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        om<span class=\"token punctuation\">.</span><span class=\"token function\">enableDefaultTyping</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ObjectMapper<span class=\"token punctuation\">.</span>DefaultTyping</span><span class=\"token punctuation\">.</span><span class=\"token constant\">NON_FINAL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        jackson2JsonRedisSerializer<span class=\"token punctuation\">.</span><span class=\"token function\">setObjectMapper</span><span class=\"token punctuation\">(</span>om<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\t<span class=\"token comment\">// é…ç½®åºåˆ—åŒ–ï¼ˆè§£å†³ä¹±ç çš„é—®é¢˜ï¼‰, è¿‡æœŸæ—¶é—´ 600 ç§’</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">RedisCacheConfiguration</span> config <span class=\"token operator\">=</span> <span class=\"token class-name\">RedisCacheConfiguration</span><span class=\"token punctuation\">.</span><span class=\"token function\">defaultCacheConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">entryTtl</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Duration</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofSeconds</span><span class=\"token punctuation\">(</span><span class=\"token number\">600</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">serializeKeysWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisSerializationContext<span class=\"token punctuation\">.</span>SerializationPair</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromSerializer</span><span class=\"token punctuation\">(</span>redisSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">serializeValuesWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisSerializationContext<span class=\"token punctuation\">.</span>SerializationPair</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromSerializer</span><span class=\"token punctuation\">(</span>jackson2JsonRedisSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">disableCachingNullValues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">RedisCacheManager</span> cacheManager <span class=\"token operator\">=</span> <span class=\"token class-name\">RedisCacheManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">cacheDefaults</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">return</span> cacheManager<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>4ã€æµ‹è¯•ä¸€ä¸‹</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">RedisTestController</span>ä¸­æ·»åŠ æµ‹è¯•æ–¹æ³•</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/redisTest\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RedisTestController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">RedisTemplate</span> redisTemplate<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token annotation punctuation\">@GetMapping</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">testRedis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">// è®¾ç½®å€¼åˆ° redis</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"lucy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// ä» redis è·å–å€¼</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span>redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"å-redis_äº‹åŠ¡_é”æœºåˆ¶_ç§’æ€\"><a class=\"markdownIt-Anchor\" href=\"#å-redis_äº‹åŠ¡_é”æœºåˆ¶_ç§’æ€\">#</a> åã€Redis_äº‹åŠ¡_é”æœºåˆ¶_ç§’æ€</h1>\n<h2 id=\"1-redisçš„äº‹åŠ¡å®šä¹‰\"><a class=\"markdownIt-Anchor\" href=\"#1-redisçš„äº‹åŠ¡å®šä¹‰\">#</a> 1- Redis çš„äº‹åŠ¡å®šä¹‰</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731165702195.png\" alt=\"image-20220731165702195\"></p>\n<p>Redis äº‹åŠ¡æ˜¯ä¸€ä¸ªå•ç‹¬çš„éš”ç¦»æ“ä½œï¼šäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šåºåˆ—åŒ–ã€æŒ‰é¡ºåºåœ°æ‰§è¡Œã€‚äº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šè¢«å…¶ä»–å®¢æˆ·ç«¯å‘é€æ¥çš„å‘½ä»¤è¯·æ±‚æ‰€æ‰“æ–­ã€‚</p>\n<p>Redis äº‹åŠ¡çš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸²è”å¤šä¸ªå‘½ä»¤é˜²æ­¢åˆ«çš„å‘½ä»¤æ’é˜Ÿã€‚</p>\n<h2 id=\"2-multi-exec-discard\"><a class=\"markdownIt-Anchor\" href=\"#2-multi-exec-discard\">#</a> 2 - Multiã€Execã€discard</h2>\n<p>ä»è¾“å…¥ Multi å‘½ä»¤å¼€å§‹ï¼Œè¾“å…¥çš„å‘½ä»¤éƒ½ä¼šä¾æ¬¡è¿›å…¥å‘½ä»¤é˜Ÿåˆ—ä¸­ï¼Œä½†ä¸ä¼šæ‰§è¡Œï¼Œç›´åˆ°è¾“å…¥ Exec åï¼ŒRedis ä¼šå°†ä¹‹å‰çš„å‘½ä»¤é˜Ÿåˆ—ä¸­çš„å‘½ä»¤ä¾æ¬¡æ‰§è¡Œã€‚</p>\n<p>ç»„é˜Ÿçš„è¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡ discard æ¥æ”¾å¼ƒç»„é˜Ÿã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731165752989.png\" alt=\"image-20220731165752989\"></p>\n<p>æ¡ˆä¾‹ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731165812368.png\" alt=\"image-20220731165812368\"></p>\n<p>ç»„é˜ŸæˆåŠŸï¼Œæäº¤æˆåŠŸ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731165825351.png\" alt=\"image-20220731165825351\"></p>\n<p>ç»„é˜Ÿé˜¶æ®µæŠ¥é”™ï¼Œæäº¤å¤±è´¥</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731165909910.png\" alt=\"image-20220731165909910\"></p>\n<p>ç»„é˜ŸæˆåŠŸï¼Œæäº¤æœ‰æˆåŠŸæœ‰å¤±è´¥æƒ…å†µ</p>\n<h2 id=\"3-äº‹åŠ¡çš„é”™è¯¯å¤„ç†\"><a class=\"markdownIt-Anchor\" href=\"#3-äº‹åŠ¡çš„é”™è¯¯å¤„ç†\">#</a> 3 - äº‹åŠ¡çš„é”™è¯¯å¤„ç†</h2>\n<p>ç»„é˜Ÿä¸­æŸä¸ªå‘½ä»¤å‡ºç°äº†æŠ¥å‘Šé”™è¯¯ï¼Œæ‰§è¡Œæ—¶æ•´ä¸ªçš„æ‰€æœ‰é˜Ÿåˆ—éƒ½ä¼šè¢«å–æ¶ˆã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731165948305.png\" alt=\"image-20220731165948305\"></p>\n<p>å¦‚æœæ‰§è¡Œé˜¶æ®µæŸä¸ªå‘½ä»¤æŠ¥å‡ºäº†é”™è¯¯ï¼Œåˆ™åªæœ‰æŠ¥é”™çš„å‘½ä»¤ä¸ä¼šè¢«æ‰§è¡Œï¼Œè€Œå…¶ä»–çš„å‘½ä»¤éƒ½ä¼šæ‰§è¡Œï¼Œä¸ä¼šå›æ»šã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731170100577.png\" alt=\"image-20220731170100577\"></p>\n<h2 id=\"4-ä¸ºä»€ä¹ˆè¦åšæˆäº‹åŠ¡\"><a class=\"markdownIt-Anchor\" href=\"#4-ä¸ºä»€ä¹ˆè¦åšæˆäº‹åŠ¡\">#</a> 4 - ä¸ºä»€ä¹ˆè¦åšæˆäº‹åŠ¡</h2>\n<p>æƒ³æƒ³ä¸€ä¸ªåœºæ™¯ï¼šæœ‰å¾ˆå¤šäººæœ‰ä½ çš„è´¦æˆ·ï¼ŒåŒæ—¶å»å‚åŠ åŒåä¸€æŠ¢è´­</p>\n<h2 id=\"5-äº‹åŠ¡å†²çªçš„é—®é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#5-äº‹åŠ¡å†²çªçš„é—®é¢˜\">#</a> 5 - äº‹åŠ¡å†²çªçš„é—®é¢˜</h2>\n<h3 id=\"1051ä¾‹å­\"><a class=\"markdownIt-Anchor\" href=\"#1051ä¾‹å­\">#</a> 10.5.1.\tä¾‹å­</h3>\n<p>ä¸€ä¸ªè¯·æ±‚æƒ³ç»™é‡‘é¢å‡ 8000<br>\n ä¸€ä¸ªè¯·æ±‚æƒ³ç»™é‡‘é¢å‡ 5000<br>\n ä¸€ä¸ªè¯·æ±‚æƒ³ç»™é‡‘é¢å‡ 1000</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731170212554.png\" alt=\"image-20220731170212554\"></p>\n<h3 id=\"1052æ‚²è§‚é”\"><a class=\"markdownIt-Anchor\" href=\"#1052æ‚²è§‚é”\">#</a> 10.5.2.\tæ‚²è§‚é”</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731170241787.png\" alt=\"image-20220731170241787\"></p>\n<p><code>æ‚²è§‚é”</code>  (Pessimistic Lock),  é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆæ‚²è§‚ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨æ‹¿æ•°æ®çš„æ—¶å€™éƒ½ä¼šä¸Šé”ï¼Œè¿™æ ·åˆ«äººæƒ³æ‹¿è¿™ä¸ªæ•°æ®å°±ä¼š block ç›´åˆ°å®ƒæ‹¿åˆ°é”ã€‚</p>\n<p><strong>ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“é‡Œè¾¹å°±ç”¨åˆ°äº†å¾ˆå¤šè¿™ç§é”æœºåˆ¶</strong>ï¼Œæ¯”å¦‚<strong>è¡Œé”ï¼Œè¡¨é”ç­‰ï¼Œè¯»é”ï¼Œå†™é”</strong>ç­‰ï¼Œéƒ½æ˜¯åœ¨åšæ“ä½œä¹‹å‰å…ˆä¸Šé”ã€‚</p>\n<h3 id=\"1053ä¹è§‚é”\"><a class=\"markdownIt-Anchor\" href=\"#1053ä¹è§‚é”\">#</a> 10.5.3.\tä¹è§‚é”</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731170516369.png\" alt=\"image-20220731170516369\"></p>\n<p><code>ä¹è§‚é”</code>  (Optimistic Lock), é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆä¹è§‚ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯åœ¨æ›´æ–°çš„æ—¶å€™ä¼šåˆ¤æ–­ä¸€ä¸‹åœ¨æ­¤æœŸé—´åˆ«äººæœ‰æ²¡æœ‰å»æ›´æ–°è¿™ä¸ªæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ <code>ç‰ˆæœ¬å·</code> ç­‰æœºåˆ¶ã€‚</p>\n<p>ä¹è§‚é”é€‚ç”¨äº<strong>å¤šè¯»</strong>çš„åº”ç”¨ç±»å‹ï¼Œ<strong>è¿™æ ·å¯ä»¥æé«˜ååé‡</strong>ã€‚Redis å°±æ˜¯åˆ©ç”¨è¿™ç§<strong> check-and-set æœºåˆ¶</strong>å®ç°äº‹åŠ¡çš„ã€‚</p>\n<h3 id=\"1054watch-key-key\"><a class=\"markdownIt-Anchor\" href=\"#1054watch-key-key\">#</a> 10.5.4.\tWATCH key [key â€¦]</h3>\n<p>åœ¨æ‰§è¡Œ multi ä¹‹å‰ï¼Œå…ˆæ‰§è¡Œ watch key1 [key2], å¯ä»¥ç›‘è§†ä¸€ä¸ª (æˆ–å¤šä¸ª) key ï¼Œ<strong>å¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œä¹‹å‰è¿™ä¸ª (æˆ–è¿™äº›) key è¢«å…¶ä»–å‘½ä»¤æ‰€æ”¹åŠ¨ï¼Œé‚£ä¹ˆäº‹åŠ¡å°†è¢«æ‰“æ–­</strong>ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731170841894.png\" alt=\"image-20220731170841894\"></p>\n<h3 id=\"1055unwatch\"><a class=\"markdownIt-Anchor\" href=\"#1055unwatch\">#</a> 10.5.5.\tunwatch</h3>\n<p>å–æ¶ˆ WATCH å‘½ä»¤å¯¹æ‰€æœ‰ key çš„ç›‘è§†ã€‚</p>\n<p>å¦‚æœåœ¨æ‰§è¡Œ WATCH å‘½ä»¤ä¹‹åï¼ŒEXEC å‘½ä»¤æˆ– DISCARD å‘½ä»¤å…ˆè¢«æ‰§è¡Œäº†çš„è¯ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†æ‰§è¡Œ UNWATCH äº†ã€‚</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2RvYy5yZWRpc2ZhbnMuY29tL3RyYW5zYWN0aW9uL2V4ZWMuaHRtbA==\">http://doc.redisfans.com/transaction/exec.html</span></p>\n<h2 id=\"6-redisäº‹åŠ¡ä¸‰ç‰¹æ€§\"><a class=\"markdownIt-Anchor\" href=\"#6-redisäº‹åŠ¡ä¸‰ç‰¹æ€§\">#</a> 6 - Redis äº‹åŠ¡ä¸‰ç‰¹æ€§</h2>\n<ul>\n<li>å•ç‹¬çš„éš”ç¦»æ“ä½œ\n<ul>\n<li>äº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šåºåˆ—åŒ–ã€æŒ‰é¡ºåºåœ°æ‰§è¡Œã€‚äº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šè¢«å…¶ä»–å®¢æˆ·ç«¯å‘é€æ¥çš„å‘½ä»¤è¯·æ±‚æ‰€æ‰“æ–­ã€‚</li>\n</ul>\n</li>\n<li>æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ\n<ul>\n<li>é˜Ÿåˆ—ä¸­çš„å‘½ä»¤æ²¡æœ‰æäº¤ä¹‹å‰éƒ½ä¸ä¼šå®é™…è¢«æ‰§è¡Œï¼Œå› ä¸ºäº‹åŠ¡æäº¤å‰ä»»ä½•æŒ‡ä»¤éƒ½ä¸ä¼šè¢«å®é™…æ‰§è¡Œ</li>\n</ul>\n</li>\n<li>ä¸ä¿è¯åŸå­æ€§\n<ul>\n<li>äº‹åŠ¡ä¸­å¦‚æœæœ‰ä¸€æ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œå…¶åçš„å‘½ä»¤ä»ç„¶ä¼šè¢«æ‰§è¡Œï¼Œæ²¡æœ‰å›æ»š</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"åä¸€-redis_äº‹åŠ¡_ç§’æ€æ¡ˆä¾‹\"><a class=\"markdownIt-Anchor\" href=\"#åä¸€-redis_äº‹åŠ¡_ç§’æ€æ¡ˆä¾‹\">#</a> åä¸€ã€Redis_äº‹åŠ¡_ç§’æ€æ¡ˆä¾‹</h1>\n<h2 id=\"1-è§£å†³è®¡æ•°å™¨å’Œäººå‘˜è®°å½•çš„äº‹åŠ¡æ“ä½œ\"><a class=\"markdownIt-Anchor\" href=\"#1-è§£å†³è®¡æ•°å™¨å’Œäººå‘˜è®°å½•çš„äº‹åŠ¡æ“ä½œ\">#</a> 1 - è§£å†³è®¡æ•°å™¨å’Œäººå‘˜è®°å½•çš„äº‹åŠ¡æ“ä½œ</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731171148364.png\" alt=\"image-20220731171148364\"></p>\n<h2 id=\"2-redisäº‹åŠ¡ç§’æ€å¹¶å‘æ¨¡æ‹Ÿ\"><a class=\"markdownIt-Anchor\" href=\"#2-redisäº‹åŠ¡ç§’æ€å¹¶å‘æ¨¡æ‹Ÿ\">#</a> 2 - Redis äº‹åŠ¡â€“ç§’æ€å¹¶å‘æ¨¡æ‹Ÿ</h2>\n<p>ä½¿ç”¨å·¥å…· ab æ¨¡æ‹Ÿæµ‹è¯•</p>\n<p>CentOS6 é»˜è®¤å®‰è£…</p>\n<p>CentOS7 éœ€è¦æ‰‹åŠ¨å®‰è£…</p>\n<h3 id=\"1121è”ç½‘yum-install-httpd-tools\"><a class=\"markdownIt-Anchor\" href=\"#1121è”ç½‘yum-install-httpd-tools\">#</a> 11.2.1.\tè”ç½‘ï¼šyum install httpd-tools</h3>\n<h3 id=\"1122æ— ç½‘ç»œ\"><a class=\"markdownIt-Anchor\" href=\"#1122æ— ç½‘ç»œ\">#</a> 11.2.2.\tæ— ç½‘ç»œ</h3>\n<p>ï¼ˆ1ï¼‰ è¿›å…¥ cd  /run/media/root/CentOS 7 x86_64/Packagesï¼ˆè·¯å¾„è·Ÿ centos6 ä¸åŒï¼‰</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span>  /run/media/root/CentOS <span class=\"token number\">7</span> x86_64/Packages</pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ é¡ºåºå®‰è£…</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>apr-1.4.8-3.el7.x86_64.rpm</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>apr-util-1.5.2-6.el7.x86_64.rpm</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>httpd-tools-2.4.6-67.el7.centos.x86_64.rpm</pre></td></tr></table></figure><h3 id=\"1123æµ‹è¯•åŠç»“æœ\"><a class=\"markdownIt-Anchor\" href=\"#1123æµ‹è¯•åŠç»“æœ\">#</a> 11.2.3.\tæµ‹è¯•åŠç»“æœ</h3>\n<p><strong>11.2.3.1.\té€šè¿‡ ab æµ‹è¯•</strong><br>\n <code>vim postfile </code> æ¨¡æ‹Ÿè¡¨å•æäº¤å‚æ•°ï¼Œä»¥ <code>&amp;</code>  ç¬¦å·ç»“å°¾ï¼›å­˜æ”¾å½“å‰ç›®å½•ã€‚<br>\n** å†…å®¹ï¼š**prodid=0101&amp;</p>\n<p>ab -n 2000 -c 200  -p ~/postfile -T application/x-www-form-urlencoded <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMi4xMTU6ODA4MS9TZWNraWxsL2Rvc2Vja2lsbA==\">http://192.168.2.115:8081/Seckill/doseckill</span></p>\n<p>è¡¨ç¤ºï¼š- n å‚æ•°è¡¨ç¤º 2000 æ¬¡è¯·æ±‚ï¼Œ-c å‚æ•°è¡¨ç¤ºå¹¶å‘è¯·æ±‚ 200 æ¬¡ï¼Œ-p æ˜¯è¯·æ±‚å‚æ•°ï¼Œå†™åœ¨å½“å‰æ–‡ä»¶å¤¹çš„ postfile æ–‡ä»¶ä¸­</p>\n<p><strong>11.2.3.2.\tè¶…å–</strong><br>\n<img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731171742352.png\" alt=\"image-20220731171742352\"></p>\n<h2 id=\"3-è¶…å–é—®é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#3-è¶…å–é—®é¢˜\">#</a> 3 - è¶…å–é—®é¢˜</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731171820876.png\" alt=\"image-20220731171820876\"></p>\n<h2 id=\"4-åˆ©ç”¨ä¹è§‚é”æ·˜æ±°ç”¨æˆ·è§£å†³è¶…å–é—®é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#4-åˆ©ç”¨ä¹è§‚é”æ·˜æ±°ç”¨æˆ·è§£å†³è¶…å–é—®é¢˜\">#</a> 4 - åˆ©ç”¨ä¹è§‚é”æ·˜æ±°ç”¨æˆ·ï¼Œè§£å†³è¶…å–é—®é¢˜ã€‚</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731171831377.png\" alt=\"image-20220731171831377\"></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å¢åŠ ä¹è§‚é”</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>qtkey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">//3. åˆ¤æ–­åº“å­˜</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">String</span> qtkeystr <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>qtkey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>qtkeystr<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>qtkeystr<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æœªåˆå§‹åŒ–åº“å­˜\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">int</span> qt <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>qtkeystr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>qt<span class=\"token operator\">&lt;=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·²ç»ç§’å…‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">// å¢åŠ äº‹åŠ¡</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token class-name\">Transaction</span> multi <span class=\"token operator\">=</span> jedis<span class=\"token punctuation\">.</span><span class=\"token function\">multi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">//4. å‡å°‘åº“å­˜</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">//jedis.decr(qtkey);</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>multi<span class=\"token punctuation\">.</span><span class=\"token function\">decr</span><span class=\"token punctuation\">(</span>qtkey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">//5. åŠ äºº</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">//jedis.sadd(usrkey, uid);</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>multi<span class=\"token punctuation\">.</span><span class=\"token function\">sadd</span><span class=\"token punctuation\">(</span>usrkey<span class=\"token punctuation\">,</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\">// æ‰§è¡Œäº‹åŠ¡</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> multi<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">// åˆ¤æ–­äº‹åŠ¡æäº¤æ˜¯å¦å¤±è´¥</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>list<span class=\"token operator\">==</span><span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç§’æ€å¤±è´¥\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç§’æ€æˆåŠŸ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>jedis<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731172004110.png\" alt=\"image-20220731172004110\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731172018038.png\" alt=\"image-20220731172018038\"></p>\n<h2 id=\"5-ç»§ç»­å¢åŠ å¹¶å‘æµ‹è¯•\"><a class=\"markdownIt-Anchor\" href=\"#5-ç»§ç»­å¢åŠ å¹¶å‘æµ‹è¯•\">#</a> 5 - ç»§ç»­å¢åŠ å¹¶å‘æµ‹è¯•</h2>\n<h3 id=\"1151è¿æ¥æœ‰é™åˆ¶\"><a class=\"markdownIt-Anchor\" href=\"#1151è¿æ¥æœ‰é™åˆ¶\">#</a> 11.5.1.\tè¿æ¥æœ‰é™åˆ¶</h3>\n<p>ab -n 2000 -c 200 -k -p postfile -T â€˜application/x-www-form-urlencodedâ€™</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMTQwLjE6ODA4MC9zZWNraWxsL2Rvc2Vja2lsbA==\">http://192.168.140.1:8080/seckill/doseckill</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731172350447.png\" alt=\"image-20220731172350447\"></p>\n<p>å¢åŠ  - r å‚æ•°ï¼Œ-r   Donâ€™t exit on socket receive errors.</p>\n<p>ab -n 2000 -c 100 -r -p postfile -T â€˜application/x-www-form-urlencodedâ€™</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMTQwLjE6ODA4MC9zZWNraWxsL2Rvc2Vja2lsbA==\">http://192.168.140.1:8080/seckill/doseckill</span></p>\n<h3 id=\"1152å·²ç»ç§’å…‰å¯æ˜¯è¿˜æœ‰åº“å­˜\"><a class=\"markdownIt-Anchor\" href=\"#1152å·²ç»ç§’å…‰å¯æ˜¯è¿˜æœ‰åº“å­˜\">#</a> 11.5.2.\tå·²ç»ç§’å…‰ï¼Œå¯æ˜¯è¿˜æœ‰åº“å­˜</h3>\n<p>ab -n 2000 -c 100 -p postfile -T â€˜application/x-www-form-urlencodedâ€™</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMTM3LjE6ODA4MC9zZWNraWxsL2Rvc2Vja2lsbA==\">http://192.168.137.1:8080/seckill/doseckill</span></p>\n<p>å·²ç»ç§’å…‰ï¼Œå¯æ˜¯è¿˜æœ‰åº“å­˜ã€‚åŸå› ï¼Œå°±æ˜¯<strong>ä¹è§‚é”å¯¼è‡´å¾ˆå¤šè¯·æ±‚éƒ½å¤±è´¥</strong>ã€‚å…ˆç‚¹çš„æ²¡ç§’åˆ°ï¼Œåç‚¹çš„å¯èƒ½ç§’åˆ°äº†ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731172717687.png\" alt=\"image-20220731172717687\"></p>\n<h3 id=\"1153è¿æ¥è¶…æ—¶é€šè¿‡è¿æ¥æ± è§£å†³\"><a class=\"markdownIt-Anchor\" href=\"#1153è¿æ¥è¶…æ—¶é€šè¿‡è¿æ¥æ± è§£å†³\">#</a> 11.5.3.\tè¿æ¥è¶…æ—¶ï¼Œé€šè¿‡è¿æ¥æ± è§£å†³</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731172732412.png\" alt=\"image-20220731172732412\"></p>\n<h3 id=\"1154è¿æ¥æ± \"><a class=\"markdownIt-Anchor\" href=\"#1154è¿æ¥æ± \">#</a> 11.5.4.\tè¿æ¥æ± </h3>\n<p>èŠ‚çœæ¯æ¬¡è¿æ¥ redis æœåŠ¡å¸¦æ¥çš„æ¶ˆè€—ï¼ŒæŠŠè¿æ¥å¥½çš„å®ä¾‹åå¤åˆ©ç”¨ã€‚</p>\n<p>é€šè¿‡å‚æ•°ç®¡ç†è¿æ¥çš„è¡Œä¸º</p>\n<p>ä»£ç è§é¡¹ç›®ä¸­</p>\n<ul>\n<li><strong>é“¾æ¥æ± å‚æ•°</strong>\n<ul>\n<li><code>MaxTotal</code> ï¼šæ§åˆ¶ä¸€ä¸ª pool å¯åˆ†é…å¤šå°‘ä¸ª jedis å®ä¾‹ï¼Œé€šè¿‡ **pool.getResource ()** æ¥è·å–ï¼›å¦‚æœèµ‹å€¼ä¸º - 1ï¼Œåˆ™è¡¨ç¤ºä¸é™åˆ¶ï¼›å¦‚æœ pool å·²ç»åˆ†é…äº† MaxTotal ä¸ª jedis å®ä¾‹ï¼Œåˆ™æ­¤æ—¶ pool çš„çŠ¶æ€ä¸º exhausted ã€‚</li>\n<li><code>maxIdle</code> ï¼šæ§åˆ¶ä¸€ä¸ª pool æœ€å¤šæœ‰å¤šå°‘ä¸ªçŠ¶æ€ä¸º idle (ç©ºé—²) çš„ jedis å®ä¾‹ï¼›</li>\n<li><code>MaxWaitMillis</code> ï¼šè¡¨ç¤ºå½“ borrow ä¸€ä¸ª jedis å®ä¾‹æ—¶ï¼Œæœ€å¤§çš„ç­‰å¾…æ¯«ç§’æ•°ï¼Œå¦‚æœè¶…è¿‡ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç›´æ¥æŠ› JedisConnectionExceptionï¼›</li>\n<li><code>testOnBorrow</code> ï¼šè·å¾—ä¸€ä¸ª jedis å®ä¾‹çš„æ—¶å€™æ˜¯å¦æ£€æŸ¥è¿æ¥å¯ç”¨æ€§ï¼ˆping ()ï¼‰ï¼›å¦‚æœä¸º trueï¼Œåˆ™å¾—åˆ°çš„ jedis å®ä¾‹å‡æ˜¯å¯ç”¨çš„ï¼›</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"6-è§£å†³åº“å­˜é—ç•™é—®é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#6-è§£å†³åº“å­˜é—ç•™é—®é¢˜\">#</a> 6 - è§£å†³åº“å­˜é—ç•™é—®é¢˜</h2>\n<p>** é—®é¢˜æè¿°ï¼š** ç”±äºä¹è§‚é”é€ æˆçš„åº“å­˜é—ç•™é—®é¢˜</p>\n<p>å‡è®¾ç°åœ¨æœ‰ 500 ä¸ªå•†å“è¦å‡ºå”®ï¼Œç‰ˆæœ¬å·æ˜¯ 1.0ï¼Œæœ‰ 2000 ä¸ªäººåŒæ—¶ç§’æ€ï¼Œå…¶ä¸­æœ‰ 1 ä¸ªäººè´­ä¹°æˆåŠŸå¹¶ä¸”ä¿®æ”¹åº“å­˜ä¸º 499ï¼Œç‰ˆæœ¬å· 1.1ï¼Œé‚£å…¶ä»–çš„ 1999 äººéƒ½ä¸èƒ½æˆåŠŸè´­ä¹°ï¼Œå³æœ‰é¢„å­˜ä½†æ˜¯æ— æ³•è´­ä¹°ï¼Œé€ æˆçš„åº“å­˜é¢„ç•™é—®é¢˜ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220804125018740.png\" alt=\"image-20220804125018740\"></p>\n<p>** è§£å†³ï¼š** ç”¨ LUA è„šæœ¬ï¼Œè„šæœ¬å¯è§ 11.7.5 ä»£ç </p>\n<h3 id=\"1161luaè„šæœ¬\"><a class=\"markdownIt-Anchor\" href=\"#1161luaè„šæœ¬\">#</a> 11.6.1.\tLUA è„šæœ¬</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731173040454.png\" alt=\"image-20220731173040454\"></p>\n<p>Lua æ˜¯ä¸€ä¸ªå°å·§çš„<strong>è„šæœ¬è¯­è¨€</strong>ï¼ŒLua è„šæœ¬å¯ä»¥å¾ˆå®¹æ˜“çš„è¢« C/C++ ä»£ç è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åè¿‡æ¥è°ƒç”¨ C/C++ çš„å‡½æ•°ï¼ŒLua å¹¶æ²¡æœ‰æä¾›å¼ºå¤§çš„åº“ï¼Œä¸€ä¸ªå®Œæ•´çš„ Lua è§£é‡Šå™¨ä¸è¿‡ 200kï¼Œæ‰€ä»¥ Lua ä¸é€‚åˆä½œä¸ºå¼€å‘ç‹¬ç«‹åº”ç”¨ç¨‹åºçš„è¯­è¨€ï¼Œè€Œæ˜¯ä½œä¸º<strong>åµŒå…¥å¼è„šæœ¬è¯­è¨€</strong>ã€‚</p>\n<p>å¾ˆå¤šåº”ç”¨ç¨‹åºã€æ¸¸æˆä½¿ç”¨ LUA ä½œä¸ºè‡ªå·±çš„åµŒå…¥å¼è„šæœ¬è¯­è¨€ï¼Œä»¥æ­¤æ¥å®ç°å¯é…ç½®æ€§ã€å¯æ‰©å±•æ€§ã€‚</p>\n<p>è¿™å…¶ä¸­åŒ…æ‹¬é­”å…½äº‰éœ¸åœ°å›¾ã€é­”å…½ä¸–ç•Œã€åšå¾·ä¹‹é—¨ã€æ„¤æ€’çš„å°é¸Ÿç­‰ä¼—å¤šæ¸¸æˆæ’ä»¶æˆ–å¤–æŒ‚ã€‚</p>\n<p>å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudzNjc2Nob29sLmNuL2x1YS8=\">https://www.w3cschool.cn/lua/</span></p>\n<h3 id=\"1162luaè„šæœ¬åœ¨redisä¸­çš„ä¼˜åŠ¿\"><a class=\"markdownIt-Anchor\" href=\"#1162luaè„šæœ¬åœ¨redisä¸­çš„ä¼˜åŠ¿\">#</a> 11.6.2.\tLUA è„šæœ¬åœ¨ Redis ä¸­çš„ä¼˜åŠ¿</h3>\n<p>å°†å¤æ‚çš„æˆ–è€…å¤šæ­¥çš„ redis æ“ä½œï¼Œå†™ä¸ºä¸€ä¸ªè„šæœ¬ï¼Œä¸€æ¬¡æäº¤ç»™ redis æ‰§è¡Œï¼Œå‡å°‘åå¤è¿æ¥ redis çš„æ¬¡æ•°ã€‚æå‡æ€§èƒ½ã€‚</p>\n<p><strong>LUA è„šæœ¬æ˜¯ç±»ä¼¼ redis äº‹åŠ¡ï¼Œæœ‰ä¸€å®šçš„åŸå­æ€§ï¼Œä¸ä¼šè¢«å…¶ä»–å‘½ä»¤æ’é˜Ÿï¼Œå¯ä»¥å®Œæˆä¸€äº› redis äº‹åŠ¡æ€§çš„æ“ä½œã€‚</strong></p>\n<p>ä½†æ˜¯æ³¨æ„ redis çš„ lua è„šæœ¬åŠŸèƒ½ï¼Œåªæœ‰åœ¨ Redis 2.6 ä»¥ä¸Šçš„ç‰ˆæœ¬æ‰å¯ä»¥ä½¿ç”¨ã€‚<br>\nåˆ©ç”¨ lua è„šæœ¬æ·˜æ±°ç”¨æˆ·ï¼Œè§£å†³<strong>è¶…å–é—®é¢˜</strong>ã€‚</p>\n<p>redis 2.6 ç‰ˆæœ¬ä»¥åï¼Œé€šè¿‡ lua è„šæœ¬è§£å†³<strong>äº‰æŠ¢é—®é¢˜</strong>ï¼Œå®é™…ä¸Šæ˜¯<strong> redis åˆ©ç”¨å…¶å•çº¿ç¨‹çš„ç‰¹æ€§ï¼Œç”¨ä»»åŠ¡é˜Ÿåˆ—çš„æ–¹å¼è§£å†³å¤šä»»åŠ¡å¹¶å‘é—®é¢˜</strong>ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731173328775.png\" alt=\"image-20220731173328775\"></p>\n<h2 id=\"7-redis_äº‹åŠ¡_ç§’æ€æ¡ˆä¾‹_ä»£ç \"><a class=\"markdownIt-Anchor\" href=\"#7-redis_äº‹åŠ¡_ç§’æ€æ¡ˆä¾‹_ä»£ç \">#</a> 7 - Redis_äº‹åŠ¡_ç§’æ€æ¡ˆä¾‹_ä»£ç </h2>\n<h3 id=\"1171é¡¹ç›®ç»“æ„\"><a class=\"markdownIt-Anchor\" href=\"#1171é¡¹ç›®ç»“æ„\">#</a> 11.7.1.\té¡¹ç›®ç»“æ„</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731173358460.png\" alt=\"image-20220731173358460\"></p>\n<h3 id=\"1172ç¬¬ä¸€ç‰ˆç®€å•ç‰ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1172ç¬¬ä¸€ç‰ˆç®€å•ç‰ˆ\">#</a> 11.7.2.\tç¬¬ä¸€ç‰ˆï¼šç®€å•ç‰ˆ</h3>\n<p>è€å¸ˆç‚¹ 10 æ¬¡ï¼Œæ­£å¸¸ç§’æ€</p>\n<p>åŒå­¦ä¸€èµ·ç‚¹è¯•ä¸€è¯•ï¼Œç§’æ€ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚è¿™æ˜¯å› ä¸ºè¿˜è¾¾ä¸åˆ°å¹¶å‘çš„æ•ˆæœã€‚</p>\n<p>ä½¿ç”¨<strong>å·¥å…· ab</strong> æ¨¡æ‹Ÿå¹¶å‘æµ‹è¯•ï¼Œä¼šå‡ºç°è¶…å–æƒ…å†µã€‚æŸ¥çœ‹åº“å­˜ä¼šå‡ºç°<strong>è´Ÿæ•°</strong>ã€‚</p>\n<h3 id=\"1173ç¬¬äºŒç‰ˆåŠ äº‹åŠ¡-ä¹è§‚é”è§£å†³è¶…å–ä½†å‡ºç°é—ç•™åº“å­˜å’Œè¿æ¥è¶…æ—¶\"><a class=\"markdownIt-Anchor\" href=\"#1173ç¬¬äºŒç‰ˆåŠ äº‹åŠ¡-ä¹è§‚é”è§£å†³è¶…å–ä½†å‡ºç°é—ç•™åº“å­˜å’Œè¿æ¥è¶…æ—¶\">#</a> 11.7.3.\tç¬¬äºŒç‰ˆï¼šåŠ äº‹åŠ¡ - ä¹è§‚é” (è§£å†³è¶…å–), ä½†å‡ºç°é—ç•™åº“å­˜å’Œè¿æ¥è¶…æ—¶</h3>\n<h3 id=\"1174ç¬¬ä¸‰ç‰ˆè¿æ¥æ± è§£å†³è¶…æ—¶é—®é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#1174ç¬¬ä¸‰ç‰ˆè¿æ¥æ± è§£å†³è¶…æ—¶é—®é¢˜\">#</a> 11.7.4.\tç¬¬ä¸‰ç‰ˆï¼šè¿æ¥æ± è§£å†³è¶…æ—¶é—®é¢˜</h3>\n<h3 id=\"1175ç¬¬å››ç‰ˆè§£å†³åº“å­˜é—ç•™é—®é¢˜luaè„šæœ¬\"><a class=\"markdownIt-Anchor\" href=\"#1175ç¬¬å››ç‰ˆè§£å†³åº“å­˜é—ç•™é—®é¢˜luaè„šæœ¬\">#</a> 11.7.5.\tç¬¬å››ç‰ˆï¼šè§£å†³åº“å­˜é—ç•™é—®é¢˜ï¼ŒLUA è„šæœ¬</h3>\n<figure class=\"highlight lua\"><figcaption data-lang=\"lua\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">local</span> userid<span class=\"token operator\">=</span>KEYS<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">local</span> prodid<span class=\"token operator\">=</span>KEYS<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">local</span> qtkey<span class=\"token operator\">=</span><span class=\"token string\">\"sk:\"</span><span class=\"token operator\">..</span>prodid<span class=\"token operator\">..</span><span class=\"token string\">\":qt\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">local</span> usersKey<span class=\"token operator\">=</span><span class=\"token string\">\"sk:\"</span><span class=\"token operator\">..</span>prodid<span class=\"token punctuation\">.</span>\"<span class=\"token punctuation\">:</span>usr'<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">local</span> userExists<span class=\"token operator\">=</span>redis<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sismember\"</span><span class=\"token punctuation\">,</span>usersKey<span class=\"token punctuation\">,</span>userid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token function\">tonumber</span><span class=\"token punctuation\">(</span>userExists<span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token number\">1</span> <span class=\"token keyword\">then</span> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">end</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">local</span> num<span class=\"token operator\">=</span> redis<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"get\"</span> <span class=\"token punctuation\">,</span>qtkey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token function\">tonumber</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;=</span><span class=\"token number\">0</span> <span class=\"token keyword\">then</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">else</span> </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  redis<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"decr\"</span><span class=\"token punctuation\">,</span>qtkey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  redis<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sadd\"</span><span class=\"token punctuation\">,</span>usersKey<span class=\"token punctuation\">,</span>userid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">end</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"åäºŒ-redisæŒä¹…åŒ–ä¹‹rdb\"><a class=\"markdownIt-Anchor\" href=\"#åäºŒ-redisæŒä¹…åŒ–ä¹‹rdb\">#</a> åäºŒã€Redis æŒä¹…åŒ–ä¹‹ RDB</h1>\n<h2 id=\"1-æ€»ä½“ä»‹ç»\"><a class=\"markdownIt-Anchor\" href=\"#1-æ€»ä½“ä»‹ç»\">#</a> 1 - æ€»ä½“ä»‹ç»</h2>\n<p>å®˜ç½‘ä»‹ç»ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5yZWRpcy5pbw==\">http://www.redis.io</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731173617123.png\" alt=\"image-20220731173617123\"></p>\n<p>Redis æä¾›äº† 2 ä¸ªä¸åŒå½¢å¼çš„æŒä¹…åŒ–æ–¹å¼ã€‚</p>\n<ul>\n<li>RDBï¼ˆRedis DataBaseï¼‰</li>\n<li>AOFï¼ˆAppend Of Fileï¼‰</li>\n</ul>\n<h2 id=\"2-rdbredis-database\"><a class=\"markdownIt-Anchor\" href=\"#2-rdbredis-database\">#</a> 2 - RDBï¼ˆRedis DataBaseï¼‰</h2>\n<h3 id=\"1221å®˜ç½‘ä»‹ç»\"><a class=\"markdownIt-Anchor\" href=\"#1221å®˜ç½‘ä»‹ç»\">#</a> 12.2.1.\tå®˜ç½‘ä»‹ç»</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731173702411.png\" alt=\"image-20220731173702411\"></p>\n<h3 id=\"1222æ˜¯ä»€ä¹ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1222æ˜¯ä»€ä¹ˆ\">#</a> 12.2.2.\tæ˜¯ä»€ä¹ˆ</h3>\n<p>åœ¨æŒ‡å®šçš„<strong>æ—¶é—´é—´éš”</strong>å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†<strong>å¿«ç…§</strong>å†™å…¥ç£ç›˜ï¼Œ ä¹Ÿå°±æ˜¯è¡Œè¯è®²çš„ Snapshot å¿«ç…§ï¼Œå®ƒæ¢å¤æ—¶æ˜¯å°†å¿«ç…§æ–‡ä»¶ç›´æ¥è¯»åˆ°å†…å­˜é‡Œ</p>\n<h3 id=\"1223å¤‡ä»½æ˜¯å¦‚ä½•æ‰§è¡Œçš„\"><a class=\"markdownIt-Anchor\" href=\"#1223å¤‡ä»½æ˜¯å¦‚ä½•æ‰§è¡Œçš„\">#</a> 12.2.3.\tå¤‡ä»½æ˜¯å¦‚ä½•æ‰§è¡Œçš„</h3>\n<p>Redis ä¼šå•ç‹¬åˆ›å»ºï¼ˆforkï¼‰ä¸€ä¸ªå­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¼šå…ˆå°†æ•°æ®å†™å…¥åˆ° ä¸€ä¸ª<strong>ä¸´æ—¶æ–‡ä»¶</strong>ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹éƒ½ç»“æŸäº†ï¼Œå†ç”¨è¿™ä¸ª<strong>ä¸´æ—¶æ–‡ä»¶æ›¿æ¢ä¸Šæ¬¡æŒä¹…åŒ–å¥½çš„æ–‡ä»¶</strong>ã€‚ æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹æ˜¯ä¸è¿›è¡Œä»»ä½• IO æ“ä½œçš„ï¼Œè¿™å°±ç¡®ä¿äº†æé«˜çš„æ€§èƒ½ å¦‚æœéœ€è¦è¿›è¡Œå¤§è§„æ¨¡æ•°æ®çš„æ¢å¤ï¼Œä¸”å¯¹äºæ•°æ®æ¢å¤çš„å®Œæ•´æ€§ä¸æ˜¯éå¸¸æ•æ„Ÿï¼Œé‚£ RDB æ–¹å¼è¦æ¯” AOF æ–¹å¼æ›´åŠ çš„é«˜æ•ˆã€‚</p>\n<p><strong>RDB çš„ç¼ºç‚¹æ˜¯æœ€åä¸€æ¬¡æŒä¹…åŒ–åçš„æ•°æ®å¯èƒ½ä¸¢å¤±</strong>ã€‚</p>\n<h3 id=\"1224fork\"><a class=\"markdownIt-Anchor\" href=\"#1224fork\">#</a> 12.2.4.\tFork</h3>\n<ul>\n<li>Fork çš„ä½œç”¨æ˜¯<strong>å¤åˆ¶</strong>ä¸€ä¸ªä¸å½“å‰è¿›ç¨‹ä¸€æ ·çš„è¿›ç¨‹ã€‚æ–°è¿›ç¨‹çš„æ‰€æœ‰æ•°æ®ï¼ˆå˜é‡ã€ç¯å¢ƒå˜é‡ã€ç¨‹åºè®¡æ•°å™¨ç­‰ï¼‰ æ•°å€¼éƒ½å’ŒåŸè¿›ç¨‹ä¸€è‡´ï¼Œä½†æ˜¯æ˜¯ä¸€ä¸ªå…¨æ–°çš„è¿›ç¨‹ï¼Œå¹¶<strong>ä½œä¸ºåŸè¿›ç¨‹çš„å­è¿›ç¨‹</strong></li>\n<li>åœ¨ Linux ç¨‹åºä¸­ï¼Œfork () ä¼šäº§ç”Ÿä¸€ä¸ªå’Œçˆ¶è¿›ç¨‹å®Œå…¨ç›¸åŒçš„å­è¿›ç¨‹ï¼Œä½†å­è¿›ç¨‹åœ¨æ­¤åå¤šä¼š exec ç³»ç»Ÿè°ƒç”¨ï¼Œå‡ºäºæ•ˆç‡è€ƒè™‘ï¼ŒLinux ä¸­å¼•å…¥äº† â€œ<strong>å†™æ—¶å¤åˆ¶æŠ€æœ¯</strong>â€</li>\n<li><strong>ä¸€èˆ¬æƒ…å†µçˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¼šå…±ç”¨åŒä¸€æ®µç‰©ç†å†…å­˜</strong>ï¼Œåªæœ‰è¿›ç¨‹ç©ºé—´çš„å„æ®µçš„å†…å®¹è¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šå°†çˆ¶è¿›ç¨‹çš„å†…å®¹å¤åˆ¶ä¸€ä»½ç»™å­è¿›ç¨‹ã€‚</li>\n</ul>\n<h3 id=\"1225rdbæŒä¹…åŒ–æµç¨‹\"><a class=\"markdownIt-Anchor\" href=\"#1225rdbæŒä¹…åŒ–æµç¨‹\">#</a> 12.2.5.\tRDB æŒä¹…åŒ–æµç¨‹</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731174221520.png\" alt=\"image-20220731174221520\"></p>\n<h3 id=\"1226dumprdbæ–‡ä»¶\"><a class=\"markdownIt-Anchor\" href=\"#1226dumprdbæ–‡ä»¶\">#</a> 12.2.6.\tdump.rdb æ–‡ä»¶</h3>\n<p>åœ¨ redis.conf ä¸­é…ç½®æ–‡ä»¶åç§°ï¼Œé»˜è®¤ä¸º dump.rdb</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731174310211.png\" alt=\"image-20220731174310211\"></p>\n<h3 id=\"1227é…ç½®ä½ç½®\"><a class=\"markdownIt-Anchor\" href=\"#1227é…ç½®ä½ç½®\">#</a> 12.2.7.\té…ç½®ä½ç½®</h3>\n<p>rdb æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹ã€‚é»˜è®¤ä¸º Redis å¯åŠ¨æ—¶å‘½ä»¤è¡Œæ‰€åœ¨çš„ç›®å½•ä¸‹<br>\n dir â€œ/myredis/â€</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731174540479.png\" alt=\"image-20220731174540479\"></p>\n<h3 id=\"1228å¦‚ä½•è§¦å‘rdbå¿«ç…§ä¿æŒç­–ç•¥\"><a class=\"markdownIt-Anchor\" href=\"#1228å¦‚ä½•è§¦å‘rdbå¿«ç…§ä¿æŒç­–ç•¥\">#</a> 12.2.8.\tå¦‚ä½•è§¦å‘ RDB å¿«ç…§ï¼›ä¿æŒç­–ç•¥</h3>\n<p><strong>12.2.8.1.\té…ç½®æ–‡ä»¶ä¸­é»˜è®¤çš„å¿«ç…§é…ç½®</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731174621350.png\" alt=\"image-20220731174621350\"></p>\n<p><strong>12.2.8.2.\tå‘½ä»¤ save VS bgsave</strong></p>\n<p><code>save</code>  ï¼šsave æ—¶åªç®¡ä¿å­˜ï¼Œå…¶å®ƒä¸ç®¡ï¼Œå…¨éƒ¨é˜»å¡ã€‚æ‰‹åŠ¨ä¿å­˜ã€‚ä¸å»ºè®®ã€‚</p>\n<p><code>bgsave</code> ï¼šRedis ä¼šåœ¨åå°å¼‚æ­¥è¿›è¡Œå¿«ç…§æ“ä½œï¼Œ <strong>å¿«ç…§åŒæ—¶è¿˜å¯ä»¥å“åº”å®¢æˆ·ç«¯è¯·æ±‚ã€‚</strong></p>\n<p>å¯ä»¥é€šè¿‡ lastsave å‘½ä»¤è·å–æœ€åä¸€æ¬¡æˆåŠŸæ‰§è¡Œå¿«ç…§çš„æ—¶é—´</p>\n<p><strong>12.2.8.3.\tflushall å‘½ä»¤</strong></p>\n<p>æ‰§è¡Œ flushall å‘½ä»¤ï¼Œä¹Ÿä¼šäº§ç”Ÿ dump.rdb æ–‡ä»¶ï¼Œä½†é‡Œé¢æ˜¯ç©ºçš„ï¼Œæ— æ„ä¹‰</p>\n<p><strong>12.2.8.4.\t###SNAPSHOTTING å¿«ç…§ ###</strong></p>\n<p><strong>12.2.8.5.\tSave</strong></p>\n<p>æ ¼å¼ï¼šsave ç§’é’Ÿ å†™æ“ä½œæ¬¡æ•°</p>\n<p>RDB æ˜¯æ•´ä¸ªå†…å­˜çš„å‹ç¼©è¿‡çš„ Snapshotï¼ŒRDB çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥é…ç½®å¤åˆçš„å¿«ç…§è§¦å‘æ¡ä»¶ï¼Œ</p>\n<p><strong>é»˜è®¤æ˜¯ 1 åˆ†é’Ÿå†…æ”¹äº† 1 ä¸‡æ¬¡ï¼Œæˆ– 5 åˆ†é’Ÿå†…æ”¹äº† 10 æ¬¡ï¼Œæˆ– 15 åˆ†é’Ÿå†…æ”¹äº† 1 æ¬¡ã€‚</strong></p>\n<p><strong>ç¦ç”¨ï¼šä¸è®¾ç½® save æŒ‡ä»¤ï¼Œæˆ–è€…ç»™ save ä¼ å…¥ç©ºå­—ç¬¦ä¸²</strong></p>\n<p><strong>12.2.8.6.\tstop-writes-on-bgsave-error</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731175145278.png\" alt=\"image-20220731175145278\"></p>\n<p>å½“ Redis æ— æ³•å†™å…¥ç£ç›˜çš„è¯ï¼Œç›´æ¥å…³æ‰ Redis çš„å†™æ“ä½œã€‚æ¨è yes.</p>\n<p><strong>12.2.8.7.\trdbcompression å‹ç¼©æ–‡ä»¶</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731175201409.png\" alt=\"image-20220731175201409\"></p>\n<p>å¯¹äºå­˜å‚¨åˆ°ç£ç›˜ä¸­çš„å¿«ç…§ï¼Œå¯ä»¥è®¾ç½®æ˜¯å¦è¿›è¡Œå‹ç¼©å­˜å‚¨ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œredis ä¼šé‡‡ç”¨ <code>LZFç®—æ³•</code> è¿›è¡Œå‹ç¼©ã€‚</p>\n<p>å¦‚æœä½ ä¸æƒ³æ¶ˆè€— CPU æ¥è¿›è¡Œå‹ç¼©çš„è¯ï¼Œå¯ä»¥è®¾ç½®ä¸ºå…³é—­æ­¤åŠŸèƒ½ã€‚æ¨è yes.</p>\n<p><strong>12.2.8.8.\trdbchecksum æ£€æŸ¥å®Œæ•´æ€§</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731175342119.png\" alt=\"image-20220731175342119\"></p>\n<p>åœ¨å­˜å‚¨å¿«ç…§åï¼Œè¿˜å¯ä»¥è®© redis ä½¿ç”¨ <code>CRC64ç®—æ³•</code> æ¥è¿›è¡Œæ•°æ®æ ¡éªŒï¼Œ</p>\n<p>ä½†æ˜¯è¿™æ ·åšä¼šå¢åŠ å¤§çº¦ 10% çš„æ€§èƒ½æ¶ˆè€—ï¼Œå¦‚æœå¸Œæœ›è·å–åˆ°æœ€å¤§çš„æ€§èƒ½æå‡ï¼Œå¯ä»¥å…³é—­æ­¤åŠŸèƒ½ ã€‚æ¨è yes.</p>\n<p><strong>12.2.8.9.\trdb çš„å¤‡ä»½</strong></p>\n<p>å…ˆé€šè¿‡ config get dir  æŸ¥è¯¢ rdb æ–‡ä»¶çš„ç›®å½•</p>\n<p>å°† *.rdb çš„æ–‡ä»¶æ‹·è´åˆ°åˆ«çš„åœ°æ–¹</p>\n<p>rdb çš„æ¢å¤</p>\n<ul>\n<li>å…³é—­ Redis</li>\n<li>å…ˆæŠŠå¤‡ä»½çš„æ–‡ä»¶æ‹·è´åˆ°å·¥ä½œç›®å½•ä¸‹  <code>cp dump2.rdb dump.rdb</code></li>\n<li>å¯åŠ¨ Redis, å¤‡ä»½æ•°æ®ä¼šç›´æ¥åŠ è½½</li>\n</ul>\n<h3 id=\"1229ä¼˜åŠ¿\"><a class=\"markdownIt-Anchor\" href=\"#1229ä¼˜åŠ¿\">#</a> 12.2.9.\tä¼˜åŠ¿</h3>\n<ul>\n<li>é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤</li>\n<li>å¯¹æ•°æ®å®Œæ•´æ€§å’Œä¸€è‡´æ€§è¦æ±‚ä¸é«˜æ›´é€‚åˆä½¿ç”¨</li>\n<li>èŠ‚çœç£ç›˜ç©ºé—´</li>\n<li>æ¢å¤é€Ÿåº¦å¿«</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731175646400.png\" alt=\"image-20220731175646400\"></p>\n<h3 id=\"12210åŠ£åŠ¿\"><a class=\"markdownIt-Anchor\" href=\"#12210åŠ£åŠ¿\">#</a> 12.2.10.\tåŠ£åŠ¿</h3>\n<ul>\n<li>\n<p>Fork çš„æ—¶å€™ï¼Œå†…å­˜ä¸­çš„æ•°æ®è¢«å…‹éš†äº†ä¸€ä»½ï¼Œå¤§è‡´ 2 å€çš„è†¨èƒ€æ€§éœ€è¦è€ƒè™‘</p>\n</li>\n<li>\n<p>è™½ç„¶ Redis åœ¨ fork æ—¶ä½¿ç”¨äº†<strong>å†™æ—¶æ‹·è´æŠ€æœ¯</strong>ï¼Œä½†æ˜¯å¦‚æœæ•°æ®åºå¤§æ—¶è¿˜æ˜¯æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½</p>\n</li>\n<li>\n<p><strong>åœ¨å¤‡ä»½å‘¨æœŸåœ¨ä¸€å®šé—´éš”æ—¶é—´åšä¸€æ¬¡å¤‡ä»½ï¼Œæ‰€ä»¥å¦‚æœ Redis æ„å¤– down æ‰çš„è¯ï¼Œå°±ä¼šä¸¢å¤±æœ€åä¸€æ¬¡å¿«ç…§åçš„æ‰€æœ‰ä¿®æ”¹</strong>ã€‚</p>\n</li>\n</ul>\n<h3 id=\"12211å¦‚ä½•åœæ­¢\"><a class=\"markdownIt-Anchor\" href=\"#12211å¦‚ä½•åœæ­¢\">#</a> 12.2.11.\tå¦‚ä½•åœæ­¢</h3>\n<p>åŠ¨æ€åœæ­¢ RDBï¼š <code>redis-cli config set save &quot;&quot; </code>  #save åç»™ç©ºå€¼ï¼Œè¡¨ç¤ºç¦ç”¨ä¿å­˜ç­–ç•¥</p>\n<h3 id=\"12212å°æ€»ç»“\"><a class=\"markdownIt-Anchor\" href=\"#12212å°æ€»ç»“\">#</a> 12.2.12.\tå°æ€»ç»“</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731175756853.png\" alt=\"image-20220731175756853\"></p>\n<h1 id=\"åä¸‰-redisæŒä¹…åŒ–ä¹‹aof\"><a class=\"markdownIt-Anchor\" href=\"#åä¸‰-redisæŒä¹…åŒ–ä¹‹aof\">#</a> åä¸‰ã€Redis æŒä¹…åŒ–ä¹‹ AOF</h1>\n<h2 id=\"1-aofappend-only-file\"><a class=\"markdownIt-Anchor\" href=\"#1-aofappend-only-file\">#</a> 1 - AOFï¼ˆAppend Only Fileï¼‰</h2>\n<h3 id=\"1311æ˜¯ä»€ä¹ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1311æ˜¯ä»€ä¹ˆ\">#</a> 13.1.1.\tæ˜¯ä»€ä¹ˆ</h3>\n<p>ä»¥<strong>æ—¥å¿—çš„å½¢å¼æ¥è®°å½•æ¯ä¸ªå†™æ“ä½œï¼ˆå¢é‡ä¿å­˜ï¼‰</strong>ï¼Œå°† Redis æ‰§è¡Œè¿‡çš„æ‰€æœ‰å†™æŒ‡ä»¤è®°å½•ä¸‹æ¥ (<strong>è¯»æ“ä½œä¸è®°å½•</strong>)ï¼Œ <strong>åªè®¸è¿½åŠ æ–‡ä»¶ä½†ä¸å¯ä»¥æ”¹å†™æ–‡ä»¶</strong>ï¼Œredis å¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ï¼Œæ¢è¨€ä¹‹ï¼Œredis é‡å¯çš„è¯å°±æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†<strong>å†™æŒ‡ä»¤</strong>ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œ</p>\n<h3 id=\"1312aofæŒä¹…åŒ–æµç¨‹\"><a class=\"markdownIt-Anchor\" href=\"#1312aofæŒä¹…åŒ–æµç¨‹\">#</a> 13.1.2.\tAOF æŒä¹…åŒ–æµç¨‹</h3>\n<p>ï¼ˆ1ï¼‰å®¢æˆ·ç«¯çš„è¯·æ±‚å†™å‘½ä»¤ä¼šè¢« append è¿½åŠ åˆ° AOF ç¼“å†²åŒºå†…ï¼›</p>\n<p>ï¼ˆ2ï¼‰AOF ç¼“å†²åŒºæ ¹æ® AOF æŒä¹…åŒ–ç­–ç•¥ [always,everysec,no] å°†æ“ä½œ sync åŒæ­¥åˆ°ç£ç›˜çš„ AOF æ–‡ä»¶ä¸­ï¼›</p>\n<p>ï¼ˆ3ï¼‰AOF æ–‡ä»¶å¤§å°è¶…è¿‡é‡å†™ç­–ç•¥æˆ–æ‰‹åŠ¨é‡å†™æ—¶ï¼Œä¼šå¯¹ AOF æ–‡ä»¶ rewrite é‡å†™ï¼Œå‹ç¼© AOF æ–‡ä»¶å®¹é‡ï¼›</p>\n<p>ï¼ˆ4ï¼‰Redis æœåŠ¡é‡å¯æ—¶ï¼Œä¼šé‡æ–° load åŠ è½½ AOF æ–‡ä»¶ä¸­çš„å†™æ“ä½œè¾¾åˆ°æ•°æ®æ¢å¤çš„ç›®çš„ï¼›</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731180326215.png\" alt=\"image-20220731180326215\"></p>\n<h3 id=\"1313aofé»˜è®¤ä¸å¼€å¯\"><a class=\"markdownIt-Anchor\" href=\"#1313aofé»˜è®¤ä¸å¼€å¯\">#</a> 13.1.3.\tAOF é»˜è®¤ä¸å¼€å¯</h3>\n<p>å¯ä»¥åœ¨ redis.conf ä¸­é…ç½®æ–‡ä»¶åç§°ï¼Œé»˜è®¤ä¸º  <code>appendonly.aof</code></p>\n<p>AOF æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼ŒåŒ RDB çš„è·¯å¾„ä¸€è‡´ã€‚</p>\n<h3 id=\"1314aofå’ŒrdbåŒæ—¶å¼€å¯rediså¬è°çš„\"><a class=\"markdownIt-Anchor\" href=\"#1314aofå’ŒrdbåŒæ—¶å¼€å¯rediså¬è°çš„\">#</a> 13.1.4.\tAOF å’Œ RDB åŒæ—¶å¼€å¯ï¼Œredis å¬è°çš„ï¼Ÿ</h3>\n<p>AOF å’Œ RDB åŒæ—¶å¼€å¯ï¼Œç³»ç»Ÿé»˜è®¤å– AOF çš„æ•°æ®ï¼ˆæ•°æ®ä¸ä¼šå­˜åœ¨ä¸¢å¤±ï¼‰</p>\n<h3 id=\"1315aofå¯åŠ¨ä¿®å¤æ¢å¤\"><a class=\"markdownIt-Anchor\" href=\"#1315aofå¯åŠ¨ä¿®å¤æ¢å¤\">#</a> 13.1.5.\tAOF å¯åŠ¨ / ä¿®å¤ / æ¢å¤</h3>\n<ul>\n<li>\n<p>AOF çš„å¤‡ä»½æœºåˆ¶å’Œæ€§èƒ½è™½ç„¶å’Œ RDB ä¸åŒï¼Œä½†æ˜¯å¤‡ä»½å’Œæ¢å¤çš„æ“ä½œåŒ RDB ä¸€æ ·ï¼Œéƒ½æ˜¯æ‹·è´å¤‡ä»½æ–‡ä»¶ï¼Œéœ€è¦æ¢å¤æ—¶å†æ‹·è´åˆ° Redis å·¥ä½œç›®å½•ä¸‹ï¼Œå¯åŠ¨ç³»ç»Ÿå³åŠ è½½ã€‚</p>\n</li>\n<li>\n<p>æ­£å¸¸æ¢å¤</p>\n<ul>\n<li>ä¿®æ”¹é»˜è®¤çš„ appendonly noï¼Œæ”¹ä¸º yes</li>\n<li>å°†æœ‰æ•°æ®çš„ aof æ–‡ä»¶å¤åˆ¶ä¸€ä»½ä¿å­˜åˆ°å¯¹åº”ç›®å½• (æŸ¥çœ‹ç›®å½•ï¼šconfig get dir)</li>\n<li>æ¢å¤ï¼šé‡å¯ redis ç„¶åé‡æ–°åŠ è½½</li>\n</ul>\n</li>\n<li>\n<p>å¼‚å¸¸æ¢å¤</p>\n<ul>\n<li>ä¿®æ”¹é»˜è®¤çš„ appendonly noï¼Œæ”¹ä¸º yes</li>\n<li>å¦‚é‡åˆ°<strong> AOF æ–‡ä»¶æŸå</strong>ï¼Œé€šè¿‡ /<strong>usr/local/bin/redis-check-aofâ€“fix appendonly.aof</strong> è¿›è¡Œæ¢å¤</li>\n<li>å¤‡ä»½è¢«å†™åçš„ AOF æ–‡ä»¶</li>\n<li>æ¢å¤ï¼šé‡å¯ redisï¼Œç„¶åé‡æ–°åŠ è½½</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"1316aofåŒæ­¥é¢‘ç‡è®¾ç½®\"><a class=\"markdownIt-Anchor\" href=\"#1316aofåŒæ­¥é¢‘ç‡è®¾ç½®\">#</a> 13.1.6.\tAOF åŒæ­¥é¢‘ç‡è®¾ç½®</h3>\n<p><code>appendfsync always</code> <br>\n å§‹ç»ˆåŒæ­¥ï¼Œæ¯æ¬¡ Redis çš„å†™å…¥éƒ½ä¼šç«‹åˆ»è®°å…¥æ—¥å¿—ï¼›æ€§èƒ½è¾ƒå·®ä½†æ•°æ®å®Œæ•´æ€§æ¯”è¾ƒå¥½<br>\n <code>appendfsync everysec</code> <br>\n æ¯ç§’åŒæ­¥ï¼Œæ¯ç§’è®°å…¥æ—¥å¿—ä¸€æ¬¡ï¼Œå¦‚æœå®•æœºï¼Œæœ¬ç§’çš„æ•°æ®å¯èƒ½ä¸¢å¤±ã€‚<br>\n <code>appendfsync no</code> <br>\nredis ä¸ä¸»åŠ¨è¿›è¡ŒåŒæ­¥ï¼ŒæŠŠåŒæ­¥æ—¶æœºäº¤ç»™æ“ä½œç³»ç»Ÿã€‚</p>\n<h3 id=\"1317rewriteå‹ç¼©\"><a class=\"markdownIt-Anchor\" href=\"#1317rewriteå‹ç¼©\">#</a> 13.1.7.\tRewrite å‹ç¼©</h3>\n<ol>\n<li>\n<p>æ˜¯ä»€ä¹ˆï¼š<br>\nAOF é‡‡ç”¨<strong>æ–‡ä»¶è¿½åŠ </strong>æ–¹å¼ï¼Œæ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§ä¸ºé¿å…å‡ºç°æ­¤ç§æƒ…å†µï¼Œæ–°å¢äº†<strong>é‡å†™æœºåˆ¶</strong>ï¼Œå½“ AOF æ–‡ä»¶çš„å¤§å°è¶…è¿‡æ‰€è®¾å®šçš„é˜ˆå€¼æ—¶ï¼ŒRedis å°±ä¼šå¯åŠ¨ AOF æ–‡ä»¶çš„<strong>å†…å®¹å‹ç¼©</strong>ï¼Œ åªä¿ç•™å¯ä»¥æ¢å¤æ•°æ®çš„<strong>æœ€å°æŒ‡ä»¤é›†</strong>ã€‚å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>bgrewriteaof</code></p>\n</li>\n<li>\n<p>é‡å†™åŸç†ï¼Œå¦‚ä½•å®ç°é‡å†™<br>\n AOF æ–‡ä»¶æŒç»­å¢é•¿è€Œè¿‡å¤§æ—¶ï¼Œä¼š fork å‡ºä¸€æ¡æ–°è¿›ç¨‹æ¥å°†æ–‡ä»¶é‡å†™ (ä¹Ÿæ˜¯å…ˆå†™ä¸´æ—¶æ–‡ä»¶æœ€åå† rename)ï¼Œ<strong>redis4.0 ç‰ˆæœ¬åçš„é‡å†™ï¼Œæ˜¯æŒ‡ä¸Šå°±æ˜¯æŠŠ rdb çš„å¿«ç…§ï¼Œä»¥äºŒçº§åˆ¶çš„å½¢å¼é™„åœ¨æ–°çš„ aof å¤´éƒ¨ï¼Œä½œä¸ºå·²æœ‰çš„å†å²æ•°æ®ï¼Œæ›¿æ¢æ‰åŸæ¥çš„æµæ°´è´¦æ“ä½œ</strong>ã€‚</p>\n<p><code>no-appendfsync-on-rewrite</code> ï¼š<br>\nå¦‚æœ no-appendfsync-on-rewrite=yes , ä¸å†™å…¥ aof æ–‡ä»¶åªå†™å…¥ <code>ç¼“å­˜</code> ï¼Œç”¨æˆ·è¯·æ±‚ä¸ä¼šé˜»å¡ï¼Œä½†æ˜¯åœ¨è¿™æ®µæ—¶é—´å¦‚æœå®•æœºä¼šä¸¢å¤±è¿™æ®µæ—¶é—´çš„ç¼“å­˜æ•°æ®ã€‚ï¼ˆ<strong>é™ä½æ•°æ®å®‰å…¨æ€§ï¼Œæé«˜æ€§èƒ½</strong>ï¼‰</p>\n<p>â€‹\tå¦‚æœ no-appendfsync-on-rewrite=no,  è¿˜æ˜¯ä¼šæŠŠæ•°æ®å¾€ <code>ç£ç›˜</code> é‡Œåˆ·ï¼Œä½†æ˜¯é‡åˆ°é‡å†™æ“ä½œï¼Œå¯èƒ½ä¼šå‘ç”Ÿé˜»å¡ã€‚ï¼ˆ<strong>æ•°æ®å®‰å…¨ï¼Œä½†æ˜¯æ€§èƒ½é™ä½</strong>ï¼‰</p>\n<p>è§¦å‘æœºåˆ¶ï¼Œä½•æ—¶é‡å†™</p>\n<p>Redis ä¼šè®°å½•ä¸Šæ¬¡é‡å†™æ—¶çš„ AOF å¤§å°ï¼Œé»˜è®¤é…ç½®æ˜¯å½“ AOF æ–‡ä»¶å¤§å°æ˜¯ä¸Šæ¬¡ rewrite åå¤§å°çš„ä¸€å€ä¸”æ–‡ä»¶å¤§äº 64M æ—¶è§¦å‘</p>\n<p>é‡å†™è™½ç„¶å¯ä»¥èŠ‚çº¦å¤§é‡ç£ç›˜ç©ºé—´ï¼Œå‡å°‘æ¢å¤æ—¶é—´ã€‚ä½†æ˜¯æ¯æ¬¡é‡å†™è¿˜æ˜¯æœ‰ä¸€å®šçš„è´Ÿæ‹…çš„ï¼Œå› æ­¤è®¾å®š Redis è¦æ»¡è¶³ä¸€å®šæ¡ä»¶æ‰ä¼šè¿›è¡Œé‡å†™ã€‚</p>\n<p><code>auto-aof-rewrite-percentage</code> ï¼šè®¾ç½®é‡å†™çš„åŸºå‡†å€¼ï¼Œæ–‡ä»¶è¾¾åˆ° 100% æ—¶å¼€å§‹é‡å†™ï¼ˆæ–‡ä»¶æ˜¯åŸæ¥é‡å†™åæ–‡ä»¶çš„ 2 å€æ—¶è§¦å‘ï¼‰</p>\n<p><code>auto-aof-rewrite-min-size</code> ï¼šè®¾ç½®é‡å†™çš„åŸºå‡†å€¼ï¼Œæœ€å°æ–‡ä»¶ 64MBã€‚è¾¾åˆ°è¿™ä¸ªå€¼å¼€å§‹é‡å†™ã€‚</p>\n<p>** ä¾‹å¦‚ï¼š** æ–‡ä»¶è¾¾åˆ° 70MB å¼€å§‹é‡å†™ï¼Œé™åˆ° 50MBï¼Œä¸‹æ¬¡ä»€ä¹ˆæ—¶å€™å¼€å§‹é‡å†™ï¼Ÿ100MB</p>\n<p>ç³»ç»Ÿè½½å…¥æ—¶æˆ–è€…ä¸Šæ¬¡é‡å†™å®Œæ¯•æ—¶ï¼ŒRedis ä¼šè®°å½•æ­¤æ—¶ AOF å¤§å°ï¼Œè®¾ä¸º base_size,</p>\n<p>å¦‚æœ Redis çš„ AOF å½“å‰å¤§å° &gt;= base_size +base_size*100% (é»˜è®¤) ä¸”å½“å‰å¤§å° &gt;=64mb (é»˜è®¤) çš„æƒ…å†µä¸‹ï¼ŒRedis ä¼šå¯¹ AOF è¿›è¡Œé‡å†™ã€‚</p>\n</li>\n<li>\n<p>é‡å†™æµç¨‹<br>\nï¼ˆ1ï¼‰bgrewriteaof è§¦å‘é‡å†™ï¼Œåˆ¤æ–­æ˜¯å¦å½“å‰æœ‰ bgsave æˆ– bgrewriteaof åœ¨è¿è¡Œï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç­‰å¾…è¯¥å‘½ä»¤ç»“æŸåå†ç»§ç»­æ‰§è¡Œã€‚</p>\n<p>ï¼ˆ2ï¼‰ä¸»è¿›ç¨‹ fork å‡ºå­è¿›ç¨‹æ‰§è¡Œé‡å†™æ“ä½œï¼Œä¿è¯ä¸»è¿›ç¨‹ä¸ä¼šé˜»å¡ã€‚</p>\n<p>ï¼ˆ3ï¼‰å­è¿›ç¨‹éå† redis å†…å­˜ä¸­æ•°æ®åˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯çš„å†™è¯·æ±‚åŒæ—¶å†™å…¥ aof_buf ç¼“å†²åŒºå’Œ aof_rewrite_buf é‡å†™ç¼“å†²åŒºä¿è¯åŸ AOF æ–‡ä»¶å®Œæ•´ä»¥åŠæ–° AOF æ–‡ä»¶ç”ŸæˆæœŸé—´çš„æ–°çš„æ•°æ®ä¿®æ”¹åŠ¨ä½œä¸ä¼šä¸¢å¤±ã€‚</p>\n<p>ï¼ˆ4ï¼‰1). å­è¿›ç¨‹å†™å®Œæ–°çš„ AOF æ–‡ä»¶åï¼Œå‘ä¸»è¿›ç¨‹å‘ä¿¡å·ï¼Œçˆ¶è¿›ç¨‹æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ã€‚2). ä¸»è¿›ç¨‹æŠŠ aof_rewrite_buf ä¸­çš„æ•°æ®å†™å…¥åˆ°æ–°çš„ AOF æ–‡ä»¶ã€‚</p>\n<p>ï¼ˆ5ï¼‰ä½¿ç”¨æ–°çš„ AOF æ–‡ä»¶è¦†ç›–æ—§çš„ AOF æ–‡ä»¶ï¼Œå®Œæˆ AOF é‡å†™ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731213215703.png\" alt=\"image-20220731213215703\"></p>\n</li>\n</ol>\n<h3 id=\"1318ä¼˜åŠ¿\"><a class=\"markdownIt-Anchor\" href=\"#1318ä¼˜åŠ¿\">#</a> 13.1.8.\tä¼˜åŠ¿</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731213229824.png\" alt=\"image-20220731213229824\"></p>\n<ul>\n<li>\n<p>å¤‡ä»½æœºåˆ¶æ›´ç¨³å¥ï¼Œä¸¢å¤±æ•°æ®æ¦‚ç‡æ›´ä½ã€‚</p>\n</li>\n<li>\n<p>å¯è¯»çš„æ—¥å¿—æ–‡æœ¬ï¼Œé€šè¿‡æ“ä½œ AOF ç¨³å¥ï¼Œå¯ä»¥å¤„ç†è¯¯æ“ä½œã€‚</p>\n</li>\n</ul>\n<h3 id=\"1319åŠ£åŠ¿\"><a class=\"markdownIt-Anchor\" href=\"#1319åŠ£åŠ¿\">#</a> 13.1.9.\tåŠ£åŠ¿</h3>\n<ul>\n<li>æ¯”èµ· RDB å ç”¨æ›´å¤šçš„ç£ç›˜ç©ºé—´ã€‚</li>\n<li>æ¢å¤å¤‡ä»½é€Ÿåº¦è¦æ…¢ã€‚</li>\n<li>æ¯æ¬¡è¯»å†™éƒ½åŒæ­¥çš„è¯ï¼Œæœ‰ä¸€å®šçš„æ€§èƒ½å‹åŠ›ã€‚</li>\n<li>å­˜åœ¨ä¸ªåˆ« Bugï¼Œé€ æˆæ¢å¤ä¸èƒ½ã€‚</li>\n</ul>\n<h3 id=\"13110-å°æ€»ç»“\"><a class=\"markdownIt-Anchor\" href=\"#13110-å°æ€»ç»“\">#</a> 13.1.10.\t  å°æ€»ç»“</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731213332159.png\" alt=\"image-20220731213332159\"></p>\n<h2 id=\"2-æ€»ç»“which-one\"><a class=\"markdownIt-Anchor\" href=\"#2-æ€»ç»“which-one\">#</a> 2 - æ€»ç»“ (Which one)</h2>\n<h3 id=\"1321ç”¨å“ªä¸ªå¥½\"><a class=\"markdownIt-Anchor\" href=\"#1321ç”¨å“ªä¸ªå¥½\">#</a> 13.2.1.\tç”¨å“ªä¸ªå¥½</h3>\n<p>å®˜æ–¹æ¨èä¸¤ä¸ªéƒ½å¯ç”¨ã€‚</p>\n<p>å¦‚æœå¯¹æ•°æ®ä¸æ•æ„Ÿï¼Œå¯ä»¥é€‰å•ç‹¬ç”¨ RDBã€‚</p>\n<p>ä¸å»ºè®®å•ç‹¬ç”¨ AOFï¼Œå› ä¸ºå¯èƒ½ä¼šå‡ºç° Bugã€‚</p>\n<p>å¦‚æœåªæ˜¯åšçº¯å†…å­˜ç¼“å­˜ï¼Œå¯ä»¥éƒ½ä¸ç”¨ã€‚</p>\n<h3 id=\"1322å®˜ç½‘å»ºè®®\"><a class=\"markdownIt-Anchor\" href=\"#1322å®˜ç½‘å»ºè®®\">#</a> 13.2.2.\tå®˜ç½‘å»ºè®®</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731213526710.png\" alt=\"image-20220731213526710\"></p>\n<ul>\n<li>RDB æŒä¹…åŒ–æ–¹å¼èƒ½å¤Ÿåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”èƒ½å¯¹ä½ çš„æ•°æ®è¿›è¡Œå¿«ç…§å­˜å‚¨</li>\n<li>AOF æŒä¹…åŒ–æ–¹å¼è®°å½•æ¯æ¬¡å¯¹æœåŠ¡å™¨å†™çš„æ“ä½œï¼Œå½“æœåŠ¡å™¨é‡å¯çš„æ—¶å€™ä¼šé‡æ–°æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼ŒAOF å‘½ä»¤ä»¥ redis åè®®è¿½åŠ ä¿å­˜æ¯æ¬¡å†™çš„æ“ä½œåˆ°æ–‡ä»¶æœ«å°¾.</li>\n<li>Redis è¿˜èƒ½å¯¹ AOF æ–‡ä»¶è¿›è¡Œåå°é‡å†™ï¼Œä½¿å¾— AOF æ–‡ä»¶çš„ä½“ç§¯ä¸è‡³äºè¿‡å¤§</li>\n<li>åªåšç¼“å­˜ï¼šå¦‚æœä½ åªå¸Œæœ›ä½ çš„æ•°æ®åœ¨æœåŠ¡å™¨è¿è¡Œçš„æ—¶å€™å­˜åœ¨ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æŒä¹…åŒ–æ–¹å¼.</li>\n<li>åŒæ—¶å¼€å¯ä¸¤ç§æŒä¹…åŒ–æ–¹å¼</li>\n<li>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“ redis é‡å¯çš„æ—¶å€™ä¼šä¼˜å…ˆè½½å…¥ AOF æ–‡ä»¶æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå› ä¸ºåœ¨é€šå¸¸æƒ…å†µä¸‹ AOF æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦æ¯” RDB æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦å®Œæ•´.</li>\n<li>RDB çš„æ•°æ®ä¸å®æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨ä¸¤è€…æ—¶æœåŠ¡å™¨é‡å¯ä¹Ÿåªä¼šæ‰¾ AOF æ–‡ä»¶ã€‚é‚£è¦ä¸è¦åªä½¿ç”¨ AOF å‘¢ï¼Ÿ</li>\n<li>å»ºè®®ä¸è¦ï¼Œå› ä¸º RDB æ›´é€‚åˆç”¨äºå¤‡ä»½æ•°æ®åº“ (AOF åœ¨ä¸æ–­å˜åŒ–ä¸å¥½å¤‡ä»½)ï¼Œ å¿«é€Ÿé‡å¯ï¼Œè€Œä¸”ä¸ä¼šæœ‰ AOF å¯èƒ½æ½œåœ¨çš„ bugï¼Œç•™ç€ä½œä¸ºä¸€ä¸ªä¸‡ä¸€çš„æ‰‹æ®µã€‚</li>\n<li>æ€§èƒ½å»ºè®®</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731213730871.png\" alt=\"image-20220731213730871\"></p>\n<h1 id=\"åå››-redis_ä¸»ä»å¤åˆ¶\"><a class=\"markdownIt-Anchor\" href=\"#åå››-redis_ä¸»ä»å¤åˆ¶\">#</a> åå››ã€Redis_ä¸»ä»å¤åˆ¶</h1>\n<h2 id=\"1-æ˜¯ä»€ä¹ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1-æ˜¯ä»€ä¹ˆ\">#</a> 1 - æ˜¯ä»€ä¹ˆ</h2>\n<p>ä¸»æœºæ•°æ®æ›´æ–°åæ ¹æ®é…ç½®å’Œç­–ç•¥ï¼Œ è‡ªåŠ¨åŒæ­¥åˆ°å¤‡æœºçš„<strong> master/slaver æœºåˆ¶ï¼ŒMaster ä»¥å†™ä¸ºä¸»ï¼ŒSlave ä»¥è¯»ä¸ºä¸»</strong></p>\n<h2 id=\"2-èƒ½å¹²å˜›\"><a class=\"markdownIt-Anchor\" href=\"#2-èƒ½å¹²å˜›\">#</a> 2 - èƒ½å¹²å˜›</h2>\n<ul>\n<li>è¯»å†™åˆ†ç¦»ï¼Œæ€§èƒ½æ‰©å±•</li>\n<li>å®¹ç¾å¿«é€Ÿæ¢å¤</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731213848099.png\" alt=\"image-20220731213848099\"></p>\n<h2 id=\"3-æ€ä¹ˆç©ä¸»ä»å¤åˆ¶\"><a class=\"markdownIt-Anchor\" href=\"#3-æ€ä¹ˆç©ä¸»ä»å¤åˆ¶\">#</a> 3 - æ€ä¹ˆç©ï¼šä¸»ä»å¤åˆ¶</h2>\n<ol>\n<li>\n<p>æ‹·è´å¤šä¸ª redis.conf æ–‡ä»¶ include (å†™ç»å¯¹è·¯å¾„)</p>\n</li>\n<li>\n<p>å¼€å¯ daemonize yes</p>\n</li>\n<li>\n<p>Pid æ–‡ä»¶åå­— pidfile</p>\n</li>\n<li>\n<p>æŒ‡å®šç«¯å£ port</p>\n</li>\n<li>\n<p>Log æ–‡ä»¶åå­—</p>\n</li>\n<li>\n<p>dump.rdb åå­— dbfilename</p>\n</li>\n<li>\n<p>Appendonly å…³æ‰æˆ–è€…æ¢åå­—</p>\n</li>\n</ol>\n<h3 id=\"1431æ–°å»ºredis6379confå¡«å†™ä»¥ä¸‹å†…å®¹\"><a class=\"markdownIt-Anchor\" href=\"#1431æ–°å»ºredis6379confå¡«å†™ä»¥ä¸‹å†…å®¹\">#</a> 14.3.1.\tæ–°å»º redis6379.confï¼Œå¡«å†™ä»¥ä¸‹å†…å®¹</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>include /myredis/redis.conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>pidfile /var/run/redis_6379.pid</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>port <span class=\"token number\">6379</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>dbfilename dump6379.rdb</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731214026263.png\" alt=\"image-20220731214026263\"></p>\n<h3 id=\"1432æ–°å»ºredis6380confå¡«å†™ä»¥ä¸‹å†…å®¹\"><a class=\"markdownIt-Anchor\" href=\"#1432æ–°å»ºredis6380confå¡«å†™ä»¥ä¸‹å†…å®¹\">#</a> 14.3.2.\tæ–°å»º redis6380.confï¼Œå¡«å†™ä»¥ä¸‹å†…å®¹</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731214039132.png\" alt=\"image-20220731214039132\"></p>\n<h3 id=\"1433æ–°å»ºredis6381confå¡«å†™ä»¥ä¸‹å†…å®¹\"><a class=\"markdownIt-Anchor\" href=\"#1433æ–°å»ºredis6381confå¡«å†™ä»¥ä¸‹å†…å®¹\">#</a> 14.3.3.\tæ–°å»º redis6381.confï¼Œå¡«å†™ä»¥ä¸‹å†…å®¹</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731214050893.png\" alt=\"image-20220731214050893\"></p>\n<p><strong>slave-priority 10</strong></p>\n<p><strong>è®¾ç½®ä»æœºçš„ä¼˜å…ˆçº§ï¼Œå€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œç”¨äºé€‰ä¸¾ä¸»æœºæ—¶ä½¿ç”¨ã€‚é»˜è®¤ 100</strong></p>\n<h3 id=\"1434å¯åŠ¨ä¸‰å°redisæœåŠ¡å™¨\"><a class=\"markdownIt-Anchor\" href=\"#1434å¯åŠ¨ä¸‰å°redisæœåŠ¡å™¨\">#</a> 14.3.4.\tå¯åŠ¨ä¸‰å° redis æœåŠ¡å™¨</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731233845060.png\" alt=\"image-20220731233845060\"></p>\n<h3 id=\"1435æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹çœ‹çœ‹ä¸‰å°æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨\"><a class=\"markdownIt-Anchor\" href=\"#1435æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹çœ‹çœ‹ä¸‰å°æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨\">#</a> 14.3.5.\tæŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹ï¼Œçœ‹çœ‹ä¸‰å°æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731233859352.png\" alt=\"image-20220731233859352\"></p>\n<h3 id=\"1436æŸ¥çœ‹ä¸‰å°ä¸»æœºè¿è¡Œæƒ…å†µ\"><a class=\"markdownIt-Anchor\" href=\"#1436æŸ¥çœ‹ä¸‰å°ä¸»æœºè¿è¡Œæƒ…å†µ\">#</a> 14.3.6.\tæŸ¥çœ‹ä¸‰å°ä¸»æœºè¿è¡Œæƒ…å†µ</h3>\n<p><code>info replication</code> <br>\n æ‰“å°ä¸»ä»å¤åˆ¶çš„ç›¸å…³ä¿¡æ¯</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731233920372.png\" alt=\"image-20220731233920372\"></p>\n<h3 id=\"1437é…ä»åº“ä¸é…ä¸»åº“\"><a class=\"markdownIt-Anchor\" href=\"#1437é…ä»åº“ä¸é…ä¸»åº“\">#</a> 14.3.7.\té…ä» (åº“) ä¸é…ä¸» (åº“)</h3>\n<p><code>slaveof  &lt;ip&gt;&lt;port&gt;</code></p>\n<p>æˆä¸ºæŸä¸ªå®ä¾‹çš„ä»æœåŠ¡å™¨</p>\n<p>1ã€åœ¨ 6380 å’Œ 6381 ä¸Šæ‰§è¡Œ :  slaveof 127.0.0.1 6379</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731233955771.png\" alt=\"image-20220731233955771\"></p>\n<p>2ã€åœ¨ä¸»æœºä¸Šå†™ï¼Œåœ¨ä»æœºä¸Šå¯ä»¥è¯»å–æ•°æ®</p>\n<p>åœ¨ä»æœºä¸Šå†™æ•°æ®æŠ¥é”™</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731234014747.png\" alt=\"image-20220731234014747\"></p>\n<p>3ã€ä¸»æœºæŒ‚æ‰ï¼Œé‡å¯å°±è¡Œï¼Œä¸€åˆ‡å¦‚åˆ</p>\n<p>4ã€ä»æœºé‡å¯éœ€é‡è®¾ï¼šslaveof 127.0.0.1 6379</p>\n<p>å¯ä»¥å°†é…ç½®å¢åŠ åˆ°æ–‡ä»¶ä¸­ã€‚æ°¸ä¹…ç”Ÿæ•ˆã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220731234028351.png\" alt=\"image-20220731234028351\"></p>\n<h2 id=\"4-å¸¸ç”¨3æ‹›\"><a class=\"markdownIt-Anchor\" href=\"#4-å¸¸ç”¨3æ‹›\">#</a> 4 - å¸¸ç”¨ 3 æ‹›</h2>\n<h3 id=\"1441ä¸€ä¸»äºŒä»†\"><a class=\"markdownIt-Anchor\" href=\"#1441ä¸€ä¸»äºŒä»†\">#</a> 14.4.1.\tä¸€ä¸»äºŒä»†</h3>\n<p>åˆ‡å…¥ç‚¹é—®é¢˜ï¼Ÿslave1ã€slave2 æ˜¯ä»å¤´å¼€å§‹å¤åˆ¶è¿˜æ˜¯ä»åˆ‡å…¥ç‚¹å¼€å§‹å¤åˆ¶ï¼Ÿæ¯”å¦‚ä» k4 è¿›æ¥ï¼Œé‚£ä¹‹å‰çš„ k1,k2,k3 æ˜¯å¦ä¹Ÿå¯ä»¥å¤åˆ¶ï¼Ÿ</p>\n<p>ä»æœºæ˜¯å¦å¯ä»¥å†™ï¼Ÿset å¯å¦ï¼Ÿ</p>\n<p>ä¸»æœº shutdown åæƒ…å†µå¦‚ä½•ï¼Ÿä»æœºæ˜¯ä¸Šä½è¿˜æ˜¯åŸåœ°å¾…å‘½ï¼Ÿ</p>\n<p>ä¸»æœºåˆå›æ¥äº†åï¼Œä¸»æœºæ–°å¢è®°å½•ï¼Œä»æœºè¿˜èƒ½å¦é¡ºåˆ©å¤åˆ¶ï¼Ÿ</p>\n<p>å…¶ä¸­ä¸€å°ä»æœº down åæƒ…å†µå¦‚ä½•ï¼Ÿä¾ç…§åŸæœ‰å®ƒèƒ½è·Ÿä¸Šå¤§éƒ¨é˜Ÿå—ï¼Ÿ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801105448121.png\" alt=\"image-20220801105448121\"></p>\n<h3 id=\"1442è–ªç«ç›¸ä¼ \"><a class=\"markdownIt-Anchor\" href=\"#1442è–ªç«ç›¸ä¼ \">#</a> 14.4.2.\tè–ªç«ç›¸ä¼ </h3>\n<p>ä¸Šä¸€ä¸ª Slave å¯ä»¥æ˜¯ä¸‹ä¸€ä¸ª slave çš„ Masterï¼ŒSlave åŒæ ·å¯ä»¥æ¥æ”¶å…¶ä»– slaves çš„è¿æ¥å’ŒåŒæ­¥è¯·æ±‚ï¼Œé‚£ä¹ˆè¯¥ slave ä½œä¸ºäº†é“¾æ¡ä¸­ä¸‹ä¸€ä¸ªçš„ master, å¯ä»¥æœ‰æ•ˆå‡è½» master çš„å†™å‹åŠ›ï¼Œå»ä¸­å¿ƒåŒ–é™ä½é£é™©ã€‚</p>\n<p>ç”¨ <code> slaveof  &lt;ip&gt;&lt;port&gt;</code> <br>\n ä¸­é€”å˜æ›´è½¬å‘ï¼šä¼šæ¸…é™¤ä¹‹å‰çš„æ•°æ®ï¼Œé‡æ–°å»ºç«‹æ‹·è´æœ€æ–°çš„</p>\n<p>é£é™©æ˜¯ä¸€æ—¦æŸä¸ª slave å®•æœºï¼Œåé¢çš„ slave éƒ½æ²¡æ³•å¤‡ä»½</p>\n<p>ä¸»æœºæŒ‚äº†ï¼Œä»æœºè¿˜æ˜¯ä»æœºï¼Œæ— æ³•å†™æ•°æ®äº†</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801105607960.png\" alt=\"image-20220801105607960\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801105732231.png\" alt=\"image-20220801105732231\"></p>\n<h3 id=\"1443åå®¢ä¸ºä¸»\"><a class=\"markdownIt-Anchor\" href=\"#1443åå®¢ä¸ºä¸»\">#</a> 14.4.3.\tåå®¢ä¸ºä¸»</h3>\n<p>å½“ä¸€ä¸ª master å®•æœºåï¼Œåé¢çš„ slave å¯ä»¥ç«‹åˆ»å‡ä¸º masterï¼Œå…¶åé¢çš„ slave ä¸ç”¨åšä»»ä½•ä¿®æ”¹ã€‚(æ‰‹åŠ¨)</p>\n<p>ç”¨  <code>slaveof no one</code>   å°†ä»æœºå˜ä¸ºä¸»æœºã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801105740685.png\" alt=\"image-20220801105740685\"></p>\n<h2 id=\"5-å¤åˆ¶åŸç†\"><a class=\"markdownIt-Anchor\" href=\"#5-å¤åˆ¶åŸç†\">#</a> 5 - å¤åˆ¶åŸç†</h2>\n<ul>\n<li>Slave å¯åŠ¨æˆåŠŸè¿æ¥åˆ° master åä¼šå‘é€ä¸€ä¸ª sync å‘½ä»¤</li>\n<li>Master æ¥åˆ°å‘½ä»¤å¯åŠ¨åå°çš„å­˜ç›˜è¿›ç¨‹ï¼ŒåŒæ—¶æ”¶é›†æ‰€æœ‰æ¥æ”¶åˆ°çš„ç”¨äºä¿®æ”¹æ•°æ®é›†å‘½ä»¤ï¼Œ åœ¨åå°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œmaster å°†ä¼ é€æ•´ä¸ªæ•°æ®æ–‡ä»¶åˆ° slave, ä»¥å®Œæˆä¸€æ¬¡å®Œå…¨åŒæ­¥</li>\n<li>å…¨é‡å¤åˆ¶ï¼šè€Œ slave æœåŠ¡åœ¨æ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶æ•°æ®åï¼Œå°†å…¶å­˜ç›˜å¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</li>\n<li>å¢é‡å¤åˆ¶ï¼šMaster ç»§ç»­å°†æ–°çš„æ‰€æœ‰æ”¶é›†åˆ°çš„ä¿®æ”¹å‘½ä»¤ä¾æ¬¡ä¼ ç»™ slave, å®ŒæˆåŒæ­¥</li>\n<li>ä½†æ˜¯åªè¦æ˜¯é‡æ–°è¿æ¥ master, ä¸€æ¬¡å®Œå…¨åŒæ­¥ï¼ˆå…¨é‡å¤åˆ¶) å°†è¢«è‡ªåŠ¨æ‰§è¡Œ</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801105844173.png\" alt=\"image-20220801105844173\"></p>\n<h2 id=\"6-å“¨å…µæ¨¡å¼sentinel\"><a class=\"markdownIt-Anchor\" href=\"#6-å“¨å…µæ¨¡å¼sentinel\">#</a> 6 - å“¨å…µæ¨¡å¼ (sentinel)</h2>\n<h3 id=\"1461æ˜¯ä»€ä¹ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1461æ˜¯ä»€ä¹ˆ\">#</a> 14.6.1.\tæ˜¯ä»€ä¹ˆ</h3>\n<p><strong>åå®¢ä¸ºä¸»çš„è‡ªåŠ¨ç‰ˆ</strong>ï¼Œèƒ½å¤Ÿåå°ç›‘æ§ä¸»æœºæ˜¯å¦æ•…éšœï¼Œå¦‚æœæ•…éšœäº†æ ¹æ®æŠ•ç¥¨æ•°è‡ªåŠ¨å°†ä»åº“è½¬æ¢ä¸ºä¸»åº“</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801110018170.png\" alt=\"image-20220801110018170\"></p>\n<h3 id=\"1462æ€ä¹ˆç©ä½¿ç”¨æ­¥éª¤\"><a class=\"markdownIt-Anchor\" href=\"#1462æ€ä¹ˆç©ä½¿ç”¨æ­¥éª¤\">#</a> 14.6.2.\tæ€ä¹ˆç© (ä½¿ç”¨æ­¥éª¤)</h3>\n<p><strong>14.6.2.1.\tè°ƒæ•´ä¸ºä¸€ä¸»äºŒä»†æ¨¡å¼ï¼Œ6379 å¸¦ç€ 6380ã€6381</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801110034320.png\" alt=\"image-20220801110034320\"></p>\n<p><strong>14.6.2.2.\tè‡ªå®šä¹‰çš„ /myredis ç›®å½•ä¸‹æ–°å»º sentinel.conf æ–‡ä»¶ï¼Œåå­—ç»ä¸èƒ½é”™</strong></p>\n<p><strong>14.6.2.3.\té…ç½®å“¨å…µï¼Œå¡«å†™å†…å®¹</strong></p>\n<p>sentinel monitor mymaster 127.0.0.1 6379 1</p>\n<p>å…¶ä¸­ mymaster ä¸ºç›‘æ§å¯¹è±¡èµ·çš„æœåŠ¡å™¨åç§°ï¼Œ 1 ä¸ºè‡³å°‘æœ‰å¤šå°‘ä¸ªå“¨å…µåŒæ„è¿ç§»çš„æ•°é‡ã€‚</p>\n<p><strong>14.6.2.4.\tå¯åŠ¨å“¨å…µ</strong></p>\n<p>/usr/local/bin</p>\n<p>redis åšå‹æµ‹å¯ä»¥ç”¨è‡ªå¸¦çš„<strong> redis-benchmark</strong> å·¥å…·</p>\n<p>æ‰§è¡Œ<strong> redis-sentinel  /myredis/sentinel.conf</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801110305367.png\" alt=\"image-20220801110305367\"></p>\n<p><strong>14.6.2.5.\tå½“ä¸»æœºæŒ‚æ‰ï¼Œä»æœºé€‰ä¸¾ä¸­äº§ç”Ÿæ–°çš„ä¸»æœº</strong></p>\n<p>(å¤§æ¦‚ 10 ç§’å·¦å³å¯ä»¥çœ‹åˆ°å“¨å…µçª—å£æ—¥å¿—ï¼Œåˆ‡æ¢äº†æ–°çš„ä¸»æœº)</p>\n<p>å“ªä¸ªä»æœºä¼šè¢«é€‰ä¸¾ä¸ºä¸»æœºå‘¢ï¼Ÿæ ¹æ®ä¼˜å…ˆçº§åˆ«ï¼š <code>replica-priority </code></p>\n<p><strong>åŸä¸»æœºé‡å¯åä¼šå˜ä¸ºä»æœºã€‚</strong></p>\n<p><strong>14.6.2.6.\tå¤åˆ¶å»¶æ—¶</strong></p>\n<p>ç”±äºæ‰€æœ‰çš„<strong>å†™æ“ä½œ</strong>éƒ½æ˜¯å…ˆåœ¨ Master ä¸Šæ“ä½œï¼Œç„¶ååŒæ­¥æ›´æ–°åˆ° Slave ä¸Šï¼Œæ‰€ä»¥ä» Master åŒæ­¥åˆ° Slave æœºå™¨æœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œå½“ç³»ç»Ÿå¾ˆç¹å¿™çš„æ—¶å€™ï¼Œå»¶è¿Ÿé—®é¢˜ä¼šæ›´åŠ ä¸¥é‡ï¼ŒSlave æœºå™¨æ•°é‡çš„å¢åŠ ä¹Ÿä¼šä½¿è¿™ä¸ªé—®é¢˜æ›´åŠ ä¸¥é‡ã€‚</p>\n<h3 id=\"1463æ•…éšœæ¢å¤\"><a class=\"markdownIt-Anchor\" href=\"#1463æ•…éšœæ¢å¤\">#</a> 14.6.3.\tæ•…éšœæ¢å¤</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801110846257.png\" alt=\"image-20220801110846257\"></p>\n<p><code>ä¼˜å…ˆçº§</code> åœ¨ redis.conf ä¸­é»˜è®¤ï¼šreplica-priority 100ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</p>\n<p><code>åç§»é‡</code> æ˜¯æŒ‡è·å¾—åŸä¸»æœºæ•°æ®æœ€å…¨çš„</p>\n<p>æ¯ä¸ª redis å®ä¾‹å¯åŠ¨åéƒ½ä¼šéšæœºç”Ÿæˆä¸€ä¸ª 40 ä½çš„ <code>runid</code></p>\n<h3 id=\"1464ä¸»ä»å¤åˆ¶\"><a class=\"markdownIt-Anchor\" href=\"#1464ä¸»ä»å¤åˆ¶\">#</a> 14.6.4.\tä¸»ä»å¤åˆ¶</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">JedisSentinelPool</span> jedisSentinelPool<span class=\"token operator\">=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span>  <span class=\"token class-name\">Jedis</span> <span class=\"token function\">getJedisFromSentinel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>jedisSentinelPool<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> sentinelSet<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        sentinelSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"192.168.11.103:26379\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">JedisPoolConfig</span> jedisPoolConfig <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">JedisPoolConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        jedisPoolConfig<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxTotal</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æœ€å¤§å¯ç”¨è¿æ¥æ•°</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre> \t\tjedisPoolConfig<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxIdle</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æœ€å¤§é—²ç½®è¿æ¥æ•°</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\tjedisPoolConfig<span class=\"token punctuation\">.</span><span class=\"token function\">setMinIdle</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æœ€å°é—²ç½®è¿æ¥æ•°</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\tjedisPoolConfig<span class=\"token punctuation\">.</span><span class=\"token function\">setBlockWhenExhausted</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿æ¥è€—å°½æ˜¯å¦ç­‰å¾…</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\tjedisPoolConfig<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxWaitMillis</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç­‰å¾…æ—¶é—´</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\tjedisPoolConfig<span class=\"token punctuation\">.</span><span class=\"token function\">setTestOnBorrow</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å–è¿æ¥çš„æ—¶å€™è¿›è¡Œä¸€ä¸‹æµ‹è¯• ping pong</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\tjedisSentinelPool<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">JedisSentinelPool</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mymaster\"</span><span class=\"token punctuation\">,</span>sentinelSet<span class=\"token punctuation\">,</span>jedisPoolConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> jedisSentinelPool<span class=\"token punctuation\">.</span><span class=\"token function\">getResource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> jedisSentinelPool<span class=\"token punctuation\">.</span><span class=\"token function\">getResource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"åäº”-redisé›†ç¾¤\"><a class=\"markdownIt-Anchor\" href=\"#åäº”-redisé›†ç¾¤\">#</a> åäº”ã€Redis é›†ç¾¤</h1>\n<h2 id=\"1-é—®é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#1-é—®é¢˜\">#</a> 1 - é—®é¢˜</h2>\n<p>å®¹é‡ä¸å¤Ÿï¼Œredis å¦‚ä½•è¿›è¡Œæ‰©å®¹ï¼Ÿ</p>\n<p>å¹¶å‘å†™æ“ä½œï¼Œ redis å¦‚ä½•åˆ†æ‘Šï¼Ÿ</p>\n<p><strong>å¦å¤–ï¼Œä¸»ä»æ¨¡å¼ï¼Œè–ªç«ç›¸ä¼ æ¨¡å¼ï¼Œä¸»æœºå®•æœºï¼Œå¯¼è‡´ ip åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œåº”ç”¨ç¨‹åºä¸­é…ç½®éœ€è¦ä¿®æ”¹å¯¹åº”çš„ä¸»æœºåœ°å€ã€ç«¯å£ç­‰ä¿¡æ¯ã€‚</strong></p>\n<p>ä¹‹å‰é€šè¿‡ä»£ç†ä¸»æœºæ¥è§£å†³ï¼Œä½†æ˜¯ redis3.0 ä¸­æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚å°±æ˜¯æ— ä¸­å¿ƒåŒ–é›†ç¾¤é…ç½®ã€‚</p>\n<h2 id=\"2-ä»€ä¹ˆæ˜¯é›†ç¾¤\"><a class=\"markdownIt-Anchor\" href=\"#2-ä»€ä¹ˆæ˜¯é›†ç¾¤\">#</a> 2 - ä»€ä¹ˆæ˜¯é›†ç¾¤</h2>\n<p>Redis é›†ç¾¤å®ç°äº†å¯¹ Redis çš„æ°´å¹³æ‰©å®¹ï¼Œå³å¯åŠ¨ N ä¸ª redis èŠ‚ç‚¹ï¼Œå°†æ•´ä¸ªæ•°æ®åº“åˆ†å¸ƒå­˜å‚¨åœ¨è¿™ N ä¸ªèŠ‚ç‚¹ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨æ€»æ•°æ®çš„ 1/Nã€‚</p>\n<p>Redis é›†ç¾¤é€šè¿‡åˆ†åŒºï¼ˆpartitionï¼‰æ¥æä¾›ä¸€å®šç¨‹åº¦çš„å¯ç”¨æ€§ï¼ˆavailabilityï¼‰ï¼š å³ä½¿é›†ç¾¤ä¸­æœ‰ä¸€éƒ¨åˆ†èŠ‚ç‚¹å¤±æ•ˆæˆ–è€…æ— æ³•è¿›è¡Œé€šè®¯ï¼Œ é›†ç¾¤ä¹Ÿå¯ä»¥ç»§ç»­å¤„ç†å‘½ä»¤è¯·æ±‚ã€‚</p>\n<h2 id=\"3-åˆ é™¤æŒä¹…åŒ–æ•°æ®\"><a class=\"markdownIt-Anchor\" href=\"#3-åˆ é™¤æŒä¹…åŒ–æ•°æ®\">#</a> 3 - åˆ é™¤æŒä¹…åŒ–æ•°æ®</h2>\n<p>å°† rdb,aof æ–‡ä»¶éƒ½åˆ é™¤æ‰ã€‚</p>\n<h2 id=\"4-åˆ¶ä½œ6ä¸ªå®ä¾‹637963806381638963906391\"><a class=\"markdownIt-Anchor\" href=\"#4-åˆ¶ä½œ6ä¸ªå®ä¾‹637963806381638963906391\">#</a> 4 - åˆ¶ä½œ 6 ä¸ªå®ä¾‹ï¼Œ6379,6380,6381,6389,6390,6391</h2>\n<h3 id=\"1541é…ç½®åŸºæœ¬ä¿¡æ¯\"><a class=\"markdownIt-Anchor\" href=\"#1541é…ç½®åŸºæœ¬ä¿¡æ¯\">#</a> 15.4.1.\té…ç½®åŸºæœ¬ä¿¡æ¯</h3>\n<blockquote>\n<ol>\n<li>å¼€å¯ daemonize yes</li>\n<li>Pid æ–‡ä»¶åå­—</li>\n<li>æŒ‡å®šç«¯å£</li>\n<li>Log æ–‡ä»¶åå­—</li>\n<li>Dump.rdb åå­—</li>\n<li>Appendonly å…³æ‰æˆ–è€…æ¢åå­—</li>\n</ol>\n</blockquote>\n<h3 id=\"1542redis-clusteré…ç½®ä¿®æ”¹\"><a class=\"markdownIt-Anchor\" href=\"#1542redis-clusteré…ç½®ä¿®æ”¹\">#</a> 15.4.2.\tredis cluster é…ç½®ä¿®æ”¹</h3>\n<blockquote>\n<ol>\n<li>cluster-enabled yes    æ‰“å¼€é›†ç¾¤æ¨¡å¼</li>\n<li>cluster-config-file nodes-6379.conf  è®¾å®šèŠ‚ç‚¹é…ç½®æ–‡ä»¶å</li>\n<li>cluster-node-timeout 15000   è®¾å®šèŠ‚ç‚¹å¤±è”æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé›†ç¾¤è‡ªåŠ¨è¿›è¡Œä¸»ä»åˆ‡æ¢ã€‚</li>\n</ol>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>include /home/bigdata/redis.conf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>port <span class=\"token number\">6379</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>pidfile <span class=\"token string\">\"/var/run/redis_6379.pid\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>dbfilename <span class=\"token string\">\"dump6379.rdb\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">dir</span> <span class=\"token string\">\"/home/bigdata/redis_cluster\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>logfile <span class=\"token string\">\"/home/bigdata/redis_cluster/redis_err_6379.log\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>clu - ster-enabled <span class=\"token function\">yes</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>cluster-config-file nodes-6379.conf</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>cluster-node-timeout <span class=\"token number\">15000</span></pre></td></tr></table></figure><h3 id=\"1543ä¿®æ”¹å¥½redis6379confæ–‡ä»¶æ‹·è´å¤šä¸ªredisconfæ–‡ä»¶\"><a class=\"markdownIt-Anchor\" href=\"#1543ä¿®æ”¹å¥½redis6379confæ–‡ä»¶æ‹·è´å¤šä¸ªredisconfæ–‡ä»¶\">#</a> 15.4.3.\tä¿®æ”¹å¥½ redis6379.conf æ–‡ä»¶ï¼Œæ‹·è´å¤šä¸ª redis.conf æ–‡ä»¶</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801113056666.png\" alt=\"image-20220801113056666\"></p>\n<h3 id=\"1544ä½¿ç”¨æŸ¥æ‰¾æ›¿æ¢ä¿®æ”¹å¦å¤–5ä¸ªæ–‡ä»¶\"><a class=\"markdownIt-Anchor\" href=\"#1544ä½¿ç”¨æŸ¥æ‰¾æ›¿æ¢ä¿®æ”¹å¦å¤–5ä¸ªæ–‡ä»¶\">#</a> 15.4.4.\tä½¿ç”¨æŸ¥æ‰¾æ›¿æ¢ä¿®æ”¹å¦å¤– 5 ä¸ªæ–‡ä»¶</h3>\n<p>ä¾‹å¦‚ï¼š:% s/6379/6380</p>\n<h3 id=\"1545å¯åŠ¨6ä¸ªredisæœåŠ¡\"><a class=\"markdownIt-Anchor\" href=\"#1545å¯åŠ¨6ä¸ªredisæœåŠ¡\">#</a> 15.4.5.\tå¯åŠ¨ 6 ä¸ª redis æœåŠ¡</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801113121076.png\" alt=\"image-20220801113121076\"></p>\n<h2 id=\"5-å°†å…­ä¸ªèŠ‚ç‚¹åˆæˆä¸€ä¸ªé›†ç¾¤\"><a class=\"markdownIt-Anchor\" href=\"#5-å°†å…­ä¸ªèŠ‚ç‚¹åˆæˆä¸€ä¸ªé›†ç¾¤\">#</a> 5 - å°†å…­ä¸ªèŠ‚ç‚¹åˆæˆä¸€ä¸ªé›†ç¾¤</h2>\n<p>ç»„åˆä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‰€æœ‰ redis å®ä¾‹å¯åŠ¨åï¼Œnodes-xxxx.conf æ–‡ä»¶éƒ½ç”Ÿæˆæ­£å¸¸ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801113311052.png\" alt=\"image-20220801113311052\"></p>\n<ul>\n<li>åˆä½“ï¼š</li>\n</ul>\n<p>cd  /opt/redis-6.2.1/src</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>redis-cli <span class=\"token parameter variable\">--cluster</span> create --cluster-replicas <span class=\"token number\">1</span> <span class=\"token number\">192.168</span>.11.101:6379 <span class=\"token number\">192.168</span>.11.101:6380 <span class=\"token number\">192.168</span>.11.101:6381 <span class=\"token number\">192.168</span>.11.101:6389 <span class=\"token number\">192.168</span>.11.101:6390 <span class=\"token number\">192.168</span>.11.101:6391</pre></td></tr></table></figure><p>æ­¤å¤„ä¸è¦ç”¨ 127.0.0.1ï¼Œ è¯·ç”¨çœŸå® IP åœ°å€<br>\nâ€“replicas 1 é‡‡ç”¨æœ€ç®€å•çš„æ–¹å¼é…ç½®é›†ç¾¤ï¼Œä¸€å°ä¸»æœºï¼Œä¸€å°ä»æœºï¼Œæ­£å¥½ä¸‰ç»„ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801113349156.png\" alt=\"image-20220801113349156\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801113414617.png\" alt=\"image-20220801113414617\"></p>\n<ul>\n<li>æ™®é€šæ–¹å¼ç™»å½•<br>\nå¯èƒ½ç›´æ¥è¿›å…¥è¯»ä¸»æœºï¼Œå­˜å‚¨æ•°æ®æ—¶ï¼Œä¼šå‡ºç° MOVED é‡å®šå‘æ“ä½œã€‚æ‰€ä»¥ï¼Œåº”è¯¥ä»¥é›†ç¾¤æ–¹å¼ç™»å½•ã€‚</li>\n</ul>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801113425849.png\" alt=\"image-20220801113425849\"></p>\n<h2 id=\"6-c-é‡‡ç”¨é›†ç¾¤ç­–ç•¥è¿æ¥è®¾ç½®æ•°æ®ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ç›¸åº”çš„å†™ä¸»æœº\"><a class=\"markdownIt-Anchor\" href=\"#6-c-é‡‡ç”¨é›†ç¾¤ç­–ç•¥è¿æ¥è®¾ç½®æ•°æ®ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ç›¸åº”çš„å†™ä¸»æœº\">#</a> 6 - -c é‡‡ç”¨é›†ç¾¤ç­–ç•¥è¿æ¥ï¼Œè®¾ç½®æ•°æ®ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ç›¸åº”çš„å†™ä¸»æœº</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801113550736.png\" alt=\"image-20220801113550736\"></p>\n<h2 id=\"7-é€šè¿‡-cluster-nodes-å‘½ä»¤æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯\"><a class=\"markdownIt-Anchor\" href=\"#7-é€šè¿‡-cluster-nodes-å‘½ä»¤æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯\">#</a> 7-  é€šè¿‡ cluster nodes å‘½ä»¤æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801123052282.png\" alt=\"image-20220801123052282\"></p>\n<h2 id=\"8-redis-cluster-å¦‚ä½•åˆ†é…è¿™å…­ä¸ªèŠ‚ç‚¹\"><a class=\"markdownIt-Anchor\" href=\"#8-redis-cluster-å¦‚ä½•åˆ†é…è¿™å…­ä¸ªèŠ‚ç‚¹\">#</a> 8 - redis cluster å¦‚ä½•åˆ†é…è¿™å…­ä¸ªèŠ‚ç‚¹ï¼Ÿ</h2>\n<p>ä¸€ä¸ªé›†ç¾¤è‡³å°‘è¦æœ‰<strong>ä¸‰ä¸ªä¸»èŠ‚ç‚¹</strong>ã€‚</p>\n<p>é€‰é¡¹ --cluster-replicas 1 è¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›ä¸ºé›†ç¾¤ä¸­çš„æ¯ä¸ªä¸»èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªä»èŠ‚ç‚¹ã€‚</p>\n<p>åˆ†é…åŸåˆ™å°½é‡ä¿è¯æ¯ä¸ªä¸»æ•°æ®åº“è¿è¡Œåœ¨ä¸åŒçš„ IP åœ°å€ï¼Œæ¯ä¸ªä»åº“å’Œä¸»åº“ä¸åœ¨ä¸€ä¸ª IP åœ°å€ä¸Šã€‚</p>\n<h2 id=\"9-ä»€ä¹ˆæ˜¯slots\"><a class=\"markdownIt-Anchor\" href=\"#9-ä»€ä¹ˆæ˜¯slots\">#</a> 9 - ä»€ä¹ˆæ˜¯ slots</h2>\n<p><strong>[OK] All nodes agree about slots configuration.</strong></p>\n<p><strong>&gt;&gt;&gt; Check for open slotsâ€¦</strong></p>\n<p><strong>&gt;&gt;&gt; Check slots coverageâ€¦</strong></p>\n<p><strong>[OK] All 16384 slots covered.</strong></p>\n<p>ä¸€ä¸ª Redis é›†ç¾¤åŒ…å« <code>16384</code>  ä¸ªæ’æ§½ï¼ˆhash slotï¼‰ï¼Œ æ•°æ®åº“ä¸­çš„æ¯ä¸ªé”®éƒ½å±äºè¿™ 16384 ä¸ªæ’æ§½çš„å…¶ä¸­ä¸€ä¸ªï¼Œ é›†ç¾¤ä½¿ç”¨å…¬å¼  <code>CRC16(key) % 16384</code>  æ¥è®¡ç®—é”® key å±äºå“ªä¸ªæ§½ï¼Œ å…¶ä¸­ CRC16 (key) è¯­å¥ç”¨äºè®¡ç®—é”® key çš„ CRC16 æ ¡éªŒå’Œ ã€‚</p>\n<p>é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†ä¸€éƒ¨åˆ†æ’æ§½ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œ å¦‚æœä¸€ä¸ªé›†ç¾¤å¯ä»¥æœ‰ä¸»èŠ‚ç‚¹ï¼Œ å…¶ä¸­ï¼š</p>\n<blockquote>\n<p>èŠ‚ç‚¹ A è´Ÿè´£å¤„ç† 0 å·è‡³ 5460 å·æ’æ§½ã€‚<br>\nèŠ‚ç‚¹ B è´Ÿè´£å¤„ç† 5461 å·è‡³ 10922 å·æ’æ§½ã€‚<br>\nèŠ‚ç‚¹ C è´Ÿè´£å¤„ç† 10923 å·è‡³ 16383 å·æ’æ§½ã€‚</p>\n</blockquote>\n<h2 id=\"10-åœ¨é›†ç¾¤ä¸­å½•å…¥å€¼\"><a class=\"markdownIt-Anchor\" href=\"#10-åœ¨é›†ç¾¤ä¸­å½•å…¥å€¼\">#</a> 10 - åœ¨é›†ç¾¤ä¸­å½•å…¥å€¼</h2>\n<p>åœ¨ redis-cli æ¯æ¬¡å½•å…¥ã€æŸ¥è¯¢é”®å€¼ï¼Œredis éƒ½ä¼šè®¡ç®—å‡ºè¯¥ key åº”è¯¥é€å¾€çš„æ’æ§½ï¼Œå¦‚æœä¸æ˜¯è¯¥å®¢æˆ·ç«¯å¯¹åº”æœåŠ¡å™¨çš„æ’æ§½ï¼Œredis ä¼šæŠ¥é”™ï¼Œå¹¶å‘ŠçŸ¥åº”å‰å¾€çš„ redis å®ä¾‹åœ°å€å’Œç«¯å£ã€‚</p>\n<p>redis-cli å®¢æˆ·ç«¯æä¾›äº†  <code>â€“c</code>  å‚æ•°å®ç°è‡ªåŠ¨é‡å®šå‘ã€‚</p>\n<p>å¦‚  <code>redis-cli  -c â€“p 6379</code>  ç™»å…¥åï¼Œå†å½•å…¥ã€æŸ¥è¯¢é”®å€¼å¯¹å¯ä»¥è‡ªåŠ¨é‡å®šå‘ã€‚</p>\n<p>ä¸åœ¨ä¸€ä¸ª slot ä¸‹çš„é”®å€¼ï¼Œæ˜¯ä¸èƒ½ä½¿ç”¨ mget,mset ç­‰å¤šé”®æ“ä½œã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801123630199.png\" alt=\"image-20220801123630199\"></p>\n<p>å¯ä»¥é€šè¿‡ {} æ¥å®šä¹‰ç»„çš„æ¦‚å¿µï¼Œä»è€Œä½¿ key ä¸­ {} å†…ç›¸åŒå†…å®¹çš„é”®å€¼å¯¹æ”¾åˆ°ä¸€ä¸ª slot ä¸­å»ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801123644949.png\" alt=\"image-20220801123644949\"></p>\n<h2 id=\"11-æŸ¥è¯¢é›†ç¾¤ä¸­çš„å€¼\"><a class=\"markdownIt-Anchor\" href=\"#11-æŸ¥è¯¢é›†ç¾¤ä¸­çš„å€¼\">#</a> 11 - æŸ¥è¯¢é›†ç¾¤ä¸­çš„å€¼</h2>\n<p><strong>CLUSTER GETKEYSINSLOT <slot><count></strong>  è¿”å› count ä¸ª slot æ§½ä¸­çš„é”®ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801123657501.png\" alt=\"image-20220801123657501\"></p>\n<h2 id=\"12-æ•…éšœæ¢å¤\"><a class=\"markdownIt-Anchor\" href=\"#12-æ•…éšœæ¢å¤\">#</a> 12 -  æ•…éšœæ¢å¤</h2>\n<p>å¦‚æœä¸»èŠ‚ç‚¹ä¸‹çº¿ï¼Ÿä»èŠ‚ç‚¹èƒ½å¦è‡ªåŠ¨å‡ä¸ºä¸»èŠ‚ç‚¹ï¼Ÿæ³¨æ„ï¼š<strong>15 ç§’è¶…æ—¶</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801123757512.png\" alt=\"image-20220801123757512\"></p>\n<p>ä¸»èŠ‚ç‚¹æ¢å¤åï¼Œä¸»ä»å…³ç³»ä¼šå¦‚ä½•ï¼Ÿ<strong>ä¸»èŠ‚ç‚¹å›æ¥å˜æˆä»æœº</strong>ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801123820814.png\" alt=\"image-20220801123820814\"></p>\n<p>å¦‚æœæ‰€æœ‰æŸä¸€æ®µæ’æ§½çš„ä¸»ä»èŠ‚ç‚¹éƒ½å®•æ‰ï¼Œredis æœåŠ¡æ˜¯å¦è¿˜èƒ½ç»§ç»­ï¼Ÿ</p>\n<p>å¦‚æœæŸä¸€æ®µæ’æ§½çš„ä¸»ä»éƒ½æŒ‚æ‰ï¼Œè€Œ cluster-require-full-coverage ä¸º yes ï¼Œé‚£ä¹ˆ ï¼Œæ•´ä¸ªé›†ç¾¤éƒ½æŒ‚æ‰</p>\n<p>å¦‚æœæŸä¸€æ®µæ’æ§½çš„ä¸»ä»éƒ½æŒ‚æ‰ï¼Œè€Œ cluster-require-full-coverage ä¸º no ï¼Œé‚£ä¹ˆï¼Œè¯¥æ’æ§½æ•°æ®å…¨éƒ½ä¸èƒ½ä½¿ç”¨ï¼Œä¹Ÿæ— æ³•å­˜å‚¨ã€‚</p>\n<p>redis.conf ä¸­çš„å‚æ•°  cluster-require-full-coverage</p>\n<h2 id=\"13-é›†ç¾¤çš„jediså¼€å‘\"><a class=\"markdownIt-Anchor\" href=\"#13-é›†ç¾¤çš„jediså¼€å‘\">#</a> 13 - é›†ç¾¤çš„ Jedis å¼€å‘</h2>\n<p>å³ä½¿è¿æ¥çš„ä¸æ˜¯ä¸»æœºï¼Œé›†ç¾¤ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸»æœºå­˜å‚¨ã€‚ä¸»æœºå†™ï¼Œä»æœºè¯»ã€‚</p>\n<p>æ— ä¸­å¿ƒåŒ–ä¸»ä»é›†ç¾¤ã€‚æ— è®ºä»å“ªå°ä¸»æœºå†™çš„æ•°æ®ï¼Œå…¶ä»–ä¸»æœºä¸Šéƒ½èƒ½è¯»åˆ°æ•°æ®ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JedisClusterTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HostAndPort</span><span class=\"token punctuation\">></span></span>set <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HostAndPort</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     set<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HostAndPort</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"192.168.31.211\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">6379</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     <span class=\"token class-name\">JedisCluster</span> jedisCluster<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">JedisCluster</span><span class=\"token punctuation\">(</span>set<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     jedisCluster<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"v1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jedisCluster<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"k1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"14-redis-é›†ç¾¤æä¾›äº†ä»¥ä¸‹å¥½å¤„\"><a class=\"markdownIt-Anchor\" href=\"#14-redis-é›†ç¾¤æä¾›äº†ä»¥ä¸‹å¥½å¤„\">#</a> 14 - Redis é›†ç¾¤æä¾›äº†ä»¥ä¸‹å¥½å¤„</h2>\n<ol>\n<li>å®ç°æ‰©å®¹</li>\n<li>åˆ†æ‘Šå‹åŠ›</li>\n<li>æ— ä¸­å¿ƒé…ç½®ç›¸å¯¹ç®€å•</li>\n</ol>\n<h2 id=\"15-redis-é›†ç¾¤çš„ä¸è¶³\"><a class=\"markdownIt-Anchor\" href=\"#15-redis-é›†ç¾¤çš„ä¸è¶³\">#</a> 15 - Redis é›†ç¾¤çš„ä¸è¶³</h2>\n<ol>\n<li>\n<p>å¤šé”®æ“ä½œæ˜¯ä¸è¢«æ”¯æŒçš„</p>\n</li>\n<li>\n<p>å¤šé”®çš„ Redis äº‹åŠ¡æ˜¯ä¸è¢«æ”¯æŒçš„ã€‚lua è„šæœ¬ä¸è¢«æ”¯æŒ</p>\n</li>\n<li>\n<p>ç”±äºé›†ç¾¤æ–¹æ¡ˆå‡ºç°è¾ƒæ™šï¼Œå¾ˆå¤šå…¬å¸å·²ç»é‡‡ç”¨äº†å…¶ä»–çš„é›†ç¾¤æ–¹æ¡ˆï¼Œè€Œä»£ç†æˆ–è€…å®¢æˆ·ç«¯åˆ†ç‰‡çš„æ–¹æ¡ˆæƒ³è¦è¿ç§»è‡³ redis clusterï¼Œéœ€è¦æ•´ä½“è¿ç§»è€Œä¸æ˜¯é€æ­¥è¿‡æ¸¡ï¼Œå¤æ‚åº¦è¾ƒå¤§ã€‚</p>\n</li>\n</ol>\n<h1 id=\"åå…­-redisåº”ç”¨é—®é¢˜è§£å†³\"><a class=\"markdownIt-Anchor\" href=\"#åå…­-redisåº”ç”¨é—®é¢˜è§£å†³\">#</a> åå…­ã€Redis åº”ç”¨é—®é¢˜è§£å†³</h1>\n<h2 id=\"1-ç¼“å­˜ç©¿é€\"><a class=\"markdownIt-Anchor\" href=\"#1-ç¼“å­˜ç©¿é€\">#</a> 1- ç¼“å­˜ç©¿é€</h2>\n<h3 id=\"1611é—®é¢˜æè¿°\"><a class=\"markdownIt-Anchor\" href=\"#1611é—®é¢˜æè¿°\">#</a> 16.1.1.\té—®é¢˜æè¿°</h3>\n<p>key å¯¹åº”çš„æ•°æ®åœ¨æ•°æ®æºå¹¶ä¸å­˜åœ¨ï¼Œæ¯æ¬¡é’ˆå¯¹æ­¤ key çš„è¯·æ±‚ä»ç¼“å­˜è·å–ä¸åˆ°ï¼Œè¯·æ±‚éƒ½ä¼šå‹åˆ°æ•°æ®æºï¼Œä»è€Œå¯èƒ½å‹å®æ•°æ®æºã€‚æ¯”å¦‚ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„ç”¨æˆ· id è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œä¸è®ºç¼“å­˜è¿˜æ˜¯æ•°æ®åº“éƒ½æ²¡æœ‰ï¼Œè‹¥é»‘å®¢åˆ©ç”¨æ­¤æ¼æ´è¿›è¡Œæ”»å‡»å¯èƒ½å‹å®æ•°æ®åº“ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801124314744.png\" alt=\"image-20220801124314744\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220808134718629.png\" alt=\"image-20220808134718629\"></p>\n<h3 id=\"1612è§£å†³æ–¹æ¡ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1612è§£å†³æ–¹æ¡ˆ\">#</a> 16.1.2.\tè§£å†³æ–¹æ¡ˆ</h3>\n<p>ä¸€ä¸ªä¸€å®šä¸å­˜åœ¨ç¼“å­˜åŠæŸ¥è¯¢ä¸åˆ°çš„æ•°æ®ï¼Œç”±äºç¼“å­˜æ˜¯ä¸å‘½ä¸­æ—¶è¢«åŠ¨å†™çš„ï¼Œå¹¶ä¸”å‡ºäºå®¹é”™è€ƒè™‘ï¼Œå¦‚æœä»å­˜å‚¨å±‚æŸ¥ä¸åˆ°æ•°æ®åˆ™ä¸å†™å…¥ç¼“å­˜ï¼Œè¿™å°†å¯¼è‡´è¿™ä¸ªä¸å­˜åœ¨çš„æ•°æ®æ¯æ¬¡è¯·æ±‚éƒ½è¦åˆ°å­˜å‚¨å±‚å»æŸ¥è¯¢ï¼Œå¤±å»äº†ç¼“å­˜çš„æ„ä¹‰ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>\nï¼ˆ1ï¼‰\t** å¯¹ç©ºå€¼ç¼“å­˜ï¼š** å¦‚æœä¸€ä¸ªæŸ¥è¯¢è¿”å›çš„æ•°æ®ä¸ºç©ºï¼ˆä¸ç®¡æ˜¯æ•°æ®æ˜¯å¦ä¸å­˜åœ¨ï¼‰ï¼Œæˆ‘ä»¬ä»ç„¶æŠŠè¿™ä¸ªç©ºç»“æœï¼ˆnullï¼‰è¿›è¡Œç¼“å­˜ï¼Œè®¾ç½®ç©ºç»“æœçš„è¿‡æœŸæ—¶é—´ä¼šå¾ˆçŸ­ï¼Œæœ€é•¿ä¸è¶…è¿‡äº”åˆ†é’Ÿ</p>\n<p>ï¼ˆ2ï¼‰\t<strong>è®¾ç½®å¯è®¿é—®çš„åå•ï¼ˆç™½åå•ï¼‰</strong>ï¼š<br>\nä½¿ç”¨ bitmaps ç±»å‹å®šä¹‰ä¸€ä¸ªå¯ä»¥è®¿é—®çš„åå•ï¼Œåå• id ä½œä¸º bitmaps çš„åç§»é‡ï¼Œæ¯æ¬¡è®¿é—®å’Œ bitmap é‡Œé¢çš„ id è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè®¿é—® id ä¸åœ¨ bitmaps é‡Œé¢ï¼Œè¿›è¡Œæ‹¦æˆªï¼Œä¸å…è®¸è®¿é—®ã€‚</p>\n<p>ï¼ˆ3ï¼‰\t<strong>é‡‡ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼š</strong>(å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloom Filterï¼‰æ˜¯ 1970 å¹´ç”±å¸ƒéš†æå‡ºçš„ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„ <code>äºŒè¿›åˆ¶å‘é‡</code>  (ä½å›¾) å’Œä¸€ç³»åˆ—éšæœº <code>æ˜ å°„å‡½æ•°</code> ï¼ˆå“ˆå¸Œå‡½æ•°ï¼‰ã€‚</p>\n<p>å¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥ç”¨äº<strong>æ£€ç´¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆä¸­</strong>ã€‚å®ƒçš„<strong>ä¼˜ç‚¹</strong>æ˜¯ç©ºé—´æ•ˆç‡å’ŒæŸ¥è¯¢æ—¶é—´éƒ½è¿œè¿œè¶…è¿‡ä¸€èˆ¬çš„ç®—æ³•ï¼Œ<strong>ç¼ºç‚¹</strong>æ˜¯æœ‰ä¸€å®šçš„è¯¯è¯†åˆ«ç‡å’Œåˆ é™¤å›°éš¾ã€‚)</p>\n<p>å°†æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„æ•°æ®å“ˆå¸Œåˆ°ä¸€ä¸ªè¶³å¤Ÿå¤§çš„ bitmaps ä¸­ï¼Œä¸€ä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®ä¼šè¢« è¿™ä¸ª bitmaps æ‹¦æˆªæ‰ï¼Œä»è€Œé¿å…äº†å¯¹åº•å±‚å­˜å‚¨ç³»ç»Ÿçš„æŸ¥è¯¢å‹åŠ›ã€‚</p>\n<p>ï¼ˆ4ï¼‰\t<strong>è¿›è¡Œå®æ—¶ç›‘æ§</strong>ï¼šå½“å‘ç° Redis çš„å‘½ä¸­ç‡å¼€å§‹æ€¥é€Ÿé™ä½ï¼Œéœ€è¦æ’æŸ¥è®¿é—®å¯¹è±¡å’Œè®¿é—®çš„æ•°æ®ï¼Œå’Œè¿ç»´äººå‘˜é…åˆï¼Œå¯ä»¥è®¾ç½®é»‘åå•é™åˆ¶æœåŠ¡</p>\n<h2 id=\"2-ç¼“å­˜å‡»ç©¿\"><a class=\"markdownIt-Anchor\" href=\"#2-ç¼“å­˜å‡»ç©¿\">#</a> 2 - ç¼“å­˜å‡»ç©¿</h2>\n<h3 id=\"1621é—®é¢˜æè¿°\"><a class=\"markdownIt-Anchor\" href=\"#1621é—®é¢˜æè¿°\">#</a> 16.2.1.\té—®é¢˜æè¿°</h3>\n<p>key å¯¹åº”çš„æ•°æ®å­˜åœ¨ï¼Œä½†åœ¨ redis ä¸­è¿‡æœŸï¼Œæ­¤æ—¶è‹¥æœ‰å¤§é‡å¹¶å‘è¯·æ±‚è¿‡æ¥ï¼Œè¿™äº›è¯·æ±‚å‘ç°ç¼“å­˜è¿‡æœŸä¸€èˆ¬éƒ½ä¼šä»åç«¯ DB åŠ è½½æ•°æ®å¹¶å›è®¾åˆ°ç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™å¤§å¹¶å‘çš„è¯·æ±‚å¯èƒ½ä¼šç¬é—´æŠŠåç«¯ DB å‹å®ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801124751949.png\" alt=\"image-20220801124751949\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220808135145459.png\" alt=\"image-20220808135145459\"></p>\n<h3 id=\"1622è§£å†³æ–¹æ¡ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1622è§£å†³æ–¹æ¡ˆ\">#</a> 16.2.2.\tè§£å†³æ–¹æ¡ˆ</h3>\n<p>key å¯èƒ½ä¼šåœ¨æŸäº›æ—¶é—´ç‚¹è¢«è¶…é«˜å¹¶å‘åœ°è®¿é—®ï¼Œæ˜¯ä¸€ç§éå¸¸ â€œçƒ­ç‚¹â€ çš„æ•°æ®ã€‚è¿™ä¸ªæ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šç¼“å­˜è¢« â€œå‡»ç©¿â€ çš„é—®é¢˜ã€‚</p>\n<p><strong>è§£å†³é—®é¢˜ï¼š</strong></p>\n<p>ï¼ˆ1ï¼‰<strong>é¢„å…ˆè®¾ç½®çƒ­é—¨æ•°æ®</strong>ï¼šåœ¨ redis é«˜å³°è®¿é—®ä¹‹å‰ï¼ŒæŠŠä¸€äº›çƒ­é—¨æ•°æ®æå‰å­˜å…¥åˆ° redis é‡Œé¢ï¼ŒåŠ å¤§è¿™äº›çƒ­é—¨æ•°æ® key çš„æ—¶é•¿</p>\n<p>ï¼ˆ2ï¼‰<strong>å®æ—¶è°ƒæ•´</strong>ï¼šç°åœºç›‘æ§å“ªäº›æ•°æ®çƒ­é—¨ï¼Œå®æ—¶è°ƒæ•´ key çš„è¿‡æœŸæ—¶é•¿</p>\n<p>ï¼ˆ3ï¼‰<strong>ä½¿ç”¨é”</strong>ï¼š</p>\n<ol>\n<li>å°±æ˜¯åœ¨ç¼“å­˜å¤±æ•ˆçš„æ—¶å€™ï¼ˆåˆ¤æ–­æ‹¿å‡ºæ¥çš„å€¼ä¸ºç©ºï¼‰ï¼Œä¸æ˜¯ç«‹å³å» load dbã€‚</li>\n<li>å…ˆä½¿ç”¨ç¼“å­˜å·¥å…·çš„æŸäº›å¸¦æˆåŠŸæ“ä½œè¿”å›å€¼çš„æ“ä½œï¼ˆæ¯”å¦‚ Redis çš„ SETNXï¼‰å» set ä¸€ä¸ª mutex key</li>\n<li>å½“æ“ä½œè¿”å›æˆåŠŸæ—¶ï¼Œå†è¿›è¡Œ load db çš„æ“ä½œï¼Œå¹¶å›è®¾ç¼“å­˜ï¼Œæœ€ååˆ é™¤ mutex keyï¼›</li>\n<li>å½“æ“ä½œè¿”å›å¤±è´¥ï¼Œè¯æ˜æœ‰çº¿ç¨‹åœ¨ load dbï¼Œå½“å‰çº¿ç¨‹ç¡çœ ä¸€æ®µæ—¶é—´å†é‡è¯•æ•´ä¸ª get ç¼“å­˜çš„æ–¹æ³•ã€‚</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801125032132.png\" alt=\"image-20220801125032132\"></p>\n<h2 id=\"3-ç¼“å­˜é›ªå´©\"><a class=\"markdownIt-Anchor\" href=\"#3-ç¼“å­˜é›ªå´©\">#</a> 3 - ç¼“å­˜é›ªå´©</h2>\n<h3 id=\"1631é—®é¢˜æè¿°\"><a class=\"markdownIt-Anchor\" href=\"#1631é—®é¢˜æè¿°\">#</a> 16.3.1.\té—®é¢˜æè¿°</h3>\n<p>key å¯¹åº”çš„æ•°æ®å­˜åœ¨ï¼Œä½†åœ¨ redis ä¸­è¿‡æœŸï¼Œæ­¤æ—¶è‹¥æœ‰å¤§é‡å¹¶å‘è¯·æ±‚è¿‡æ¥ï¼Œè¿™äº›è¯·æ±‚å‘ç°ç¼“å­˜è¿‡æœŸä¸€èˆ¬éƒ½ä¼šä»åç«¯ DB åŠ è½½æ•°æ®å¹¶å›è®¾åˆ°ç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™å¤§å¹¶å‘çš„è¯·æ±‚å¯èƒ½ä¼šç¬é—´æŠŠåç«¯ DB å‹å®ã€‚</p>\n<p>ç¼“å­˜é›ªå´©ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«åœ¨äº<strong>è¿™é‡Œé’ˆå¯¹å¾ˆå¤š key ç¼“å­˜ï¼Œå‰è€…åˆ™æ˜¯æŸä¸€ä¸ª key</strong></p>\n<p>æ­£å¸¸è®¿é—®â¬‡</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801125120331.png\" alt=\"image-20220801125120331\"></p>\n<p>ç¼“å­˜å¤±æ•ˆç¬é—´â¬‡</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801125130104.png\" alt=\"image-20220801125130104\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220808140122025.png\" alt=\"image-20220808140122025\"></p>\n<h3 id=\"1632è§£å†³æ–¹æ¡ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1632è§£å†³æ–¹æ¡ˆ\">#</a> 16.3.2.\tè§£å†³æ–¹æ¡ˆ</h3>\n<p>ç¼“å­˜å¤±æ•ˆæ—¶çš„é›ªå´©æ•ˆåº”å¯¹åº•å±‚ç³»ç»Ÿçš„å†²å‡»éå¸¸å¯æ€•ï¼</p>\n<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>\nï¼ˆ1ï¼‰\t** æ„å»ºå¤šçº§ç¼“å­˜æ¶æ„ï¼š**nginx ç¼“å­˜ + redis ç¼“å­˜ + å…¶ä»–ç¼“å­˜ï¼ˆehcache ç­‰ï¼‰</p>\n<p>ï¼ˆ2ï¼‰\t<strong>ä½¿ç”¨é”æˆ–é˜Ÿåˆ—ï¼š</strong><br>\nç”¨ <code>åŠ é”</code> æˆ–è€… <code>é˜Ÿåˆ—</code> çš„æ–¹å¼ä¿è¯æ¥ä¿è¯ä¸ä¼šæœ‰å¤§é‡çš„çº¿ç¨‹å¯¹æ•°æ®åº“ä¸€æ¬¡æ€§è¿›è¡Œè¯»å†™ï¼Œä»è€Œé¿å…å¤±æ•ˆæ—¶å¤§é‡çš„å¹¶å‘è¯·æ±‚è½åˆ°åº•å±‚å­˜å‚¨ç³»ç»Ÿä¸Šã€‚ä¸é€‚ç”¨é«˜å¹¶å‘æƒ…å†µ</p>\n<p>ï¼ˆ3ï¼‰\t<strong>è®¾ç½®è¿‡æœŸæ ‡å¿—æ›´æ–°ç¼“å­˜</strong>ï¼š<br>\nè®°å½•ç¼“å­˜æ•°æ®æ˜¯å¦è¿‡æœŸï¼ˆè®¾ç½®æå‰é‡ï¼‰ï¼Œå¦‚æœè¿‡æœŸä¼šè§¦å‘é€šçŸ¥å¦å¤–çš„çº¿ç¨‹åœ¨åå°å»æ›´æ–°å®é™… key çš„ç¼“å­˜ã€‚</p>\n<p>ï¼ˆ4ï¼‰\t<strong>å°†ç¼“å­˜å¤±æ•ˆæ—¶é—´åˆ†æ•£å¼€</strong>ï¼š<br>\næ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨åŸæœ‰çš„å¤±æ•ˆæ—¶é—´åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªéšæœºå€¼ï¼Œæ¯”å¦‚ 1-5 åˆ†é’Ÿéšæœºï¼Œè¿™æ ·æ¯ä¸€ä¸ªç¼“å­˜çš„è¿‡æœŸæ—¶é—´çš„é‡å¤ç‡å°±ä¼šé™ä½ï¼Œå°±å¾ˆéš¾å¼•å‘é›†ä½“å¤±æ•ˆçš„äº‹ä»¶ã€‚</p>\n<h2 id=\"4-åˆ†å¸ƒå¼é”\"><a class=\"markdownIt-Anchor\" href=\"#4-åˆ†å¸ƒå¼é”\">#</a> 4 - åˆ†å¸ƒå¼é”</h2>\n<h3 id=\"1641é—®é¢˜æè¿°\"><a class=\"markdownIt-Anchor\" href=\"#1641é—®é¢˜æè¿°\">#</a> 16.4.1.\té—®é¢˜æè¿°</h3>\n<p>éšç€ä¸šåŠ¡å‘å±•çš„éœ€è¦ï¼Œ<strong>åŸå•ä½“å•æœºéƒ¨ç½²</strong>çš„ç³»ç»Ÿè¢«æ¼”åŒ–æˆ<strong>åˆ†å¸ƒå¼é›†ç¾¤ç³»ç»Ÿ</strong>åï¼Œç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿå¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹å¹¶ä¸”åˆ†å¸ƒåœ¨ä¸åŒæœºå™¨ä¸Šï¼Œè¿™å°†ä½¿åŸå•æœºéƒ¨ç½²æƒ…å†µä¸‹çš„å¹¶å‘æ§åˆ¶é”ç­–ç•¥å¤±æ•ˆï¼Œå•çº¯çš„ Java API å¹¶ä¸èƒ½æä¾›åˆ†å¸ƒå¼é”çš„èƒ½åŠ›ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å°±<strong>éœ€è¦ä¸€ç§è·¨ JVM çš„äº’æ–¥æœºåˆ¶æ¥æ§åˆ¶å…±äº«èµ„æºçš„è®¿é—®</strong>ï¼Œè¿™å°±æ˜¯åˆ†å¸ƒå¼é”è¦è§£å†³çš„é—®é¢˜ï¼</p>\n<p><strong>åˆ†å¸ƒå¼é”ä¸»æµçš„å®ç°æ–¹æ¡ˆ</strong>ï¼š</p>\n<ol>\n<li>åŸºäºæ•°æ®åº“å®ç°åˆ†å¸ƒå¼é”</li>\n<li>åŸºäºç¼“å­˜ï¼ˆRedis ç­‰ï¼‰</li>\n<li>åŸºäº Zookeeper<br>\n æ¯ä¸€ç§åˆ†å¸ƒå¼é”è§£å†³æ–¹æ¡ˆéƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼š</li>\n<li>æ€§èƒ½ï¼šredis æœ€é«˜</li>\n<li>å¯é æ€§ï¼šzookeeper æœ€é«˜<br>\nè¿™é‡Œï¼Œæˆ‘ä»¬å°±åŸºäº redis å®ç°åˆ†å¸ƒå¼é”ã€‚</li>\n</ol>\n<h3 id=\"1642è§£å†³æ–¹æ¡ˆä½¿ç”¨rediså®ç°åˆ†å¸ƒå¼é”\"><a class=\"markdownIt-Anchor\" href=\"#1642è§£å†³æ–¹æ¡ˆä½¿ç”¨rediså®ç°åˆ†å¸ƒå¼é”\">#</a> 16.4.2.\tè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ redis å®ç°åˆ†å¸ƒå¼é”</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>rediså‘½ä»¤ ï¼š </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">set</span> sku:1:info â€œOKâ€ NX PX <span class=\"token number\">10000</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>EX secondï¼šè®¾ç½®é”®çš„è¿‡æœŸæ—¶é—´ä¸º second ç§’ã€‚ SET key value EX second æ•ˆæœç­‰åŒäº SETEX key second value</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>PX millisecondï¼šè®¾ç½®é”®çš„è¿‡æœŸæ—¶é—´ä¸º millisecond æ¯«ç§’ã€‚ SET key value PX millisecond æ•ˆæœç­‰åŒäº PSETEX key millisecond value </pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>NX ï¼šåªåœ¨é”®ä¸å­˜åœ¨æ—¶ï¼Œæ‰å¯¹é”®è¿›è¡Œè®¾ç½®æ“ä½œã€‚ SET key value NX æ•ˆæœç­‰åŒäº SETNX key value </pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>XX ï¼šåªåœ¨é”®å·²ç»å­˜åœ¨æ—¶ï¼Œæ‰å¯¹é”®è¿›è¡Œè®¾ç½®æ“ä½œã€‚</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801152803095.png\" alt=\"image-20220801152803095\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220808141133285.png\" alt=\"image-20220808141133285\"></p>\n<ol>\n<li>å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶è·å–é”ï¼ˆsetnxï¼‰</li>\n<li>è·å–æˆåŠŸï¼Œæ‰§è¡Œä¸šåŠ¡é€»è¾‘ {ä» db è·å–æ•°æ®ï¼Œæ”¾å…¥ç¼“å­˜}ï¼Œæ‰§è¡Œå®Œæˆé‡Šæ”¾é”ï¼ˆdelï¼‰</li>\n<li>å…¶ä»–å®¢æˆ·ç«¯ç­‰å¾…é‡è¯•</li>\n</ol>\n<h3 id=\"1643ç¼–å†™ä»£ç \"><a class=\"markdownIt-Anchor\" href=\"#1643ç¼–å†™ä»£ç \">#</a> 16.4.3.\tç¼–å†™ä»£ç </h3>\n<p>Redis: set num 0</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"testLock\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">//1 è·å–é”ï¼Œsetne</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">Boolean</span> lock <span class=\"token operator\">=</span> redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setIfAbsent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lock\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"111\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//2 è·å–é”æˆåŠŸã€æŸ¥è¯¢ num çš„å€¼</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>lock<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token class-name\">Object</span> value <span class=\"token operator\">=</span> redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\">//2.1 åˆ¤æ–­ num ä¸ºç©º return</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">//2.2 æœ‰å€¼å°±è½¬æˆæˆ int</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">int</span> num <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">+</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">//2.3 æŠŠ redis çš„ num åŠ  1</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">++</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">//2.4 é‡Šæ”¾é”ï¼Œdel</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lock\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">//3 è·å–é”å¤±è´¥ã€æ¯éš” 0.1 ç§’å†è·å–</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token function\">testLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>é‡å¯ï¼ŒæœåŠ¡é›†ç¾¤ï¼Œé€šè¿‡ç½‘å…³å‹åŠ›æµ‹è¯•ï¼š<br>\nab -n 1000 -c 100 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMTQwLjE6ODA4MC90ZXN0L3Rlc3RMb2Nr\">http://192.168.140.1:8080/test/testLock</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801153313835.png\" alt=\"image-20220801153313835\"></p>\n<p>æŸ¥çœ‹ redis ä¸­ num çš„å€¼ ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801153341490.png\" alt=\"image-20220801153341490\"></p>\n<p>ä½†æ˜¯è¿˜ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œè§ä¸‹ï¼Œé—®é¢˜åŠç›¸å…³è§£å†³æ–¹æ¡ˆã€‚</p>\n<h3 id=\"1644ä¼˜åŒ–ä¹‹è®¾ç½®é”çš„è¿‡æœŸæ—¶é—´\"><a class=\"markdownIt-Anchor\" href=\"#1644ä¼˜åŒ–ä¹‹è®¾ç½®é”çš„è¿‡æœŸæ—¶é—´\">#</a> 16.4.4.\tä¼˜åŒ–ä¹‹è®¾ç½®é”çš„è¿‡æœŸæ—¶é—´</h3>\n<p>** é—®é¢˜ï¼š**setnx åˆšå¥½è·å–åˆ°é”ï¼Œä¸šåŠ¡é€»è¾‘å‡ºç°å¼‚å¸¸ï¼Œå¯¼è‡´é”æ— æ³•é‡Šæ”¾</p>\n<p>** è§£å†³ï¼š** è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè‡ªåŠ¨é‡Šæ”¾é”ã€‚</p>\n<p>è®¾ç½®è¿‡æœŸæ—¶é—´æœ‰<strong>ä¸¤ç§æ–¹å¼ï¼š</strong></p>\n<ol>\n<li>é¦–å…ˆæƒ³åˆ°é€šè¿‡ <code>expire</code>  è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆç¼ºä¹åŸå­æ€§ï¼šå¦‚æœåœ¨ setnx å’Œ expire ä¹‹é—´å‡ºç°å¼‚å¸¸ï¼Œé”ä¹Ÿæ— æ³•é‡Šæ”¾ï¼‰</li>\n<li>åœ¨ set æ—¶æŒ‡å®šè¿‡æœŸæ—¶é—´ï¼ˆæ¨èï¼‰</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801153615051.png\" alt=\"image-20220801153615051\"></p>\n<p>è®¾ç½®è¿‡æœŸæ—¶é—´ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220801153652058.png\" alt=\"image-20220801153652058\"></p>\n<p>å‹åŠ›æµ‹è¯•è‚¯å®šä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚è‡ªè¡Œæµ‹è¯•</p>\n<h3 id=\"1645ä¼˜åŒ–ä¹‹uuidé˜²è¯¯åˆ \"><a class=\"markdownIt-Anchor\" href=\"#1645ä¼˜åŒ–ä¹‹uuidé˜²è¯¯åˆ \">#</a> 16.4.5.\tä¼˜åŒ–ä¹‹ UUID é˜²è¯¯åˆ </h3>\n<p>** é—®é¢˜ï¼š** å¯èƒ½ä¼šé‡Šæ”¾å…¶ä»–æœåŠ¡å™¨çš„é”ã€‚</p>\n<p>** åœºæ™¯ï¼š** å¦‚æœä¸šåŠ¡é€»è¾‘çš„æ‰§è¡Œæ—¶é—´æ˜¯ 7sã€‚æ‰§è¡Œæµç¨‹å¦‚ä¸‹</p>\n<ol>\n<li>index1 ä¸šåŠ¡é€»è¾‘æ²¡æ‰§è¡Œå®Œï¼Œ3 ç§’åé”è¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</li>\n<li>index2 è·å–åˆ°é”ï¼Œæ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œ3 ç§’åé”è¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</li>\n<li>index3 è·å–åˆ°é”ï¼Œæ‰§è¡Œä¸šåŠ¡é€»è¾‘</li>\n<li>index1 ä¸šåŠ¡é€»è¾‘æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹è°ƒç”¨ del é‡Šæ”¾é”ï¼Œè¿™æ—¶é‡Šæ”¾çš„æ˜¯ index3 çš„é”ï¼Œå¯¼è‡´ index3 çš„ä¸šåŠ¡åªæ‰§è¡Œ 1s å°±è¢«åˆ«äººé‡Šæ”¾ã€‚<br>\næœ€ç»ˆç­‰äºæ²¡é”çš„æƒ…å†µã€‚</li>\n</ol>\n<p>** è§£å†³ï¼š**setnx è·å–é”æ—¶ï¼Œè®¾ç½®ä¸€ä¸ªæŒ‡å®šçš„å”¯ä¸€å€¼ï¼ˆä¾‹å¦‚ï¼šuuidï¼‰ï¼›é‡Šæ”¾å‰è·å–è¿™ä¸ªå€¼ï¼Œåˆ¤æ–­æ˜¯å¦è‡ªå·±çš„é”</p>\n<p><strong>å›¾ç‰‡åˆ†æï¼š</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220808142646549.png\" alt=\"image-20220808142646549\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802091705477.png\" alt=\"image-20220802091705477\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802091817746.png\" alt=\"image-20220802091817746\"></p>\n<h3 id=\"1646ä¼˜åŒ–ä¹‹luaè„šæœ¬ä¿è¯åˆ é™¤çš„åŸå­æ€§\"><a class=\"markdownIt-Anchor\" href=\"#1646ä¼˜åŒ–ä¹‹luaè„šæœ¬ä¿è¯åˆ é™¤çš„åŸå­æ€§\">#</a> 16.4.6.\tä¼˜åŒ–ä¹‹ LUA è„šæœ¬ä¿è¯åˆ é™¤çš„åŸå­æ€§</h3>\n<p>** é—®é¢˜ï¼š** åˆ é™¤æ“ä½œç¼ºä¹åŸå­æ€§ã€‚</p>\n<p><strong>å›¾ç‰‡åˆ†æï¼š</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220808143635697.png\" alt=\"image-20220808143635697\"></p>\n<p><strong>åœºæ™¯ï¼š</strong></p>\n<ol>\n<li>index1 æ‰§è¡Œåˆ é™¤æ—¶ï¼ŒæŸ¥è¯¢åˆ°çš„ lock å€¼ç¡®å®å’Œ uuid ç›¸ç­‰</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>uuid<span class=\"token operator\">=</span>v1</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>lock<span class=\"token punctuation\">,</span>uuid<span class=\"token punctuation\">)</span>ï¼›</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802091921511.png\" alt=\"image-20220802091921511\"></p>\n<ol start=\"2\">\n<li>index1 æ‰§è¡Œåˆ é™¤å‰ï¼Œlock åˆšå¥½è¿‡æœŸæ—¶é—´å·²åˆ°ï¼Œè¢« redis è‡ªåŠ¨é‡Šæ”¾<br>\nåœ¨ redis ä¸­æ²¡æœ‰äº† lockï¼Œæ²¡æœ‰äº†é”ã€‚</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802091953632.png\" alt=\"image-20220802091953632\"></p>\n<ol start=\"3\">\n<li>index2 è·å–äº† lock<br>\nindex2 çº¿ç¨‹è·å–åˆ°äº† cpu çš„èµ„æºï¼Œå¼€å§‹æ‰§è¡Œæ–¹æ³•</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>uuid<span class=\"token operator\">=</span>v2</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>lock<span class=\"token punctuation\">,</span>uuid<span class=\"token punctuation\">)</span>ï¼›</pre></td></tr></table></figure><ol start=\"4\">\n<li>index1 æ‰§è¡Œåˆ é™¤ï¼Œæ­¤æ—¶ä¼šæŠŠ index2 çš„ lock åˆ é™¤<br>\n index1 å› ä¸ºå·²ç»åœ¨æ–¹æ³•ä¸­äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦é‡æ–°ä¸Šé”ã€‚index1 æœ‰æ‰§è¡Œçš„æƒé™ã€‚index1 å·²ç»æ¯”è¾ƒå®Œæˆäº†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¼€å§‹æ‰§è¡Œ</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802092126594.png\" alt=\"image-20220802092126594\"></p>\n<p>åˆ é™¤çš„ index2 çš„é”ï¼</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"testLockLua\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testLockLua</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">//1 å£°æ˜ä¸€ä¸ª uuid , å°†åšä¸ºä¸€ä¸ª value æ”¾å…¥æˆ‘ä»¬çš„ key æ‰€å¯¹åº”çš„å€¼ä¸­</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">String</span> uuid <span class=\"token operator\">=</span> <span class=\"token constant\">UUID</span><span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//2 å®šä¹‰ä¸€ä¸ªé”ï¼šlua è„šæœ¬å¯ä»¥ä½¿ç”¨åŒä¸€æŠŠé”ï¼Œæ¥å®ç°åˆ é™¤ï¼</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">String</span> skuId <span class=\"token operator\">=</span> <span class=\"token string\">\"25\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¿é—® skuId ä¸º 25 å·çš„å•†å“ 100008348542</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">String</span> locKey <span class=\"token operator\">=</span> <span class=\"token string\">\"lock:\"</span> <span class=\"token operator\">+</span> skuId<span class=\"token punctuation\">;</span> <span class=\"token comment\">// é”ä½çš„æ˜¯æ¯ä¸ªå•†å“çš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// 3 è·å–é”</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\">Boolean</span> lock <span class=\"token operator\">=</span> redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setIfAbsent</span><span class=\"token punctuation\">(</span>locKey<span class=\"token punctuation\">,</span> uuid<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SECONDS</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token comment\">// ç¬¬ä¸€ç§ï¼š lock ä¸è¿‡æœŸæ—¶é—´ä¸­é—´ä¸å†™ä»»ä½•çš„ä»£ç ã€‚</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token comment\">//redisTemplate.expire (\"lock\",10, TimeUnit.SECONDS);// è®¾ç½®è¿‡æœŸæ—¶é—´</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token comment\">// å¦‚æœ true</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lock<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘å¼€å§‹</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// è·å–ç¼“å­˜ä¸­çš„ num æ•°æ®</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Object</span> value <span class=\"token operator\">=</span> redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// å¦‚æœæ˜¯ç©ºç›´æ¥è¿”å›</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">// ä¸æ˜¯ç©º å¦‚æœè¯´åœ¨è¿™å‡ºç°äº†å¼‚å¸¸ï¼ é‚£ä¹ˆ delete å°±åˆ é™¤å¤±è´¥ï¼ ä¹Ÿå°±æ˜¯è¯´é”æ°¸è¿œå­˜åœ¨ï¼</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">int</span> num <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">+</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">// ä½¿ num æ¯æ¬¡ + 1 æ”¾å…¥ç¼“å­˜</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token operator\">++</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">/* ä½¿ç”¨ lua è„šæœ¬æ¥é” */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// å®šä¹‰ lua è„šæœ¬</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">String</span> script <span class=\"token operator\">=</span> <span class=\"token string\">\"if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// ä½¿ç”¨ redis æ‰§è¡Œ lua æ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">DefaultRedisScript</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> redisScript <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultRedisScript</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        redisScript<span class=\"token punctuation\">.</span><span class=\"token function\">setScriptText</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">// è®¾ç½®ä¸€ä¸‹è¿”å›å€¼ç±»å‹ ä¸º Long</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// å› ä¸ºåˆ é™¤åˆ¤æ–­çš„æ—¶å€™ï¼Œè¿”å›çš„ 0, ç»™å…¶å°è£…ä¸ºæ•°æ®ç±»å‹ã€‚å¦‚æœä¸å°è£…é‚£ä¹ˆé»˜è®¤è¿”å› String ç±»å‹ï¼Œ</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">// é‚£ä¹ˆè¿”å›å­—ç¬¦ä¸²ä¸ 0 ä¼šæœ‰å‘ç”Ÿé”™è¯¯ã€‚</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        redisScript<span class=\"token punctuation\">.</span><span class=\"token function\">setResultType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token comment\">// ç¬¬ä¸€ä¸ªè¦æ˜¯ script è„šæœ¬ ï¼Œç¬¬äºŒä¸ªéœ€è¦åˆ¤æ–­çš„ keyï¼Œç¬¬ä¸‰ä¸ªå°±æ˜¯ key æ‰€å¯¹åº”çš„å€¼ã€‚</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>redisScript<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span>locKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> uuid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token comment\">// å…¶ä»–çº¿ç¨‹ç­‰å¾…</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token comment\">// ç¡çœ </span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token comment\">// ç¡é†’äº†ä¹‹åï¼Œè°ƒç”¨æ–¹æ³•ã€‚</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token function\">testLockLua</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>Lua è„šæœ¬è¯¦è§£ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802092521165.png\" alt=\"image-20220802092521165\"></p>\n<p>é¡¹ç›®ä¸­æ­£ç¡®ä½¿ç”¨ï¼š</p>\n<p>å®šä¹‰ keyï¼Œkey åº”è¯¥æ˜¯ä¸ºæ¯ä¸ª sku å®šä¹‰çš„ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ª sku æœ‰ä¸€æŠŠé”ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">String</span> locKey <span class=\"token operator\">=</span><span class=\"token string\">\"lock:\"</span><span class=\"token operator\">+</span>skuId<span class=\"token punctuation\">;</span> <span class=\"token comment\">// é”ä½çš„æ˜¯æ¯ä¸ªå•†å“çš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Boolean</span> lock <span class=\"token operator\">=</span> redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setIfAbsent</span><span class=\"token punctuation\">(</span>locKey<span class=\"token punctuation\">,</span> uuid<span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SECONDS</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802092834206.png\" alt=\"image-20220802092834206\"></p>\n<h3 id=\"1647æ€»ç»“\"><a class=\"markdownIt-Anchor\" href=\"#1647æ€»ç»“\">#</a> 16.4.7.\tæ€»ç»“</h3>\n<p>1ã€åŠ é”</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 1. ä» redis ä¸­è·å–é”ï¼Œset k1 v1 px 20000 nx</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">String</span> uuid <span class=\"token operator\">=</span> <span class=\"token constant\">UUID</span><span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Boolean</span> lock <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token punctuation\">.</span><span class=\"token function\">setIfAbsent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lock\"</span><span class=\"token punctuation\">,</span> uuid<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SECONDS</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨ lua é‡Šæ”¾é”</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 2. é‡Šæ”¾é” del</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">String</span> script <span class=\"token operator\">=</span> <span class=\"token string\">\"if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// è®¾ç½® lua è„šæœ¬è¿”å›çš„æ•°æ®ç±»å‹</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">DefaultRedisScript</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> redisScript <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultRedisScript</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// è®¾ç½® lua è„šæœ¬è¿”å›ç±»å‹ä¸º Long</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>redisScript<span class=\"token punctuation\">.</span><span class=\"token function\">setResultType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>redisScript<span class=\"token punctuation\">.</span><span class=\"token function\">setScriptText</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>redisScript<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lock\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>uuid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>3ã€é‡è¯•</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">testLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>ä¸ºäº†ç¡®ä¿åˆ†å¸ƒå¼é”å¯ç”¨ï¼Œæˆ‘ä»¬è‡³å°‘è¦ç¡®ä¿é”çš„å®ç°åŒæ—¶<strong>æ»¡è¶³ä»¥ä¸‹å››ä¸ªæ¡ä»¶</strong>ï¼š</p>\n<ul>\n<li>äº’æ–¥æ€§ã€‚åœ¨ä»»æ„æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯èƒ½æŒæœ‰é”ã€‚</li>\n<li>ä¸ä¼šå‘ç”Ÿæ­»é”ã€‚å³ä½¿æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯åœ¨æŒæœ‰é”çš„æœŸé—´å´©æºƒè€Œæ²¡æœ‰ä¸»åŠ¨è§£é”ï¼Œä¹Ÿèƒ½ä¿è¯åç»­å…¶ä»–å®¢æˆ·ç«¯èƒ½åŠ é”ã€‚</li>\n<li>è§£é“ƒè¿˜é¡»ç³»é“ƒäººã€‚åŠ é”å’Œè§£é”å¿…é¡»æ˜¯åŒä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è‡ªå·±ä¸èƒ½æŠŠåˆ«äººåŠ çš„é”ç»™è§£äº†ã€‚</li>\n<li>åŠ é”å’Œè§£é”å¿…é¡»å…·æœ‰åŸå­æ€§ã€‚</li>\n</ul>\n<h1 id=\"åä¸ƒ-redis60æ–°åŠŸèƒ½\"><a class=\"markdownIt-Anchor\" href=\"#åä¸ƒ-redis60æ–°åŠŸèƒ½\">#</a> åä¸ƒã€Redis6.0 æ–°åŠŸèƒ½</h1>\n<h2 id=\"1-acl\"><a class=\"markdownIt-Anchor\" href=\"#1-acl\">#</a> 1 - ACL</h2>\n<h3 id=\"1711ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#1711ç®€ä»‹\">#</a> 17.1.1.\tç®€ä»‹</h3>\n<p>Redis  <code>ACL</code>  æ˜¯ <code>Access Control List</code> ï¼ˆè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰çš„ç¼©å†™ï¼Œè¯¥åŠŸèƒ½å…è®¸æ ¹æ®<strong>å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤</strong>å’Œ<strong>å¯ä»¥è®¿é—®çš„é”®</strong>æ¥é™åˆ¶æŸäº›è¿æ¥ã€‚</p>\n<p>åœ¨ Redis 5 ç‰ˆæœ¬ä¹‹å‰ï¼ŒRedis å®‰å…¨è§„åˆ™åªæœ‰å¯†ç æ§åˆ¶ è¿˜æœ‰é€šè¿‡ rename æ¥è°ƒæ•´é«˜å±å‘½ä»¤æ¯”å¦‚ flushdb ï¼Œ KEYS* ï¼Œ shutdown ç­‰ã€‚Redis 6 åˆ™æä¾› ACL çš„åŠŸèƒ½å¯¹ç”¨æˆ·è¿›è¡Œæ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ ï¼š</p>\n<p>ï¼ˆ1ï¼‰æ¥å…¥æƒé™ï¼šç”¨æˆ·åå’Œå¯†ç <br>\nï¼ˆ2ï¼‰å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤<br>\nï¼ˆ3ï¼‰å¯ä»¥æ“ä½œçš„ KEY</p>\n<p>å‚è€ƒå®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZWRpcy5pby90b3BpY3MvYWNs\">https://redis.io/topics/acl</span></p>\n<h3 id=\"1712å‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#1712å‘½ä»¤\">#</a> 17.1.2.\tå‘½ä»¤</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>å‘½ä»¤ï¼š</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tï¼ˆ1ï¼‰æŸ¥çœ‹æƒé™åˆ—è¡¨ï¼šacl list</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\tï¼ˆ2ï¼‰æŸ¥çœ‹æƒé™ç±»åˆ«ï¼šacl <span class=\"token function\">cat</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\tï¼ˆ3ï¼‰æŸ¥çœ‹å½“å‰ç”¨æˆ·ï¼šacl <span class=\"token function\">whoami</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\tï¼ˆ4ï¼‰åˆ›å»ºå’Œç¼–è¾‘ç”¨æˆ·ï¼šacl setuser</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>å…·ä½“ä½¿ç”¨è§ä¸‹ï¼š</pre></td></tr></table></figure><p>1ã€ä½¿ç”¨ acl list å‘½ä»¤å±•ç°ç”¨æˆ·æƒé™åˆ—è¡¨<br>\nï¼ˆ1ï¼‰æ•°æ®è¯´æ˜</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802093424775.png\" alt=\"image-20220802093424775\"></p>\n<p>2ã€ä½¿ç”¨ acl cat å‘½ä»¤<br>\nï¼ˆ1ï¼‰æŸ¥çœ‹æ·»åŠ æƒé™æŒ‡ä»¤ç±»åˆ«</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802093544283.png\" alt=\"image-20220802093544283\"></p>\n<p>ï¼ˆ2ï¼‰åŠ å‚æ•°ç±»å‹åå¯ä»¥æŸ¥çœ‹ç±»å‹ä¸‹å…·ä½“å‘½ä»¤</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802093606610.png\" alt=\"image-20220802093606610\"></p>\n<p>3ã€ä½¿ç”¨ acl whoami å‘½ä»¤æŸ¥çœ‹å½“å‰ç”¨æˆ·</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802093652694.png\" alt=\"image-20220802093652694\"></p>\n<p>4ã€ä½¿ç”¨ aclsetuser å‘½ä»¤åˆ›å»ºå’Œç¼–è¾‘ç”¨æˆ· ACL</p>\n<p>ï¼ˆ1ï¼‰ACL è§„åˆ™<br>\nä¸‹é¢æ˜¯æœ‰æ•ˆ ACL è§„åˆ™çš„åˆ—è¡¨ã€‚æŸäº›è§„åˆ™åªæ˜¯ç”¨äºæ¿€æ´»æˆ–åˆ é™¤æ ‡å¿—ï¼Œæˆ–å¯¹ç”¨æˆ· ACL æ‰§è¡Œç»™å®šæ›´æ”¹çš„å•ä¸ªå•è¯ã€‚å…¶ä»–è§„åˆ™æ˜¯å­—ç¬¦å‰ç¼€ï¼Œå®ƒä»¬ä¸å‘½ä»¤æˆ–ç±»åˆ«åç§°ã€é”®æ¨¡å¼ç­‰è¿æ¥åœ¨ä¸€èµ·ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802094003527.png\" alt=\"image-20220802094003527\"></p>\n<p>ï¼ˆ2ï¼‰é€šè¿‡å‘½ä»¤åˆ›å»ºæ–°ç”¨æˆ·é»˜è®¤æƒé™<br>\n <code>acl setuser user1</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802094158447.png\" alt=\"image-20220802094158447\"></p>\n<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘æ ¹æœ¬æ²¡æœ‰æŒ‡å®šä»»ä½•è§„åˆ™ã€‚å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œè¿™å°†ä½¿ç”¨ just created çš„é»˜è®¤å±æ€§æ¥åˆ›å»ºç”¨æˆ·ã€‚å¦‚æœç”¨æˆ·å·²ç»å­˜åœ¨ï¼Œåˆ™ä¸Šé¢çš„å‘½ä»¤å°†ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚</p>\n<p>ï¼ˆ3ï¼‰è®¾ç½®æœ‰ç”¨æˆ·åã€å¯†ç ã€ACL æƒé™ã€å¹¶å¯ç”¨çš„ç”¨æˆ·<br>\n <code>acl setuser user2 on &gt;password ~cached:* +get</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802094428400.png\" alt=\"image-20220802094428400\"></p>\n<p>(4) åˆ‡æ¢ç”¨æˆ·ï¼ŒéªŒè¯æƒé™</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802094549151.png\" alt=\"image-20220802094549151\"></p>\n<h2 id=\"2-ioå¤šçº¿ç¨‹\"><a class=\"markdownIt-Anchor\" href=\"#2-ioå¤šçº¿ç¨‹\">#</a> 2 - IO å¤šçº¿ç¨‹</h2>\n<h3 id=\"1721ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#1721ç®€ä»‹\">#</a> 17.2.1.\tç®€ä»‹</h3>\n<p>Redis6 ç»ˆäºæ”¯æ’‘å¤šçº¿ç¨‹äº†ï¼Œå‘Šåˆ«å•çº¿ç¨‹äº†å—ï¼Ÿ</p>\n<p>IO å¤šçº¿ç¨‹å…¶å®æŒ‡<strong>å®¢æˆ·ç«¯äº¤äº’éƒ¨åˆ†çš„ç½‘ç»œ IO äº¤äº’å¤„ç†æ¨¡å—å¤šçº¿ç¨‹</strong>ï¼Œè€Œéæ‰§è¡Œå‘½ä»¤å¤šçº¿ç¨‹ã€‚Redis6 æ‰§è¡Œå‘½ä»¤ä¾ç„¶æ˜¯å•çº¿ç¨‹ã€‚</p>\n<h3 id=\"1722åŸç†æ¶æ„\"><a class=\"markdownIt-Anchor\" href=\"#1722åŸç†æ¶æ„\">#</a> 17.2.2.\tåŸç†æ¶æ„</h3>\n<p>Redis 6 åŠ å…¥å¤šçº¿ç¨‹ï¼Œä½†è·Ÿ Memcached è¿™ç§ä» IO å¤„ç†åˆ°æ•°æ®è®¿é—®å¤šçº¿ç¨‹çš„å®ç°æ¨¡å¼æœ‰äº›å·®å¼‚ã€‚Redis çš„å¤šçº¿ç¨‹éƒ¨åˆ†åªæ˜¯ç”¨æ¥<strong>å¤„ç†ç½‘ç»œæ•°æ®çš„è¯»å†™å’Œåè®®è§£æ</strong>ï¼Œæ‰§è¡Œå‘½ä»¤ä»ç„¶æ˜¯å•çº¿ç¨‹ã€‚ä¹‹æ‰€ä»¥è¿™ä¹ˆè®¾è®¡æ˜¯ä¸æƒ³å› ä¸ºå¤šçº¿ç¨‹è€Œå˜å¾—å¤æ‚ï¼Œéœ€è¦å»æ§åˆ¶ keyã€luaã€äº‹åŠ¡ï¼ŒLPUSH/LPOP ç­‰ç­‰çš„å¹¶å‘é—®é¢˜ã€‚æ•´ä½“çš„è®¾è®¡å¤§ä½“å¦‚ä¸‹:</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802094700691.png\" alt=\"image-20220802094700691\"></p>\n<p>å¦å¤–ï¼Œå¤šçº¿ç¨‹ IO é»˜è®¤ä¹Ÿæ˜¯ä¸å¼€å¯çš„ï¼Œéœ€è¦å†é…ç½®æ–‡ä»¶ä¸­é…ç½®</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>io-threads-do-reads  <span class=\"token function\">yes</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>io-threads <span class=\"token number\">4</span></pre></td></tr></table></figure><h2 id=\"3-å·¥å…·æ”¯æŒ-cluster\"><a class=\"markdownIt-Anchor\" href=\"#3-å·¥å…·æ”¯æŒ-cluster\">#</a> 3 - å·¥å…·æ”¯æŒ Cluster</h2>\n<p>ä¹‹å‰è€ç‰ˆ Redis æƒ³è¦æ­é›†ç¾¤éœ€è¦å•ç‹¬å®‰è£… ruby ç¯å¢ƒï¼ŒRedis 5 å°† redis-trib.rb çš„åŠŸèƒ½é›†æˆåˆ° redis-cli ã€‚</p>\n<p>å¦å¤–å®˜æ–¹ redis-benchmark å·¥å…·å¼€å§‹æ”¯æŒ  <code>cluster</code>  æ¨¡å¼äº†ï¼Œé€šè¿‡å¤šçº¿ç¨‹çš„æ–¹å¼å¯¹å¤šä¸ªåˆ†ç‰‡è¿›è¡Œå‹æµ‹ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220802095313745.png\" alt=\"image-20220802095313745\"></p>\n<h2 id=\"4-redisæ–°åŠŸèƒ½æŒç»­å…³æ³¨\"><a class=\"markdownIt-Anchor\" href=\"#4-redisæ–°åŠŸèƒ½æŒç»­å…³æ³¨\">#</a> 4 - Redis æ–°åŠŸèƒ½æŒç»­å…³æ³¨</h2>\n<p>Redis6 æ–°åŠŸèƒ½è¿˜æœ‰ï¼š</p>\n<p>1ã€RESP3 æ–°çš„ Redis é€šä¿¡åè®®ï¼šä¼˜åŒ–æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ä¹‹é—´é€šä¿¡</p>\n<p>2ã€Client side caching å®¢æˆ·ç«¯ç¼“å­˜ï¼šåŸºäº RESP3 åè®®å®ç°çš„å®¢æˆ·ç«¯ç¼“å­˜åŠŸèƒ½ã€‚ä¸ºäº†è¿›ä¸€æ­¥æå‡ç¼“å­˜çš„æ€§èƒ½ï¼Œå°†å®¢æˆ·ç«¯ç»å¸¸è®¿é—®çš„æ•°æ® cache åˆ°å®¢æˆ·ç«¯ã€‚å‡å°‘ TCP ç½‘ç»œäº¤äº’ã€‚</p>\n<p>3ã€Proxy é›†ç¾¤ä»£ç†æ¨¡å¼ï¼šProxy åŠŸèƒ½ï¼Œè®© Cluster æ‹¥æœ‰åƒå•å®ä¾‹ä¸€æ ·çš„æ¥å…¥æ–¹å¼ï¼Œé™ä½å¤§å®¶ä½¿ç”¨ cluster çš„é—¨æ§›ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ä»£ç†ä¸æ”¹å˜ Cluster çš„åŠŸèƒ½é™åˆ¶ï¼Œä¸æ”¯æŒçš„å‘½ä»¤è¿˜æ˜¯ä¸ä¼šæ”¯æŒï¼Œæ¯”å¦‚è·¨ slot çš„å¤š Key æ“ä½œã€‚</p>\n<p>4ã€Modules API<br>\nRedis 6 ä¸­æ¨¡å— API å¼€å‘è¿›å±•éå¸¸å¤§ï¼Œå› ä¸º Redis Labs ä¸ºäº†å¼€å‘å¤æ‚çš„åŠŸèƒ½ï¼Œä»ä¸€å¼€å§‹å°±ç”¨ä¸Š Redis æ¨¡å—ã€‚Redis å¯ä»¥å˜æˆä¸€ä¸ªæ¡†æ¶ï¼Œåˆ©ç”¨ Modules æ¥æ„å»ºä¸åŒç³»ç»Ÿï¼Œè€Œä¸éœ€è¦ä»å¤´å¼€å§‹å†™ç„¶åè¿˜è¦ BSD è®¸å¯ã€‚Redis ä¸€å¼€å§‹å°±æ˜¯ä¸€ä¸ªå‘ç¼–å†™å„ç§ç³»ç»Ÿå¼€æ”¾çš„å¹³å°ã€‚</p>\n",
            "tags": [
                "Redis"
            ]
        },
        {
            "id": "https://blog.dabing.cool/hexo/hexo/",
            "url": "https://blog.dabing.cool/hexo/hexo/",
            "title": "Hexo",
            "date_published": "2022-04-30T14:46:25.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabingï¼ˆç‹ç”œç”œï¼‰<br>\nå®˜æ–¹æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3Mv\">https://hexo.io/zh-cn/docs/</span></p>\n<p>shoka ä¸»é¢˜ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUv\">https://shoka.lostyu.me/</span></p>\n<p>æˆ‘çš„åšå®¢ï¼š<a href=\"http://blog.dabing.cool/\">http://blog.dabing.cool/</a></p>\n<h1 id=\"ä¸€-å®‰è£…\"><a class=\"markdownIt-Anchor\" href=\"#ä¸€-å®‰è£…\">#</a> ä¸€ã€å®‰è£…</h1>\n<blockquote>\n<ol>\n<li><strong>å®‰è£… node.js å’Œ git</strong></li>\n<li><strong>ä¸‹è½½ Hexo</strong></li>\n</ol>\n</blockquote>\n<ol>\n<li><strong>å®‰è£… node.js å’Œ git</strong></li>\n</ol>\n<p>é¦–å…ˆç¡®å®šè‡ªå·±çš„ node.js å’Œ git æ˜¯å¦å·²ç»å®‰è£…äº†ã€‚ç”¨ä¸€ä¸‹å‘½ä»¤æ£€æµ‹ï¼Œæœªå®‰è£…ç™¾åº¦ä¸€ä¸‹å®‰è£…å³å¯ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">node</span> <span class=\"token parameter variable\">-v</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token parameter variable\">-v</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token parameter variable\">--version</span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655611139963-dc325d6a-9b1c-4640-ae84-8461ea8f701f.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li><strong>ä¸‹è½½ Hexo</strong></li>\n</ol>\n<p>çœ‹å®˜ç½‘ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> hexo-cli</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hexo <span class=\"token parameter variable\">-v</span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655611288375-8e0f843f-044e-499c-ba34-a5c50ab129f6.png\" alt=\"img\"></p>\n<h1 id=\"äºŒ-å»ºç«™\"><a class=\"markdownIt-Anchor\" href=\"#äºŒ-å»ºç«™\">#</a> äºŒã€å»ºç«™</h1>\n<blockquote>\n<ol>\n<li><strong>åˆå§‹åŒ–é¡¹ç›® hexo init</strong></li>\n<li><strong>å¯åŠ¨æœåŠ¡å™¨ hexo server</strong></li>\n</ol>\n</blockquote>\n<ol>\n<li><strong>åˆå§‹åŒ–é¡¹ç›®</strong></li>\n</ol>\n<p>å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œmyblogï¼Œè¿›å…¥ç»ˆç«¯</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655625935077-a5d6fb99-bcf1-441a-88b2-8ad6d7c895b3.png\" alt=\"img\"></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo init  <span class=\"token comment\">#åˆå§‹åŒ– hexo</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># æ²¡æœ‰å®ç°åˆ›å»ºæ–‡ä»¶å¤¹å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>hexo init myblog</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655626228031-9a0f6f80-5b57-428a-8fc4-9b8ff9714251.png\" alt=\"img\"></p>\n<p>è™½ç„¶æœ‰æŠ¥é”™ï¼Œä½†æ˜¯çœ‹å¤§æ¦‚æ„æ€æ˜¯ä¸€å¼€å§‹é“¾æ¥å¤±è´¥ï¼Œåé¢é‡ç½®äº†æˆåŠŸäº†ã€‚æ–°å»ºäº† hexo é¡¹ç›®çš„æ–‡ä»¶ç›®å½•é•¿è¿™æ ·ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655626435990-f5a5e9f8-c207-4efc-a76a-3c6074218ef3.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li><strong>å¯åŠ¨æœåŠ¡å™¨</strong></li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> i <span class=\"token comment\"># å…¶å®ä¸çŸ¥é“è¿™ä¸ªæ˜¯å®‰è£…ä»€ä¹ˆä¾èµ–</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-deployer-git <span class=\"token parameter variable\">--save</span>   <span class=\"token comment\"># å®‰è£…éƒ¨ç½²æ’ä»¶</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>hexo server  <span class=\"token comment\"># å¯åŠ¨æœåŠ¡å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸ºï¼š http://localhost:4000/ã€‚</span></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥ä¸ç”¨å®‰è£…ä¾èµ–å’Œæ’ä»¶ï¼Œç›´æ¥å¯åŠ¨æœåŠ¡å™¨ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>\n<p>å¯åŠ¨äº†æœåŠ¡å™¨äº†ï¼Œè®¿é—®ä¸‹åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDo0MDAwLw==\">http://localhost:4000/</span></p>\n<p>é•¿è¿™æ ·ï¼Œæ„Ÿè§‰ä¸å’‹å¥½çœ‹ã€‚åˆ°æ—¶å€™å¾—æ¢æˆé‚£ä¸ªå°‘å¥³ç²‰çš„ä¸»é¢˜å˜»å˜»</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655628264610-bb5eeb7f-b07b-4563-8683-574ebc239b7b.png\" alt=\"img\"></p>\n<h1 id=\"ä¸‰-éƒ¨ç½²åˆ°github\"><a class=\"markdownIt-Anchor\" href=\"#ä¸‰-éƒ¨ç½²åˆ°github\">#</a> ä¸‰ã€éƒ¨ç½²åˆ° GitHub</h1>\n<blockquote>\n<ol>\n<li><strong>åˆ›å»ºä¸ªä»“åº“ <span class=\"exturl\" data-url=\"aHR0cDovL2RhYmluZzg1LmdpdGh1Yi5pbw==\">dabing85.github.io</span></strong></li>\n<li><strong>å®‰è£… hexo-deployer-git éƒ¨ç½²æ’ä»¶</strong></li>\n<li><strong>ä¿®æ”¹_config.yml æ–‡ä»¶</strong></li>\n<li><strong>ä»£ç éƒ¨ç½²åˆ° git å¹¶æˆæƒ</strong></li>\n<li><strong>è®¿é—®ï¼š</strong> <code>dabing85.github.io</code></li>\n</ol>\n</blockquote>\n<p>å…ˆéƒ¨ç½²åˆ° github å§ï¼Œåé¢ç­‰å¤‡æ¡ˆäº†éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šå»å˜»å˜»ã€‚åº”è¯¥å°±æ˜¯ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶å°±å¯ä»¥äº†ã€‚</p>\n<ol>\n<li>\n<p><strong>åˆ›å»ºä¸ªä»“åº“ <span class=\"exturl\" data-url=\"aHR0cDovL2RhYmluZzg1LmdpdGh1Yi5pbw==\">dabing85.github.io</span></strong>  - è¿™ä¸ª dabing85 è¦è·Ÿä½ çš„ github è´¦æˆ·åä¸€è‡´</p>\n</li>\n<li>\n<p><strong>å®‰è£… hexo-deployer-git éƒ¨ç½²æ’ä»¶</strong></p>\n</li>\n</ol>\n<p>åˆšåˆšå°±å®‰è£…è¿‡äº†ï¼Œå°±æ˜¯è¿™ä¸ªå‘½ä»¤ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-deployer-git <span class=\"token parameter variable\">--save</span>   <span class=\"token comment\"># å®‰è£…æ’ä»¶</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>ä¿®æ”¹_config.yml æ–‡ä»¶</strong></li>\n</ol>\n<p>éƒ¨ç½²æ¨èç”¨ ssh å¯†é’¥çš„æ–¹å¼å¿«ä¸€äº›ã€‚æ€ä¹ˆç”Ÿæˆå…¬é’¥ï¼Œå¯å‚è€ƒï¼š<a href=\"https://blog.dabing.cool/java/git/\">https://blog.dabing.cool/java/git/</a></p>\n<p>é…è¿‡æœ¬æœºå…¬é’¥å°±ä¸ç”¨ç®¡äº†ã€‚</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>dabing85/dabing85.github.io.git</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main</pre></td></tr></table></figure><ol start=\"4\">\n<li><strong>è¿è¡Œä¸‹é¢å‡ ä¸ªå‘½ä»¤</strong></li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># ä¸‰è¿ï¼Œæ¯æ¬¡å‘å¸ƒæ–°æ–‡ç« çš„æ—¶å€™éƒ½è¦ä¸‰è¿ä¸€ä¸‹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hexo clean</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>hexo g\t<span class=\"token comment\"># ç”Ÿæˆé™æ€æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>hexo d\t<span class=\"token comment\"># éƒ¨ç½²ä»£ç åˆ° GitHub ä¸Šï¼Œä¹‹åä¼šè·³å‡º github æˆæƒçš„æ¡†</span></pre></td></tr></table></figure><ol start=\"5\">\n<li><strong>è®¿é—®ï¼š</strong> <code>dabing85.github.io</code></li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655634264764-ab55bdc2-2bdd-449b-b403-4ede4675abad.png\" alt=\"img\"></p>\n<h1 id=\"å››-ç¾åŒ–åšå®¢\"><a class=\"markdownIt-Anchor\" href=\"#å››-ç¾åŒ–åšå®¢\">#</a> å››ã€ç¾åŒ–åšå®¢</h1>\n<blockquote>\n<ol>\n<li>å®‰è£…éœ€è¦çš„ä¾èµ–æ’ä»¶</li>\n<li>ä¸‹è½½ä¸»é¢˜</li>\n<li>ä¿®æ”¹ /_config.yml é…ç½®åˆ‡æ¢ä¸»é¢˜</li>\n<li>é‡æ–°ç¼–è¯‘å‘å¸ƒ hexo clean &amp; hexo deploy</li>\n<li>è®¿é—® <code>dabing85.github.io</code></li>\n<li>ä¿®æ”¹å¯¹åº”çš„é…ç½®æ–‡ä»¶</li>\n</ol>\n</blockquote>\n<p>çœ‹ä¸Šè¿™ä¸ªå°‘å¥³ç²‰çš„ä¸»é¢˜äº†ï¼Œæ©™æ€»ä»‹ç»çš„ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=\">shoka.lostyu.me</span></p>\n<p>æ–‡æ¡£è¯´æ˜ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy8=\">https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/</span></p>\n<p>åŸºæœ¬é…ç½®: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9jb25maWcv\">https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/config/</span></p>\n<p>é¡µé¢é…ç½®: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9kaXNwbGF5Lw==\">https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/display/</span></p>\n<p>ä¾èµ–æ’ä»¶: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9kZXBlbmRlbnRzLw==\">https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/dependents/</span></p>\n<p>ä¸ºäº†å¯è§†åŒ–ï¼Œæˆ‘ç›´æ¥ç”¨ idea æ‰“å¼€ mybolg åœ¨ idea çš„ç»ˆæ­¢æ‰§è¡Œå‘½ä»¤ã€‚ä¹Ÿå¯ä»¥çœ‹çœ‹éƒ½æ·»åŠ äº†äº›ä»€ä¹ˆæ–‡ä»¶ã€‚</p>\n<h2 id=\"1-ä¾èµ–æ’ä»¶å®‰è£…\"><a class=\"markdownIt-Anchor\" href=\"#1-ä¾èµ–æ’ä»¶å®‰è£…\">#</a> 1- ä¾èµ–æ’ä»¶å®‰è£…</h2>\n<p>å‚è€ƒä¸Šæ–¹é“¾æ¥ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> i hexo-renderer-multi-markdown-it <span class=\"token parameter variable\">--save</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token function\">npm</span> i hexo-autoprefixer <span class=\"token parameter variable\">--save</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token function\">npm</span> i hexo-algolia <span class=\"token parameter variable\">--save</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token function\">npm</span> i hexo-algoliasearch <span class=\"token parameter variable\">--save</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token function\">npm</span> i hexo-symbols-count-time <span class=\"token parameter variable\">--save</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre> <span class=\"token function\">npm</span> i hexo-feed <span class=\"token parameter variable\">--save</span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655638217584-b2acf7bc-eb29-430c-a973-7e0d6ec57d4c.png\" alt=\"img\"></p>\n<p>å¯¹åº”çš„ä¾èµ–é…ç½®ç›´æ¥å¤åˆ¶åšä¸»æ–‡æ¡£é‡Œçš„å†…å®¹åˆ°  <code>themes/shoka/_config.yml</code>  ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ã€‚è¿™ä¸ªè·¯å¾„ç°åœ¨è¿˜æ²¡æœ‰ï¼Œç­‰ä¼šä¸‹è½½å®Œä¸»é¢˜å°±æœ‰äº†ã€‚</p>\n<h2 id=\"2-ä¸‹è½½ä¸»é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#2-ä¸‹è½½ä¸»é¢˜\">#</a> 2- ä¸‹è½½ä¸»é¢˜</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/amehime/hexo-theme-shoka.git ./themes/shoka</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655638649685-7d6daada-158c-4edd-a372-969fb5b5d19a.png\" alt=\"img\"></p>\n<p>ä¸‹è½½å®Œæ¯•å¤šäº†è¿™ä¹ˆä¸ªæ–‡ä»¶å¤¹ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655638710668-09f2449a-d66b-4a1e-80a7-cedf1426eb1a.png\" alt=\"img\"></p>\n<p>è®©è¿™ä¸ªä¸»é¢˜èµ·æ•ˆï¼š<br>\nä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶  <code>/_config.yml </code> ï¼ŒæŠŠä¸»é¢˜æ”¹ä¸º shoka</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> shoka</pre></td></tr></table></figure><p>é‡æ–°ç¼–è¯‘éƒ¨ç½²ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo clean</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hexo g</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>hexo d</pre></td></tr></table></figure><p>è®¿é—®ä¸€ä¸‹ <code>https://dabing85.github.io/</code>  å‘ï¼Œé•¿è¿™æ ·ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655640206227-f6aef02a-bf45-4b1d-bbd5-dcf3451a4fc9.png\" alt=\"img\"></p>\n<h2 id=\"3-ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶shoka_configyml\"><a class=\"markdownIt-Anchor\" href=\"#3-ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶shoka_configyml\">#</a> 3- ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ /shoka/_config.yml</h2>\n<p>å‚è€ƒä¸»é¢˜ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9jb25maWcv\">https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/config/</span></p>\n<p>å…¨å±€æœç´¢ algolia çš„é…ç½®å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ1MjM0NTEwL2FydGljbGUvZGV0YWlscy8xMTY4ODU3OTI=\">https://blog.csdn.net/m0_45234510/article/details/116885792</span> å’Œ</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM1NDc5NDY4L2FydGljbGUvZGV0YWlscy8xMDczMzU2NjM=\">https://blog.csdn.net/qq_35479468/article/details/107335663</span></p>\n<p>æ— åç«¯è¯„è®ºç³»ç»Ÿ valine çš„é…ç½®å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly92YWxpbmUuanMub3JnL3F1aWNrc3RhcnQuaHRtbA==\">https://valine.js.org/quickstart.html</span></p>\n<p>è¦ä¿®æ”¹ä¸€äº›å›¾ç‰‡å¦‚å¤´åƒï¼Œå¯ä»¥åœ¨ <code>\\themes\\shoka\\source\\images</code>  è·¯å¾„ä¸‹ä¿®æ”¹ï¼Œç›´æ¥æ›¿æ¢ï¼Œè¦<strong>åŒå</strong>ï¼ï¼ï¼</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655787225138-f0cda8bc-74af-40c4-9a1c-e7dc66c4a735.png\" alt=\"img\"></p>\n<p>ä¸‹é¢æ˜¯æˆ‘çš„é…ç½®æ–‡ä»¶ç»™å¤§å®¶å‚è€ƒä¸€äº›ï¼Œä¹Ÿå¯èƒ½ä¸å¤Ÿå®Œå–„ï¼šå…¶å®å°±æ˜¯æ”¹äº†ä¸€äº›ä½ éœ€è¦çš„æ•ˆæœï¼ŒåŠ ä¸Šåˆšåˆšçš„æ’ä»¶é…ç½®</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Alternate site name</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">alternate</span><span class=\"token punctuation\">:</span> Dabing</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">open_graph</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#twitter_id:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">#google_plus:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#fb_admins:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">#fb_app_id:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># Assets</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token key atrule\">statics</span><span class=\"token punctuation\">:</span> / <span class=\"token comment\">#/ #//cdn.jsdelivr.net/gh/username/RepositoryName@latest/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token key atrule\">css</span><span class=\"token punctuation\">:</span> css</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token key atrule\">js</span><span class=\"token punctuation\">:</span> js</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token key atrule\">images</span><span class=\"token punctuation\">:</span> images</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># themes/shoka/source/images/***</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token key atrule\">favicon</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token key atrule\">apple_touch_icon</span><span class=\"token punctuation\">:</span> /apple<span class=\"token punctuation\">-</span>touch<span class=\"token punctuation\">-</span>icon.png</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token comment\">#safari_pinned_tab: /logo.svg</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">#android_manifest: /manifest.json</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token comment\">#ms_browserconfig: /browserconfig.xml</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\"># Dark Mode</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\"># By default, the page judges whether to turn on the dark mode according to the device settings or user selection</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\"># if `true`, the page will be displayed directly as Dark Mode, unless the user makes another choice</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\"># å¤œé—´æ¨¡å¼</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token key atrule\">darkmode</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\"># By default the page will automatically scroll to the last viewed position</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\"># if `false`, automatic positioning will be turned off</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\"># è‡ªåŠ¨å®šä½ è‡ªåŠ¨å®šä½åˆ°ä¸Šæ¬¡æµè§ˆçš„ä½ç½®</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token key atrule\">auto_scroll</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\"># Whether to show the loading cat</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\"># æ˜¯å¦æ˜¾ç¤ºé¡µé¢åŠ è½½åŠ¨æ¼« å°±æ˜¯æ¯æ¬¡éƒ½çœ‹åˆ°çš„é‚£ä¸ªçŒ«çŒ«</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token key atrule\">loader</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token key atrule\">start</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># When entering the page</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token key atrule\">switch</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># When switching to another page</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token comment\"># click with Firework</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token comment\"># é¡µé¢ç‰¹æ•ˆ å•å‡»é¡µé¢çš„çƒŸèŠ±æ•ˆæœ</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token key atrule\">fireworks</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token key atrule\">color</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token comment\"># - \"rgba(255,182,185,.9)\"</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token comment\"># - \"rgba(250,227,217,.9)\"</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token comment\"># - \"rgba(187,222,214,.9)\"</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token comment\"># - \"rgba(138,198,209,.9)\"</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token comment\"># åŠ è½½è°·æ­Œå­—ä½“</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token key atrule\">font</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token comment\"># Font options:</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token comment\"># `external: true` will load this font family from `host` above.</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token comment\"># `family: Times New Roman`. Without any quotes.</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token comment\"># `size: x.x`. Use `em` as unit. Default: 1 (16px)</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>  <span class=\"token comment\"># Global font settings used for all elements inside &lt;body>.</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  <span class=\"token key atrule\">global</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> Mulish</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token key atrule\">size</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>  <span class=\"token comment\"># Font settings for alternate title.</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token comment\"># å¤‡ç”¨å­—ä½“</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token key atrule\">logo</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> Fredericka the Great</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token key atrule\">size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3.5</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>  <span class=\"token comment\"># Font settings for site title.</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token comment\"># ç«™ç‚¹å­—ä½“</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> Noto Serif JP</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token key atrule\">size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2.5</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>  <span class=\"token comment\"># Font settings for headlines (&lt;h1> to &lt;h6>).</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token key atrule\">headings</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> Noto Serif SC</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token key atrule\">size</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token comment\"># Font settings for posts.</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>  <span class=\"token key atrule\">posts</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>  <span class=\"token comment\"># Font settings for &lt;code> and code blocks.</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>  <span class=\"token key atrule\">codes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>    <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> Inconsolata</pre></td></tr><tr><td data-num=\"93\"></td><td><pre></pre></td></tr><tr><td data-num=\"94\"></td><td><pre><span class=\"token comment\"># project of https://www.iconfont.cn/</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre><span class=\"token comment\"># //at.alicdn.com/t/font_1832207_c8i9n1ulxlt.css => 1832207_c8i9n1ulxlt</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre><span class=\"token key atrule\">iconfont</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1832207_igi8uaupcus\"</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre></pre></td></tr><tr><td data-num=\"98\"></td><td><pre><span class=\"token comment\"># èœå•</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre><span class=\"token key atrule\">menu</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>  <span class=\"token key atrule\">é¦–é¡µ</span><span class=\"token punctuation\">:</span> / <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> home</pre></td></tr><tr><td data-num=\"101\"></td><td><pre>  <span class=\"token key atrule\">å…³äº</span><span class=\"token punctuation\">:</span> /about/ <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> user</pre></td></tr><tr><td data-num=\"102\"></td><td><pre>  <span class=\"token key atrule\">æ–‡ç« </span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>    <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> / <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> feather</pre></td></tr><tr><td data-num=\"104\"></td><td><pre>    <span class=\"token key atrule\">å½’æ¡£</span><span class=\"token punctuation\">:</span> /archives/ <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> list<span class=\"token punctuation\">-</span>alt</pre></td></tr><tr><td data-num=\"105\"></td><td><pre>    <span class=\"token key atrule\">åˆ†ç±»</span><span class=\"token punctuation\">:</span> /categories/ <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> th</pre></td></tr><tr><td data-num=\"106\"></td><td><pre>    <span class=\"token key atrule\">æ ‡ç­¾</span><span class=\"token punctuation\">:</span> /tags/ <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> tags</pre></td></tr><tr><td data-num=\"107\"></td><td><pre>  <span class=\"token key atrule\">å‹é“¾</span><span class=\"token punctuation\">:</span> /friends/ <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> heart</pre></td></tr><tr><td data-num=\"108\"></td><td><pre><span class=\"token comment\">#  links: /links/ || magic</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre></pre></td></tr><tr><td data-num=\"110\"></td><td><pre><span class=\"token comment\"># Social Links</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre><span class=\"token comment\"># Usage: `Key: permalink || icon || color`</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre><span class=\"token comment\"># Key is the link label showing to end users.</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre><span class=\"token comment\"># Value before `||` delimiter is the target permalink,</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre><span class=\"token comment\"># secend value is the name of Font icon.</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre><span class=\"token key atrule\">social</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>  <span class=\"token key atrule\">github</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/dabing85 <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> github <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> \"<span class=\"token comment\">#191717\"</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>  <span class=\"token comment\">#google: https://plus.google.com/yourname || google</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>  <span class=\"token comment\">#twitter: https://twitter.com/yourname || twitter || \"#00aff0\"</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>  <span class=\"token comment\">#zhihu: https://www.zhihu.com/people/yourname || zhihu || \"#1e88e5\"</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>  <span class=\"token comment\">#music: https://music.163.com/#/user/home?id=yourid || cloud-music || \"#e60026\"</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>  <span class=\"token comment\">#weibo: https://weibo.com/yourname || weibo || \"#ea716e\"</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>  <span class=\"token comment\">#about: https://about.me/yourname || address-card || \"#3b5998\"</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>  <span class=\"token comment\">#email: mailto:yourname@mail.com || envelope || \"#55acd5\"</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>  <span class=\"token comment\">#facebook: https://www.facebook.com/yourname || facebook</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>  <span class=\"token comment\">#stackoverflow: https://stackoverflow.com/yourname || stack-overflow</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>  <span class=\"token comment\">#youtube: https://youtube.com/yourname || youtube</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>  <span class=\"token comment\">#instagram: https://instagram.com/yourname || instagram</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>  <span class=\"token comment\">#skype: skype:yourname?call|chat || skype</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>  <span class=\"token comment\">#douban: https://www.douban.com/people/yourname/ || douban</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre></pre></td></tr><tr><td data-num=\"131\"></td><td><pre><span class=\"token key atrule\">sidebar</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>  <span class=\"token comment\"># Sidebar Position.</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>  <span class=\"token comment\"># position: left</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>  <span class=\"token key atrule\">position</span><span class=\"token punctuation\">:</span> right</pre></td></tr><tr><td data-num=\"135\"></td><td><pre>  <span class=\"token comment\"># Replace the default avatar image and set the url here.</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>  <span class=\"token key atrule\">avatar</span><span class=\"token punctuation\">:</span> avatar.jpg</pre></td></tr><tr><td data-num=\"137\"></td><td><pre></pre></td></tr><tr><td data-num=\"138\"></td><td><pre><span class=\"token key atrule\">widgets</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>  <span class=\"token comment\"># if true, will show random posts</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>  <span class=\"token comment\"># æ˜¾ç¤ºéšæœºæ–‡ç« </span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>  <span class=\"token key atrule\">random_posts</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>  <span class=\"token comment\"># if true, will show recent comments</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>  <span class=\"token comment\"># æ˜¾ç¤ºæœ€è¿‘è¯„è®º</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>  <span class=\"token key atrule\">recent_comments</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre></pre></td></tr><tr><td data-num=\"146\"></td><td><pre><span class=\"token key atrule\">footer</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>  <span class=\"token comment\"># Specify the date when the site was setup. If not defined, current year will be used.</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>  <span class=\"token comment\"># é¡µå°¾å…¨ç«™ç»Ÿè®¡å±€</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>  <span class=\"token key atrule\">since</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2010</span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>  <span class=\"token key atrule\">icon</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> sakura rotate</pre></td></tr><tr><td data-num=\"152\"></td><td><pre>    <span class=\"token comment\"># Change the color of icon, using Hex Code.</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>    <span class=\"token key atrule\">color</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"#ffc0cb\"</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>  <span class=\"token comment\"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>  <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>  <span class=\"token key atrule\">powered</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre></pre></td></tr><tr><td data-num=\"158\"></td><td><pre><span class=\"token comment\"># æ–‡ç« ç•Œé¢ç»Ÿè®¡</span></pre></td></tr><tr><td data-num=\"159\"></td><td><pre><span class=\"token key atrule\">post</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>  <span class=\"token comment\"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>  <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre></pre></td></tr><tr><td data-num=\"163\"></td><td><pre><span class=\"token comment\"># å¥–åŠ± </span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre><span class=\"token comment\"># Reward (Donate)</span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre><span class=\"token key atrule\">reward</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>  <span class=\"token comment\"># If true, reward will be displayed in every article by default.</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>  <span class=\"token key atrule\">account</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"169\"></td><td><pre>    <span class=\"token key atrule\">wechatpay</span><span class=\"token punctuation\">:</span> /wechatpay.png</pre></td></tr><tr><td data-num=\"170\"></td><td><pre><span class=\"token comment\">#    alipay: /alipay.png</span></pre></td></tr><tr><td data-num=\"171\"></td><td><pre><span class=\"token comment\">#    paypal: /paypal.png</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre></pre></td></tr><tr><td data-num=\"173\"></td><td><pre><span class=\"token comment\"># TagCloud settings for tags page.</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre><span class=\"token key atrule\">tagcloud</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>  <span class=\"token comment\"># All values below are same as default, change them by yourself.</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre>  <span class=\"token key atrule\">min</span><span class=\"token punctuation\">:</span> <span class=\"token number\">16</span> <span class=\"token comment\"># Minimun font size in px</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre>  <span class=\"token key atrule\">max</span><span class=\"token punctuation\">:</span> <span class=\"token number\">22</span> <span class=\"token comment\"># Maxium font size in px</span></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>  <span class=\"token key atrule\">start</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"#72cecf\"</span> <span class=\"token comment\"># Start color (hex, rgba, hsla or color keywords)</span></pre></td></tr><tr><td data-num=\"179\"></td><td><pre>  <span class=\"token key atrule\">end</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"#ffbac3\"</span> <span class=\"token comment\"># End color (hex, rgba, hsla or color keywords)</span></pre></td></tr><tr><td data-num=\"180\"></td><td><pre>  <span class=\"token key atrule\">amount</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span> <span class=\"token comment\"># Amount of tags, change it if you have more than 200 tags</span></pre></td></tr><tr><td data-num=\"181\"></td><td><pre></pre></td></tr><tr><td data-num=\"182\"></td><td><pre></pre></td></tr><tr><td data-num=\"183\"></td><td><pre><span class=\"token comment\"># ---------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"184\"></td><td><pre><span class=\"token comment\"># Third Party Plugins &amp; Services Settings</span></pre></td></tr><tr><td data-num=\"185\"></td><td><pre><span class=\"token comment\"># ---------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"186\"></td><td><pre></pre></td></tr><tr><td data-num=\"187\"></td><td><pre><span class=\"token comment\"># Creative Commons 4.0 International License.</span></pre></td></tr><tr><td data-num=\"188\"></td><td><pre><span class=\"token comment\"># See: https://creativecommons.org/share-your-work/licensing-types-examples</span></pre></td></tr><tr><td data-num=\"189\"></td><td><pre><span class=\"token comment\"># Available values of license: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span></pre></td></tr><tr><td data-num=\"190\"></td><td><pre><span class=\"token comment\"># You can set a language value if you prefer a translated version of CC license, e.g. deed.zh</span></pre></td></tr><tr><td data-num=\"191\"></td><td><pre><span class=\"token comment\"># CC licenses are available in 39 languages, you can find the specific and correct abbreviation you need on https://creativecommons.org</span></pre></td></tr><tr><td data-num=\"192\"></td><td><pre><span class=\"token key atrule\">creative_commons</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"193\"></td><td><pre>  <span class=\"token key atrule\">license</span><span class=\"token punctuation\">:</span> by<span class=\"token punctuation\">-</span>nc<span class=\"token punctuation\">-</span>sa</pre></td></tr><tr><td data-num=\"194\"></td><td><pre>  <span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> zh<span class=\"token punctuation\">-</span>CN  <span class=\"token comment\"># deed.zh</span></pre></td></tr><tr><td data-num=\"195\"></td><td><pre></pre></td></tr><tr><td data-num=\"196\"></td><td><pre><span class=\"token comment\"># Comments</span></pre></td></tr><tr><td data-num=\"197\"></td><td><pre><span class=\"token comment\"># Valine</span></pre></td></tr><tr><td data-num=\"198\"></td><td><pre><span class=\"token comment\"># For more information: https://github.com/amehime/MiniValine</span></pre></td></tr><tr><td data-num=\"199\"></td><td><pre><span class=\"token comment\"># æ— åç«¯è¯„è®ºç³»ç»Ÿ valine çš„é…ç½®å‚è€ƒï¼šhttps://valine.js.org/quickstart.html</span></pre></td></tr><tr><td data-num=\"200\"></td><td><pre><span class=\"token key atrule\">valine</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"201\"></td><td><pre>  <span class=\"token key atrule\">appId</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># é…ç½®ä½ çš„ appId</span></pre></td></tr><tr><td data-num=\"202\"></td><td><pre>  <span class=\"token key atrule\">appKey</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># é…ç½®ä½ çš„ appKey</span></pre></td></tr><tr><td data-num=\"203\"></td><td><pre>  <span class=\"token key atrule\">placeholder</span><span class=\"token punctuation\">:</span> ãƒ½(â—‹Â´âˆ€`)ï¾‰â™ª <span class=\"token comment\"># Comment box placeholder</span></pre></td></tr><tr><td data-num=\"204\"></td><td><pre>  <span class=\"token key atrule\">avatar</span><span class=\"token punctuation\">:</span> retro <span class=\"token comment\"># Gravatar style : mp, identicon, monsterid, wavatar, robohash, retro</span></pre></td></tr><tr><td data-num=\"205\"></td><td><pre>  <span class=\"token key atrule\">pageSize</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> <span class=\"token comment\"># Pagination size</span></pre></td></tr><tr><td data-num=\"206\"></td><td><pre>  <span class=\"token key atrule\">lang</span><span class=\"token punctuation\">:</span> zh<span class=\"token punctuation\">-</span>CN</pre></td></tr><tr><td data-num=\"207\"></td><td><pre>  <span class=\"token key atrule\">visitor</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># Article reading statistic æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡</span></pre></td></tr><tr><td data-num=\"208\"></td><td><pre>  <span class=\"token key atrule\">NoRecordIP</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># Whether to record the commenter IP</span></pre></td></tr><tr><td data-num=\"209\"></td><td><pre>  <span class=\"token key atrule\">serverURLs</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in)</span></pre></td></tr><tr><td data-num=\"210\"></td><td><pre>  <span class=\"token key atrule\">powerMode</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"211\"></td><td><pre>  <span class=\"token key atrule\">tagMeta</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"212\"></td><td><pre>    <span class=\"token key atrule\">visitor</span><span class=\"token punctuation\">:</span> æ–°æœ‹å‹</pre></td></tr><tr><td data-num=\"213\"></td><td><pre>    <span class=\"token key atrule\">master</span><span class=\"token punctuation\">:</span> åšå®¢ä½œè€…</pre></td></tr><tr><td data-num=\"214\"></td><td><pre>    <span class=\"token key atrule\">friend</span><span class=\"token punctuation\">:</span> å°ä¼™ä¼´</pre></td></tr><tr><td data-num=\"215\"></td><td><pre>    <span class=\"token key atrule\">investor</span><span class=\"token punctuation\">:</span> é‡‘ä¸»ç²‘ç²‘</pre></td></tr><tr><td data-num=\"216\"></td><td><pre>  <span class=\"token key atrule\">tagColor</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"217\"></td><td><pre>    <span class=\"token key atrule\">master</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"var(--color-orange)\"</span></pre></td></tr><tr><td data-num=\"218\"></td><td><pre>    <span class=\"token key atrule\">friend</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"var(--color-aqua)\"</span></pre></td></tr><tr><td data-num=\"219\"></td><td><pre>    <span class=\"token key atrule\">investor</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"var(--color-pink)\"</span></pre></td></tr><tr><td data-num=\"220\"></td><td><pre>  <span class=\"token key atrule\">tagMember</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"221\"></td><td><pre>    <span class=\"token key atrule\">master</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"222\"></td><td><pre>      <span class=\"token punctuation\">-</span> 0fcd1a19626a9a93e8eca7dc65c375fb </pre></td></tr><tr><td data-num=\"223\"></td><td><pre>      <span class=\"token comment\">#(è¿™æ˜¯åšä¸»çš„ md5 å€¼ï¼Œåˆ«äººè¯„è®ºä¹‹åå¯ä»¥åœ¨ leanCloud çœ‹åˆ°é‚®ç®± MD5 å€¼)</span></pre></td></tr><tr><td data-num=\"224\"></td><td><pre>    <span class=\"token comment\"># - hash of master@email.com</span></pre></td></tr><tr><td data-num=\"225\"></td><td><pre>    <span class=\"token comment\"># - hash of master2@email.com</span></pre></td></tr><tr><td data-num=\"226\"></td><td><pre>    <span class=\"token key atrule\">friend</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"227\"></td><td><pre>    <span class=\"token comment\"># - hash of friend1@email.com</span></pre></td></tr><tr><td data-num=\"228\"></td><td><pre>    <span class=\"token key atrule\">investor</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"229\"></td><td><pre>    <span class=\"token comment\"># - hash of investor1@email.com</span></pre></td></tr><tr><td data-num=\"230\"></td><td><pre></pre></td></tr><tr><td data-num=\"231\"></td><td><pre><span class=\"token comment\"># bgm èƒŒæ™¯éŸ³ä¹</span></pre></td></tr><tr><td data-num=\"232\"></td><td><pre><span class=\"token key atrule\">audio</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"233\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> åˆ—è¡¨1</pre></td></tr><tr><td data-num=\"234\"></td><td><pre>    <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"235\"></td><td><pre>      <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//music.163.com/<span class=\"token comment\">#/playlist?id=2943811283</span></pre></td></tr><tr><td data-num=\"236\"></td><td><pre>      <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//music.163.com/<span class=\"token comment\">#/playlist?id=2297706586</span></pre></td></tr><tr><td data-num=\"237\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> åˆ—è¡¨2</pre></td></tr><tr><td data-num=\"238\"></td><td><pre>    <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"239\"></td><td><pre>      <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//music.163.com/<span class=\"token comment\">#/playlist?id=2031842656</span></pre></td></tr><tr><td data-num=\"240\"></td><td><pre></pre></td></tr><tr><td data-num=\"241\"></td><td><pre><span class=\"token comment\"># random image api</span></pre></td></tr><tr><td data-num=\"242\"></td><td><pre><span class=\"token comment\"># éšæœºå›¾åº“</span></pre></td></tr><tr><td data-num=\"243\"></td><td><pre><span class=\"token key atrule\">image_server</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># \"https://acg.xydwz.cn/api/api.php\"</span></pre></td></tr><tr><td data-num=\"244\"></td><td><pre></pre></td></tr><tr><td data-num=\"245\"></td><td><pre><span class=\"token comment\"># Algolia Search</span></pre></td></tr><tr><td data-num=\"246\"></td><td><pre><span class=\"token comment\"># For more information: https://www.algolia.com</span></pre></td></tr><tr><td data-num=\"247\"></td><td><pre><span class=\"token key atrule\">search</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"248\"></td><td><pre>  <span class=\"token key atrule\">hits</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"249\"></td><td><pre>    <span class=\"token key atrule\">per_page</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"250\"></td><td><pre></pre></td></tr><tr><td data-num=\"251\"></td><td><pre><span class=\"token comment\"># Dependencies: https://github.com/amehime/hexo-renderer-multi-markdown-it</span></pre></td></tr><tr><td data-num=\"252\"></td><td><pre><span class=\"token key atrule\">pangu</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"253\"></td><td><pre></pre></td></tr><tr><td data-num=\"254\"></td><td><pre><span class=\"token comment\"># Quicklink Support</span></pre></td></tr><tr><td data-num=\"255\"></td><td><pre><span class=\"token comment\"># For more information: https://github.com/GoogleChromeLabs/quicklink</span></pre></td></tr><tr><td data-num=\"256\"></td><td><pre><span class=\"token key atrule\">quicklink</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"257\"></td><td><pre>  <span class=\"token comment\"># Custom a time in milliseconds by which the browser must execute prefetching.</span></pre></td></tr><tr><td data-num=\"258\"></td><td><pre>  <span class=\"token key atrule\">timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span></pre></td></tr><tr><td data-num=\"259\"></td><td><pre>  <span class=\"token comment\"># Default (true) will attempt to use the fetch() API if supported (rather than link[rel=prefetch]).</span></pre></td></tr><tr><td data-num=\"260\"></td><td><pre>  <span class=\"token key atrule\">priority</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"261\"></td><td><pre></pre></td></tr><tr><td data-num=\"262\"></td><td><pre>  <span class=\"token comment\"># For more flexibility you can add some patterns (RegExp, Function, or Array) to ignores.</span></pre></td></tr><tr><td data-num=\"263\"></td><td><pre>  <span class=\"token comment\"># See: https://github.com/GoogleChromeLabs/quicklink#custom-ignore-patterns</span></pre></td></tr><tr><td data-num=\"264\"></td><td><pre>  <span class=\"token key atrule\">ignores</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"265\"></td><td><pre></pre></td></tr><tr><td data-num=\"266\"></td><td><pre><span class=\"token comment\"># ---------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"267\"></td><td><pre><span class=\"token comment\"># analytics &amp; SEO Settings</span></pre></td></tr><tr><td data-num=\"268\"></td><td><pre><span class=\"token comment\"># ---------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"269\"></td><td><pre><span class=\"token key atrule\">baidu_analytics</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># &lt;app_id></span></pre></td></tr><tr><td data-num=\"270\"></td><td><pre></pre></td></tr><tr><td data-num=\"271\"></td><td><pre><span class=\"token comment\"># Disable Baidu transformation on mobile devices.</span></pre></td></tr><tr><td data-num=\"272\"></td><td><pre><span class=\"token key atrule\">disable_baidu_transformation</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"273\"></td><td><pre></pre></td></tr><tr><td data-num=\"274\"></td><td><pre><span class=\"token comment\"># Automatically add external URL with Base64 encrypt &amp; decrypt.</span></pre></td></tr><tr><td data-num=\"275\"></td><td><pre><span class=\"token key atrule\">exturl</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"276\"></td><td><pre></pre></td></tr><tr><td data-num=\"277\"></td><td><pre><span class=\"token comment\"># Google Webmaster tools verification.</span></pre></td></tr><tr><td data-num=\"278\"></td><td><pre><span class=\"token comment\"># See: https://www.google.com/webmasters</span></pre></td></tr><tr><td data-num=\"279\"></td><td><pre><span class=\"token key atrule\">google_site_verification</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"280\"></td><td><pre></pre></td></tr><tr><td data-num=\"281\"></td><td><pre><span class=\"token comment\"># Bing Webmaster tools verification.</span></pre></td></tr><tr><td data-num=\"282\"></td><td><pre><span class=\"token comment\"># See: https://www.bing.com/webmaster</span></pre></td></tr><tr><td data-num=\"283\"></td><td><pre><span class=\"token key atrule\">bing_site_verification</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"284\"></td><td><pre></pre></td></tr><tr><td data-num=\"285\"></td><td><pre><span class=\"token comment\"># Yandex Webmaster tools verification.</span></pre></td></tr><tr><td data-num=\"286\"></td><td><pre><span class=\"token comment\"># See: https://webmaster.yandex.ru</span></pre></td></tr><tr><td data-num=\"287\"></td><td><pre><span class=\"token key atrule\">yandex_site_verification</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"288\"></td><td><pre></pre></td></tr><tr><td data-num=\"289\"></td><td><pre><span class=\"token comment\"># Baidu Webmaster tools verification.</span></pre></td></tr><tr><td data-num=\"290\"></td><td><pre><span class=\"token comment\"># See: https://ziyuan.baidu.com/site</span></pre></td></tr><tr><td data-num=\"291\"></td><td><pre><span class=\"token key atrule\">baidu_site_verification</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"292\"></td><td><pre></pre></td></tr><tr><td data-num=\"293\"></td><td><pre><span class=\"token comment\"># Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO.</span></pre></td></tr><tr><td data-num=\"294\"></td><td><pre><span class=\"token key atrule\">baidu_push</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"295\"></td><td><pre></pre></td></tr><tr><td data-num=\"296\"></td><td><pre><span class=\"token comment\"># æ¸²æŸ“ md æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"297\"></td><td><pre><span class=\"token key atrule\">markdown</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"298\"></td><td><pre>  <span class=\"token key atrule\">render</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># æ¸²æŸ“å™¨è®¾ç½®</span></pre></td></tr><tr><td data-num=\"299\"></td><td><pre>    <span class=\"token key atrule\">html</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># è¿‡æ»¤ HTML æ ‡ç­¾</span></pre></td></tr><tr><td data-num=\"300\"></td><td><pre>    <span class=\"token key atrule\">xhtmlOut</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># ä½¿ç”¨ '/' æ¥é—­åˆå•æ ‡ç­¾ ï¼ˆæ¯”å¦‚ &lt;br />ï¼‰ã€‚</span></pre></td></tr><tr><td data-num=\"301\"></td><td><pre>    <span class=\"token key atrule\">breaks</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># è½¬æ¢æ®µè½é‡Œçš„ '\\n' åˆ° &lt;br>ã€‚</span></pre></td></tr><tr><td data-num=\"302\"></td><td><pre>    <span class=\"token key atrule\">linkify</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># å°†ç±»ä¼¼ URL çš„æ–‡æœ¬è‡ªåŠ¨è½¬æ¢ä¸ºé“¾æ¥ã€‚</span></pre></td></tr><tr><td data-num=\"303\"></td><td><pre>    <span class=\"token key atrule\">typographer</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"304\"></td><td><pre>    <span class=\"token key atrule\">quotes</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'â€œâ€â€˜â€™'</span></pre></td></tr><tr><td data-num=\"305\"></td><td><pre>  <span class=\"token key atrule\">plugins</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># markdown-it æ’ä»¶è®¾ç½®</span></pre></td></tr><tr><td data-num=\"306\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"307\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>toc<span class=\"token punctuation\">-</span>and<span class=\"token punctuation\">-</span>anchor</pre></td></tr><tr><td data-num=\"308\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"309\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># æ–‡ç« ç›®å½•ä»¥åŠé”šç‚¹åº”ç”¨çš„ class åç§°ï¼Œshoka ä¸»é¢˜å¿…é¡»è®¾ç½®æˆè¿™æ ·</span></pre></td></tr><tr><td data-num=\"310\"></td><td><pre>          <span class=\"token key atrule\">tocClassName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'toc'</span></pre></td></tr><tr><td data-num=\"311\"></td><td><pre>          <span class=\"token key atrule\">anchorClassName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'anchor'</span></pre></td></tr><tr><td data-num=\"312\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"313\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>multimd<span class=\"token punctuation\">-</span>table</pre></td></tr><tr><td data-num=\"314\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"315\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"316\"></td><td><pre>          <span class=\"token key atrule\">multiline</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"317\"></td><td><pre>          <span class=\"token key atrule\">rowspan</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"318\"></td><td><pre>          <span class=\"token key atrule\">headerless</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"319\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"320\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ./markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>furigana</pre></td></tr><tr><td data-num=\"321\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"322\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"323\"></td><td><pre>          <span class=\"token key atrule\">fallbackParens</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"()\"</span></pre></td></tr><tr><td data-num=\"324\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"325\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ./markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>spoiler</pre></td></tr><tr><td data-num=\"326\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"327\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"328\"></td><td><pre>          <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\"</span></pre></td></tr><tr><td data-num=\"329\"></td><td><pre></pre></td></tr><tr><td data-num=\"330\"></td><td><pre><span class=\"token comment\"># minify é…ç½®ï¼Œå‹ç¼© css/js/html</span></pre></td></tr><tr><td data-num=\"331\"></td><td><pre><span class=\"token key atrule\">minify</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"332\"></td><td><pre>  <span class=\"token key atrule\">html</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"333\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"334\"></td><td><pre>    <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># æ’é™¤ hexo-feed ç”¨åˆ°çš„æ¨¡æ¿æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"335\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">'**/json.ejs'</span></pre></td></tr><tr><td data-num=\"336\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">'**/atom.ejs'</span></pre></td></tr><tr><td data-num=\"337\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">'**/rss.ejs'</span></pre></td></tr><tr><td data-num=\"338\"></td><td><pre>  <span class=\"token key atrule\">css</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"339\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"340\"></td><td><pre>    <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"341\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">'**/*.min.css'</span></pre></td></tr><tr><td data-num=\"342\"></td><td><pre>  <span class=\"token key atrule\">js</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"343\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"344\"></td><td><pre>    <span class=\"token key atrule\">mangle</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"345\"></td><td><pre>      <span class=\"token key atrule\">toplevel</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"346\"></td><td><pre>    <span class=\"token key atrule\">output</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"347\"></td><td><pre>    <span class=\"token key atrule\">compress</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"348\"></td><td><pre>    <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"349\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">'**/*.min.js'</span></pre></td></tr><tr><td data-num=\"350\"></td><td><pre></pre></td></tr><tr><td data-num=\"351\"></td><td><pre><span class=\"token comment\"># ä»£ç é«˜äº®</span></pre></td></tr><tr><td data-num=\"352\"></td><td><pre><span class=\"token key atrule\">highlight</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"353\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"354\"></td><td><pre></pre></td></tr><tr><td data-num=\"355\"></td><td><pre><span class=\"token key atrule\">prismjs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"356\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"357\"></td><td><pre></pre></td></tr><tr><td data-num=\"358\"></td><td><pre></pre></td></tr><tr><td data-num=\"359\"></td><td><pre></pre></td></tr><tr><td data-num=\"360\"></td><td><pre><span class=\"token key atrule\">autoprefixer</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"361\"></td><td><pre>  <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"362\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token string\">'*.min.css'</span></pre></td></tr><tr><td data-num=\"363\"></td><td><pre></pre></td></tr><tr><td data-num=\"364\"></td><td><pre></pre></td></tr><tr><td data-num=\"365\"></td><td><pre></pre></td></tr><tr><td data-num=\"366\"></td><td><pre><span class=\"token key atrule\">keywords</span><span class=\"token punctuation\">:</span> java<span class=\"token punctuation\">,</span>git<span class=\"token punctuation\">,</span>springcloud <span class=\"token comment\">#ç«™ç‚¹å…³é”®è¯ï¼Œç”¨ â€œ,â€ åˆ†éš”</span></pre></td></tr><tr><td data-num=\"367\"></td><td><pre></pre></td></tr><tr><td data-num=\"368\"></td><td><pre><span class=\"token key atrule\">feed</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"369\"></td><td><pre>  <span class=\"token key atrule\">limit</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"370\"></td><td><pre>  <span class=\"token key atrule\">order_by</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"-date\"</span></pre></td></tr><tr><td data-num=\"371\"></td><td><pre>  <span class=\"token key atrule\">tag_dir</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"372\"></td><td><pre>  <span class=\"token key atrule\">category_dir</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"373\"></td><td><pre>  <span class=\"token key atrule\">rss</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"374\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"375\"></td><td><pre>    <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"themes/shoka/layout/_alternate/rss.ejs\"</span></pre></td></tr><tr><td data-num=\"376\"></td><td><pre>    <span class=\"token key atrule\">output</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"rss.xml\"</span></pre></td></tr><tr><td data-num=\"377\"></td><td><pre>  <span class=\"token key atrule\">atom</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"378\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"379\"></td><td><pre>    <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"themes/shoka/layout/_alternate/atom.ejs\"</span></pre></td></tr><tr><td data-num=\"380\"></td><td><pre>    <span class=\"token key atrule\">output</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"atom.xml\"</span></pre></td></tr><tr><td data-num=\"381\"></td><td><pre>  <span class=\"token key atrule\">jsonFeed</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"382\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"383\"></td><td><pre>    <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"themes/shoka/layout/_alternate/json.ejs\"</span></pre></td></tr><tr><td data-num=\"384\"></td><td><pre>    <span class=\"token key atrule\">output</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"feed.json\"</span></pre></td></tr><tr><td data-num=\"385\"></td><td><pre></pre></td></tr><tr><td data-num=\"386\"></td><td><pre></pre></td></tr><tr><td data-num=\"387\"></td><td><pre><span class=\"token comment\">#! ---------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"388\"></td><td><pre><span class=\"token comment\">#! DO NOT EDIT THE FOLLOWING `vendors` SETTINGS</span></pre></td></tr><tr><td data-num=\"389\"></td><td><pre><span class=\"token comment\">#! UNLESS YOU KNOW WHAT YOU ARE DOING</span></pre></td></tr><tr><td data-num=\"390\"></td><td><pre><span class=\"token comment\">#! Script dependencies will be combined with jsDelivr (cdn.jsdelivr.net)</span></pre></td></tr><tr><td data-num=\"391\"></td><td><pre><span class=\"token comment\">#! ---------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"392\"></td><td><pre><span class=\"token key atrule\">vendors</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"393\"></td><td><pre>  <span class=\"token key atrule\">css</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"394\"></td><td><pre>    <span class=\"token key atrule\">katex</span><span class=\"token punctuation\">:</span> npm/katex@0.12.0/dist/katex.min.css</pre></td></tr><tr><td data-num=\"395\"></td><td><pre>    <span class=\"token key atrule\">comment</span><span class=\"token punctuation\">:</span> css/comment.css</pre></td></tr><tr><td data-num=\"396\"></td><td><pre>    <span class=\"token key atrule\">fancybox</span><span class=\"token punctuation\">:</span> combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css<span class=\"token punctuation\">,</span>npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css</pre></td></tr><tr><td data-num=\"397\"></td><td><pre>  <span class=\"token key atrule\">js</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"398\"></td><td><pre>    <span class=\"token key atrule\">pace</span><span class=\"token punctuation\">:</span> npm/pace<span class=\"token punctuation\">-</span>js@1.0.2/pace.min.js</pre></td></tr><tr><td data-num=\"399\"></td><td><pre>    <span class=\"token key atrule\">pjax</span><span class=\"token punctuation\">:</span> npm/pjax@0.2.8/pjax.min.js</pre></td></tr><tr><td data-num=\"400\"></td><td><pre>    <span class=\"token key atrule\">fetch</span><span class=\"token punctuation\">:</span> npm/whatwg<span class=\"token punctuation\">-</span>fetch@3.4.0/dist/fetch.umd.min.js</pre></td></tr><tr><td data-num=\"401\"></td><td><pre>    <span class=\"token key atrule\">anime</span><span class=\"token punctuation\">:</span> npm/animejs@3.2.0/lib/anime.min.js</pre></td></tr><tr><td data-num=\"402\"></td><td><pre>    <span class=\"token key atrule\">algolia</span><span class=\"token punctuation\">:</span> npm/algoliasearch@4/dist/algoliasearch<span class=\"token punctuation\">-</span>lite.umd.js</pre></td></tr><tr><td data-num=\"403\"></td><td><pre>    <span class=\"token key atrule\">instantsearch</span><span class=\"token punctuation\">:</span> npm/instantsearch.js@4/dist/instantsearch.production.min.js</pre></td></tr><tr><td data-num=\"404\"></td><td><pre>    <span class=\"token key atrule\">lazyload</span><span class=\"token punctuation\">:</span> npm/lozad@1/dist/lozad.min.js</pre></td></tr><tr><td data-num=\"405\"></td><td><pre>    <span class=\"token key atrule\">quicklink</span><span class=\"token punctuation\">:</span> npm/quicklink@2/dist/quicklink.umd.js</pre></td></tr><tr><td data-num=\"406\"></td><td><pre>    <span class=\"token key atrule\">fancybox</span><span class=\"token punctuation\">:</span> combine/npm/jquery@3.5.1/dist/jquery.min.js<span class=\"token punctuation\">,</span>npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js<span class=\"token punctuation\">,</span>npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js</pre></td></tr><tr><td data-num=\"407\"></td><td><pre>    <span class=\"token key atrule\">valine</span><span class=\"token punctuation\">:</span> gh/amehime/MiniValine@4.2.2<span class=\"token punctuation\">-</span>beta10/dist/MiniValine.min.js</pre></td></tr><tr><td data-num=\"408\"></td><td><pre>    <span class=\"token key atrule\">copy_tex</span><span class=\"token punctuation\">:</span> npm/katex@0.12.0/dist/contrib/copy<span class=\"token punctuation\">-</span>tex.min.js</pre></td></tr><tr><td data-num=\"409\"></td><td><pre>    <span class=\"token key atrule\">chart</span><span class=\"token punctuation\">:</span> npm/frappe<span class=\"token punctuation\">-</span>charts@1.5.0/dist/frappe<span class=\"token punctuation\">-</span>charts.min.iife.min.js</pre></td></tr></table></figure><h2 id=\"4-ä¿®æ”¹å…¨å±€é…ç½®æ–‡ä»¶-_configyml\"><a class=\"markdownIt-Anchor\" href=\"#4-ä¿®æ”¹å…¨å±€é…ç½®æ–‡ä»¶-_configyml\">#</a> 4 - ä¿®æ”¹å…¨å±€é…ç½®æ–‡ä»¶ _config.yml</h2>\n<p>å‚è€ƒå®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3MvY29uZmlndXJhdGlvbg==\">https://hexo.io/zh-cn/docs/configuration</span></p>\n<p>è¦è¯´æ˜ä¸€ä¸‹çš„åˆ†ç±»å’Œæ ‡ç­¾çš„é…ç½®ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1655788779816-0938393b-2931-4d4a-94e3-9bad58aef34a.png\" alt=\"img\"></p>\n<p>åŸºæœ¬ç…§ç€å®˜ç½‘æ¥å°±å¥½ï¼Œæ²¡å•¥è¦æ”¹çš„ã€‚æˆ‘çš„ç»™å‚è€ƒä¸€ä¸‹ã€‚</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Hexo Configuration</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">## Docs: https://hexo.io/docs/configuration.html</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">## Source: https://github.com/hexojs/hexo/</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># Site</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token key atrule\">subtitle</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ä¸åœ¨èƒ½çŸ¥ï¼Œä¹ƒåœ¨èƒ½è¡Œ'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'æ¬¢è¿æ¥åˆ°å¤§å†°çš„ç¬”è®°ç©ºé—´~è¿™é‡Œä¸»è¦ä¼šè®°å½•ç¼–ç¨‹å­¦ä¹ ç¬”è®°ğŸŒ¸'</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token key atrule\">keywords</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token key atrule\">author</span><span class=\"token punctuation\">:</span> Dabing<span class=\"token punctuation\">-</span>He</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> zh<span class=\"token punctuation\">-</span>CN</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token key atrule\">timezone</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># URL</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//blog.dabing.cool/</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token key atrule\">permalink</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">:</span>title/  <span class=\"token comment\">#:year/:month/:day/:title/</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token key atrule\">permalink_defaults</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token key atrule\">pretty_urls</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token key atrule\">trailing_index</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># Set to false to remove trailing 'index.html' from permalinks</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token key atrule\">trailing_html</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># Set to false to remove trailing '.html' from permalinks</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\"># Directory</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token key atrule\">source_dir</span><span class=\"token punctuation\">:</span> source</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token key atrule\">public_dir</span><span class=\"token punctuation\">:</span> public</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token key atrule\">tag_dir</span><span class=\"token punctuation\">:</span> tags</pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token key atrule\">archive_dir</span><span class=\"token punctuation\">:</span> archives</pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token key atrule\">category_dir</span><span class=\"token punctuation\">:</span> categories</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token key atrule\">code_dir</span><span class=\"token punctuation\">:</span> downloads/code</pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token key atrule\">i18n_dir</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">:</span>lang</pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token key atrule\">skip_render</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\"># Writing</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token key atrule\">new_post_name</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">:</span>title.md <span class=\"token comment\"># File name of new posts</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token key atrule\">default_layout</span><span class=\"token punctuation\">:</span> post</pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token key atrule\">titlecase</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># Transform title into titlecase</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token key atrule\">external_link</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># Open external links in new tab</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span> site <span class=\"token comment\"># Apply to the whole site</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token key atrule\">filename_case</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token key atrule\">render_drafts</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token key atrule\">post_asset_folder</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token key atrule\">relative_link</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token key atrule\">future</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token key atrule\">highlight</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token key atrule\">line_number</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token key atrule\">auto_detect</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  <span class=\"token key atrule\">tab_replace</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token key atrule\">wrap</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token key atrule\">hljs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token key atrule\">prismjs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token key atrule\">preprocess</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token key atrule\">line_number</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>  <span class=\"token key atrule\">tab_replace</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre><span class=\"token comment\"># Home page setting</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token comment\"># path: Root path for your blogs index page. (default = '')</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre><span class=\"token comment\"># per_page: Posts displayed per page. (0 = disable pagination)</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre><span class=\"token comment\"># order_by: Posts order. (Order by date descending by default)</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token key atrule\">index_generator</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token key atrule\">per_page</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token key atrule\">order_by</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">-</span>date</pre></td></tr><tr><td data-num=\"67\"></td><td><pre></pre></td></tr><tr><td data-num=\"68\"></td><td><pre><span class=\"token comment\"># Category &amp; Tag</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre><span class=\"token comment\"># è¿™é‡Œé…ç½®åˆ†ç±»å’Œæ ‡ç­¾</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre><span class=\"token key atrule\">default_category</span><span class=\"token punctuation\">:</span> uncategorized</pre></td></tr><tr><td data-num=\"71\"></td><td><pre><span class=\"token key atrule\">category_map</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># edit for Theme.shoka</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token key atrule\">Java</span><span class=\"token punctuation\">:</span> java</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token key atrule\">Hexo</span><span class=\"token punctuation\">:</span> hexo</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>  <span class=\"token key atrule\">è¿›é˜¶</span><span class=\"token punctuation\">:</span> javamore</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>  <span class=\"token key atrule\">ç¼“å­˜</span><span class=\"token punctuation\">:</span> cache</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>  <span class=\"token key atrule\">å¾®æœåŠ¡</span><span class=\"token punctuation\">:</span> springcloud</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>  <span class=\"token key atrule\">ç®—æ³•</span><span class=\"token punctuation\">:</span> algorithm</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>  <span class=\"token key atrule\">ç®—æ³•-æ–°æ‰‹</span><span class=\"token punctuation\">:</span> algorithm1</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token key atrule\">ç®—æ³•-åŸºç¡€</span><span class=\"token punctuation\">:</span> algorithm2</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>  <span class=\"token key atrule\">éšä¾¿è®°</span><span class=\"token punctuation\">:</span> diary</pre></td></tr><tr><td data-num=\"81\"></td><td><pre><span class=\"token key atrule\">tag_map</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre><span class=\"token comment\"># Metadata elements</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre><span class=\"token comment\">## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre><span class=\"token key atrule\">meta_generator</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre></pre></td></tr><tr><td data-num=\"87\"></td><td><pre><span class=\"token comment\"># Date / Time format</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre><span class=\"token comment\">## Hexo uses Moment.js to parse and display date</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre><span class=\"token comment\">## You can customize the date format as defined in</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre><span class=\"token comment\">## http://momentjs.com/docs/#/displaying/format/</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre><span class=\"token key atrule\">date_format</span><span class=\"token punctuation\">:</span> YYYY<span class=\"token punctuation\">-</span>MM<span class=\"token punctuation\">-</span>DD</pre></td></tr><tr><td data-num=\"92\"></td><td><pre><span class=\"token key atrule\">time_format</span><span class=\"token punctuation\">:</span> HH<span class=\"token punctuation\">:</span>mm<span class=\"token punctuation\">:</span>ss</pre></td></tr><tr><td data-num=\"93\"></td><td><pre><span class=\"token comment\">## updated_option supports 'mtime', 'date', 'empty'</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre><span class=\"token key atrule\">updated_option</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'mtime'</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre></pre></td></tr><tr><td data-num=\"96\"></td><td><pre><span class=\"token comment\"># Pagination</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre><span class=\"token comment\">## Set per_page to 0 to disable pagination</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre><span class=\"token key atrule\">per_page</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre><span class=\"token key atrule\">pagination_dir</span><span class=\"token punctuation\">:</span> page</pre></td></tr><tr><td data-num=\"100\"></td><td><pre></pre></td></tr><tr><td data-num=\"101\"></td><td><pre><span class=\"token comment\"># Include / Exclude file(s)</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre><span class=\"token comment\">## include:/exclude: options only apply to the 'source/' folder</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre><span class=\"token key atrule\">include</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre><span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre><span class=\"token key atrule\">ignore</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre><span class=\"token comment\"># å…¨å±€æœç´¢</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre><span class=\"token key atrule\">algolia</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>  <span class=\"token key atrule\">appId</span><span class=\"token punctuation\">:</span> <span class=\"token comment\">#Your appId</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>  <span class=\"token key atrule\">apiKey</span><span class=\"token punctuation\">:</span> <span class=\"token comment\">#Your apiKey</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>  <span class=\"token key atrule\">adminApiKey</span><span class=\"token punctuation\">:</span> <span class=\"token comment\">#Your adminApiKey</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>  <span class=\"token key atrule\">chunkSize</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5000</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token key atrule\">indexName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"dabing\"</span> <span class=\"token comment\">#\"shoka\"</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>  <span class=\"token key atrule\">fields</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>    <span class=\"token punctuation\">-</span> title</pre></td></tr><tr><td data-num=\"116\"></td><td><pre>    <span class=\"token punctuation\">-</span> path</pre></td></tr><tr><td data-num=\"117\"></td><td><pre>    <span class=\"token punctuation\">-</span> categories</pre></td></tr><tr><td data-num=\"118\"></td><td><pre>    <span class=\"token punctuation\">-</span> content<span class=\"token punctuation\">:</span>strip<span class=\"token punctuation\">:</span>truncate<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2000</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>    <span class=\"token punctuation\">-</span> gallery</pre></td></tr><tr><td data-num=\"120\"></td><td><pre>    <span class=\"token punctuation\">-</span> photos</pre></td></tr><tr><td data-num=\"121\"></td><td><pre>    <span class=\"token punctuation\">-</span> tags</pre></td></tr><tr><td data-num=\"122\"></td><td><pre></pre></td></tr><tr><td data-num=\"123\"></td><td><pre><span class=\"token comment\"># Extensions</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre><span class=\"token comment\">## Plugins: https://hexo.io/plugins/</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre><span class=\"token comment\">## Themes: https://hexo.io/themes/</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre><span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> shoka</pre></td></tr><tr><td data-num=\"127\"></td><td><pre></pre></td></tr><tr><td data-num=\"128\"></td><td><pre><span class=\"token comment\"># Deployment</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre><span class=\"token comment\">## Docs: https://hexo.io/docs/one-command-deployment</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git</pre></td></tr><tr><td data-num=\"132\"></td><td><pre>  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>dabing85/dabing85.github.io.git</pre></td></tr><tr><td data-num=\"133\"></td><td><pre>  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main</pre></td></tr></table></figure><p>å†æ¥ä¸€éä¸‰è¿ hexo clean ã€hexo generateã€hexo deploy å³å¯</p>\n<h1 id=\"äº”-å…¶ä»–\"><a class=\"markdownIt-Anchor\" href=\"#äº”-å…¶ä»–\">#</a> äº”ã€å…¶ä»–</h1>\n<h2 id=\"1-è¦å†™ä¸€ç¯‡æ–‡ç« \"><a class=\"markdownIt-Anchor\" href=\"#1-è¦å†™ä¸€ç¯‡æ–‡ç« \">#</a> 1- è¦å†™ä¸€ç¯‡æ–‡ç« ï¼š</h2>\n<p>å¦‚æˆ‘è¦å†™ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å°±è¿™ä¹ˆå†™ï¼šå†™åœ¨ <code>/source/_post/</code>  ç›®å½•ä¸‹ï¼Œå¯ä»¥æŒ‰ç…§åˆ†ç±»ï¼Œå¦‚æˆ‘ hexo åˆ†ç±»ï¼Œå°±å†™åœ¨ <code>/source/_post/hexo/</code>  ç›®å½•ä¸‹å³å¯</p>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token front-matter yaml language-yaml\"><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> å‰ç¼€å’Œ<span class=\"token punctuation\">-</span>æ–°æ‰‹</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2022-09-01 10:00:00</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">categories</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token punctuation\">[</span>ç®—æ³•<span class=\"token punctuation\">,</span> ç®—æ³•<span class=\"token punctuation\">-</span>æ–°æ‰‹<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">-</span> ç®—æ³•</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">---</span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>è¿™é‡Œå¼€å§‹æ­£æ–‡ã€‚ã€‚ã€‚ã€‚ã€‚</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token list punctuation\">-</span> [ç®—æ³•, ç®—æ³•-æ–°æ‰‹]  è¡¨ç¤ºç®—æ³•ä¸‹çš„å­ç›®å½•ï¼Œç®—æ³•-æ–°æ‰‹</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token list punctuation\">-</span> Java javaåˆ†ç±»ä¸‹</pre></td></tr></table></figure><h2 id=\"2-åˆ†ç±»\"><a class=\"markdownIt-Anchor\" href=\"#2-åˆ†ç±»\">#</a> 2 - åˆ†ç±»</h2>\n<p>åœ¨ä½ çš„æ ¹ç›®å½• <code>/source/_post/hexo/</code>  ä¸‹æ”¾ä¸€å¼ è¯¥åˆ†ç±»çš„å°é¢å›¾ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨åœ¨é¦–é¡µæ˜¾ç¤ºè¿™ä¸ªåˆ†ç±»äº†ã€‚</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221021113905502.png\" alt=\"image-20221021113905502\"></p>\n<h2 id=\"3-jsdelivr-è¢«å¢™\"><a class=\"markdownIt-Anchor\" href=\"#3-jsdelivr-è¢«å¢™\">#</a> 3-  jsdelivr è¢«å¢™</h2>\n<p>æˆ‘åœ¨ shoka è¯„è®ºåŒºæ‰¾åˆ°çš„ï¼Œè¯„è®ºå†…å®¹å¦‚ä¸‹ï¼š</p>\n<p>æ‚¨å¥½ï¼Œæˆ‘è¿™è¾¹å¤§æ¦‚å»äº†è§£äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯ä¸ jsdelivr è¢«å¢™æœ‰å…³ï¼Œå¯å‚è€ƒ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYS9pc3N1ZXMvNjU=\">å…³äº jsdeliver åœ¨å›½å†…çš„ ICP è®¸å¯è¯è¢«åŠé”€ #65</span> é‡Œçš„è®¨è®ºï¼Œä»¥åŠ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmxpcTIuY29tL2FydGljbGUvNzY4Yjc0YTI=\">jsDelivr é™æ€æ–‡ä»¶ CDN åŠ é€Ÿå¤±æ•ˆä¹‹åè§£å†³æ–¹æ¡ˆ</span> è¿™ä¸€åšå®¢çš„è¯„è®ºåŒºã€‚æˆ‘ç›®å‰é‡‡å–çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>\n<ul>\n<li>ä¿®æ”¹ \\themes\\shoka\\source\\js_app è·¯å¾„ä¸‹çš„ utils.js æ–‡ä»¶ï¼šå°† <span class=\"exturl\" data-url=\"aHR0cDovL2Nkbi5qc2RlbGl2ci5uZXQ=\">cdn.jsdelivr.net</span> æ›¿æ¢æˆ <span class=\"exturl\" data-url=\"aHR0cDovL2Zhc3RseS5qc2RlbGl2ci5uZXQ=\">fastly.jsdelivr.net</span></li>\n<li>ä¿®æ”¹ \\themes\\shoka\\scripts\\helpers è·¯å¾„ä¸‹çš„ asset.js æ–‡ä»¶ï¼šå°† <span class=\"exturl\" data-url=\"aHR0cDovL2Nkbi5qc2RlbGl2ci5uZXQ=\">cdn.jsdelivr.net</span> æ›¿æ¢æˆ <span class=\"exturl\" data-url=\"aHR0cDovL2Zhc3RseS5qc2RlbGl2ci5uZXQ=\">fastly.jsdelivr.net</span></li>\n<li>ä¿®æ”¹ shoka ä¸»é¢˜ _config.yml æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰åœ¨åšå®¢æ ¹ç›®å½•æ–°å¢ _config.shoka.yml æ–‡ä»¶çš„è¯ï¼‰ä¸­çš„ statics è®¾ç½®ï¼Œè¾“å…¥å®Œæ•´çš„ fastly.jsdelivr é™æ€æ–‡ä»¶ç½‘å€ï¼Œå³ï¼Œè®¾ç½®ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L2doLyVFNCVCRCVBMCVFNyU5QSU4NGdpdGh1YiVFNyU5NCVBOCVFNiU4OCVCNyVFNSU5MCU4RC8lRTUlOEQlOUElRTUlQUUlQTIlRTUlQUYlQjklRTUlQkElOTQlRTclOUElODQlRTQlQkIlOTMlRTUlQkElOTMlRTUlOTAlOERAbGF0ZXN0Lw==\">https://fastly.jsdelivr.net/gh/ ä½ çš„ github ç”¨æˆ·å / åšå®¢å¯¹åº”çš„ä»“åº“å @latest/</span> ï¼Œä¾‹å¦‚æˆ‘çš„è®¾ç½®ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L2doL2ppYW5reWNoZW4vamlhbmt5Y2hlbi5naXRodWIuaW9AbGF0ZXN0Lw==\">https://fastly.jsdelivr.net/gh/jiankychen/jiankychen.github.io@latest/</span> ï¼ˆæ³¨ï¼šæˆ‘ä¸å¤ªç¡®å®š \\themes\\shoka\\source\\js_app è·¯å¾„ä¸‹ global.js æ–‡ä»¶ä¸­çš„ var statics = CONFIG.statics.indexOf (â€˜//â€˜) &gt; 0 ? CONFIG.statics : CONFIG.root è¿™ä¸€è¡Œä»£ç çš„é€»è¾‘ï¼Œä¸ºäº†ç¡®ä¿æˆ‘ä»¬åœ¨ _config.yml ä¸­è®¾ç½®çš„ statics èƒ½å¤Ÿå¥æ•ˆï¼Œæ‰€ä»¥æˆ‘åœ¨è®¾ç½® _config.yml çš„ statics æ—¶åŠ ä¸Šäº† https: è¿™ä¸€å‰ç¼€ï¼Œä»¥ç¡®ä¿ CONFIG.statics.indexOf (â€˜//â€˜) &gt; 0 ä¸º true ï¼‰</li>\n<li>å¦‚æœæ‚¨é…ç½®äº† valine è¯„è®ºç³»ç»Ÿï¼Œåˆ™è¿˜éœ€è¦å°† <span class=\"exturl\" data-url=\"aHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L2doL2FtZWhpbWUvTWluaVZhbGluZUA0LjIuMi1iZXRhMTAvZGlzdC8=\">https://fastly.jsdelivr.net/gh/amehime/MiniValine@4.2.2-beta10/dist/</span> ä¸­çš„ MiniValine.min.js ä¸‹è½½åˆ°æœ¬åœ°å¹¶åšä¸€å®šçš„ä¿®æ”¹ï¼ŒåŒæ—¶ä¿®æ”¹ shoka ä¸»é¢˜ _config.yml æ–‡ä»¶çš„ valine: js/MiniValine.min.js è¿™ä¸€é¡¹è®¾ç½®ï¼Œè¿™ä¸€éƒ¨åˆ†å·¥ä½œæˆ‘æš‚æ—¶ä¹Ÿè¿˜æ²¡èƒ½è§£å†³ï¼ˆç›®å‰æˆ‘çš„ valine è¯„è®ºç³»ç»Ÿä»éœ€ç¿»å¢™æ‰èƒ½åŠ è½½å‡ºæ¥ï¼‰ï¼Œæ‰€ä»¥æ— æ³•ä¸ºæ‚¨æä¾›æ›´è¯¦ç»†çš„ä¿®æ”¹å»ºè®®ã€‚</li>\n</ul>\n<p>é™„æ³¨ï¼šjsdelivr ç¼“å­˜åˆ·æ–°è¾ƒæ…¢ï¼Œæ®è¯´å¯èƒ½è¦ 24 å°æ—¶å·¦å³ï¼Œæ‰€ä»¥ï¼ŒæŒ‰ç…§ä¸Šè¿°æ“ä½œè¿›è¡Œä¿®æ”¹åï¼Œå¯èƒ½éœ€è€å¿ƒç­‰å¾… jsdelivr ç¼“å­˜åˆ·æ–°åæ‰èƒ½ æ­£å¸¸è®¿é—®åšå®¢ ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥æŸ¥æ‰¾æœ‰å…³ åˆ·æ–° jsdelivr ç¼“å­˜ çš„èµ„æ–™è¿›ä¸€æ­¥è§£å†³ã€‚</p>\n<h1 id=\"å…­-åŸŸåè§£ægithub-page\"><a class=\"markdownIt-Anchor\" href=\"#å…­-åŸŸåè§£ægithub-page\">#</a> å…­ã€åŸŸåè§£æ github page</h1>\n<blockquote>\n<ol>\n<li>ä¹°åŸŸå        âœ”</li>\n<li>åŸŸåå¤‡æ¡ˆ    âœ”</li>\n<li>è§£æåŸŸå     è§ä¸‹</li>\n<li>åˆ° github page è®¾ç½®è‡ªå®šä¹‰åŸŸå   è§ä¸‹</li>\n</ol>\n</blockquote>\n<p>** ç¬¬ä¸‰æ­¥ï¼ŒåŸŸåè§£æï¼š** è®°å½•ç±»å‹ CNAMEï¼Œè®°å½•å€¼å†™ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1naXRodWItb245aW0zM2F1MjRmLmdpdGh1Yi5pbw==\">ä½ çš„ github å.github.io</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1656126371608-7c89ca76-dddd-46a4-a6d5-8a1843af2388.png\" alt=\"img\"></p>\n<p>** ç¬¬å››æ­¥ï¼š** åˆ° github æ‰¾åˆ° <code>ä½ çš„githubå.github.io</code>  ä»“åº“ï¼Œsettingï¼Œæ‰¾åˆ° github pagesï¼Œæ·»åŠ ä¸Šä½ çš„åŸŸåå³å¯ã€‚</p>\n<p>ç­‰ä¸ªåå‡ åˆ†é’Ÿå°±å»è®¿é—®ä¸‹ä½ çš„åšå®¢çœ‹çœ‹å’¯ã€‚æˆ‘çš„ <a href=\"https://blog.dabing.cool\">blog.dabing.cool</a></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1656126177215-71010ed0-7373-4947-806a-fcefe95094ea.png\" alt=\"img\"></p>\n<h1 id=\"ä¸ƒ-ä½¿ç”¨github-actionè‡ªåŠ¨éƒ¨ç½²hexoåˆ°github-pages\"><a class=\"markdownIt-Anchor\" href=\"#ä¸ƒ-ä½¿ç”¨github-actionè‡ªåŠ¨éƒ¨ç½²hexoåˆ°github-pages\">#</a> ä¸ƒã€ä½¿ç”¨ Github Action è‡ªåŠ¨éƒ¨ç½² hexo åˆ° GitHub pages</h1>\n<p>è¿™é‡Œé»˜è®¤ä½ æŠŠä¸Šé¢çš„éƒ½åšå¥½äº†ï½</p>\n<blockquote>\n<p>1ã€github åˆ›å»ºä¸€ä¸ªç§äººä»“åº“ï¼Œç”¨äºå­˜æ”¾ hexo çš„æºä»£ç   â€“  é…ç½®ç§é’¥</p>\n<p>2ã€github ä¸Šçš„ youname.github.io æ˜¯å­˜æ”¾ hexo çš„é™æ€ç½‘é¡µæ–‡ä»¶  â€“ é…ç½®å…¬é’¥</p>\n<p>3ã€é…ç½®å·¥ä½œæµï¼š.github/workflows/deploy.yml</p>\n</blockquote>\n<p>æˆ‘è¸©å¤ªå¤šå‘äº†ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªåšï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3JlYWQvY3YxMDAxNjA2Mi8=\">åˆ©ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢ å…¨è‡ªåŠ¨è¿è¡Œ</span></p>\n<p>æˆ‘çš„é…ç½®æ–‡ä»¶è¿™é‡Œè´´ä¸€ä¸‹ï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Action çš„åå­—</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Hexo Auto Deploy</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\"># è§¦å‘æ¡ä»¶ 1ï¼šmain åˆ†æ”¯æ”¶åˆ° push åæ‰§è¡Œä»»åŠ¡ã€‚</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token punctuation\">-</span> main</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token comment\"># è§¦å‘æ¡ä»¶ 2ï¼šæ‰‹åŠ¨æŒ‰é’®</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># è¿™é‡Œæ”¾ç¯å¢ƒå˜é‡ï¼Œéœ€è¦æ›¿æ¢æˆä½ è‡ªå·±çš„</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token comment\"># Hexo ç¼–è¯‘åä½¿ç”¨æ­¤ git ç”¨æˆ·éƒ¨ç½²åˆ° github ä»“åº“</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token key atrule\">GIT_USER</span><span class=\"token punctuation\">:</span> dabing85</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token comment\"># Hexo ç¼–è¯‘åä½¿ç”¨æ­¤ git é‚®ç®±éƒ¨ç½²åˆ° github ä»“åº“</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token key atrule\">GIT_EMAIL</span><span class=\"token punctuation\">:</span> 2261617090@qq.com</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token comment\"># Hexo ç¼–è¯‘åè¦éƒ¨ç½²çš„ github ä»“åº“</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token key atrule\">GIT_DEPLOY_REPO</span><span class=\"token punctuation\">:</span> dabing85/dabing85.github.io</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\"># Hexo ç¼–è¯‘åè¦éƒ¨ç½²åˆ°çš„åˆ†æ”¯</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token key atrule\">GIT_DEPLOY_BRANCH</span><span class=\"token punctuation\">:</span> main</pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">#  # Hexo ç¼–è¯‘åä½¿ç”¨æ­¤ gitee ç”¨æˆ·éƒ¨ç½²åˆ° gitee ä»“åº“</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">#  GITEE_USER: wbsu2003</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">#  # Hexo ç¼–è¯‘åè¦éƒ¨ç½²çš„ gitee ä»“åº“</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">#  GITEE_DEPLOY_REPO: wbsu2003/wbsu2003</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">#  # Hexo ç¼–è¯‘åè¦éƒ¨ç½²åˆ°çš„åˆ†æ”¯</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">#  GITEE_DEPLOY_BRANCH: master</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token comment\"># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token key atrule\">GIT_SOURCE_REPO</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>dabing85/dabing85.github.io.git</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token comment\"># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">#  GITEE_DESTINATION_REPO: git@gitee.com:wbsu2003/wbsu2003.git</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build on node $&lt;<span class=\"token tag\">!--swig</span>ï¿¼0<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span> and $&lt;<span class=\"token tag\">!--swig</span>ï¿¼1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    runs-on: ubuntu-latest</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    if: github.event.repository.owner.id == github.event.sender.id</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    strategy:</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      matrix:</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        os: [ubuntu-18.04]</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        node_version: [12.x]</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2</pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout deploy repo</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>          <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>ï¿¼2<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>          ref: $</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>          path: .deploy_git</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Use Node.js $&lt;<span class=\"token tag\">!--swig</span>ï¿¼4<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        uses: actions/setup-node@v1</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        with:</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>          node-version: $</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configuration environment</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>          <span class=\"token key atrule\">HEXO_DEPLOY_KEY</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>ï¿¼6<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        run: |</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>          sudo timedatectl set-timezone \"Asia/Shanghai\"</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>          mkdir -p ~/.ssh/</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>          echo \"$HEXO_DEPLOY_KEY\" > ~/.ssh/id_rsa</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>          chmod 600 ~/.ssh/id_rsa</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>          ssh-keyscan -t rsa github.com >> ~/.ssh/known_hosts</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>          git config --global user.name \"$GIT_USER\"</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>          git config --global user.email \"$GIT_EMAIL\"</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install dependencies</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>          npm install hexo-cli -g</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>          npm install</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token comment\"># æ ¹æ®ä½ å®‰è£…çš„ç»„ä»¶è¿›è¡Œå®‰è£…</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre><span class=\"token comment\">#          npm i hexo-renderer-multi-markdown-it --save</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre><span class=\"token comment\">#          npm i hexo-autoprefixer --save</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre><span class=\"token comment\">#          npm i  hexo-algolia --save</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre><span class=\"token comment\">#          npm i hexo-algoliasearch --save</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre><span class=\"token comment\">#          npm i hexo-symbols-count-time --save</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre><span class=\"token comment\">#          npm i hexo-feed --save --egacy-peer-deps</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre><span class=\"token comment\">#          hexo-deployer-git --save</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token comment\"># å¤åˆ¶ä¸­æ–‡è¯­è¨€åŒ…ï¼Œè§£å†³èœå•è‹±æ–‡çš„é—®é¢˜</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre><span class=\"token comment\">#               cp zh-CN.yml node_modules/hexo-theme-next/languages/</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy hexo</pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>          hexo clean</pre></td></tr><tr><td data-num=\"91\"></td><td><pre>          hexo generate</pre></td></tr><tr><td data-num=\"92\"></td><td><pre>          hexo deploy</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>      <span class=\"token comment\"># ä»¥ä¸‹ä¸ºå‘å¸ƒåˆ° gitee</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre><span class=\"token comment\">#      - name: Sync to Gitee</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre><span class=\"token comment\">#        uses: wearerequired/git-mirror-action@master</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre><span class=\"token comment\">#        env:</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre><span class=\"token comment\">#          # ç›´æ¥ä½¿ç”¨äº† HEXO_DEPLOY_PRI</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre><span class=\"token comment\">#          SSH_PRIVATE_KEY: $</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre><span class=\"token comment\">#        with:</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre><span class=\"token comment\">#          # GitHub æºä»“åº“åœ°å€</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre><span class=\"token comment\">#          source-repo: $</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre><span class=\"token comment\">#          # Gitee ç›®æ ‡ä»“åº“åœ°å€</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre><span class=\"token comment\">#          destination-repo: $</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre></pre></td></tr><tr><td data-num=\"106\"></td><td><pre><span class=\"token comment\">#      - name: Build Gitee Pages</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre><span class=\"token comment\">#        uses: yanglbme/gitee-pages-action@main</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre><span class=\"token comment\">#        with:</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre><span class=\"token comment\">#          # ä½ çš„ Gitee ç”¨æˆ·å</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre><span class=\"token comment\">#          gitee-username: $</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre><span class=\"token comment\">#          # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PASSWORD</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre><span class=\"token comment\">#          gitee-password: $</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre><span class=\"token comment\">#          # ä½ çš„ Gitee ä»“åº“ï¼Œä»“åº“åä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œè¯·å‡†ç¡®å¡«å†™ï¼Œå¦åˆ™ä¼šå‡ºé”™</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre><span class=\"token comment\">#          gitee-repo: $</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre><span class=\"token comment\">#          # è¦éƒ¨ç½²çš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯ masterï¼Œè‹¥æ˜¯å…¶ä»–åˆ†æ”¯ï¼Œåˆ™éœ€è¦æŒ‡å®šï¼ˆæŒ‡å®šçš„åˆ†æ”¯å¿…é¡»å­˜åœ¨ï¼‰</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre><span class=\"token comment\">#          branch: $</span></pre></td></tr></table></figure><h1 id=\"å…«-ä¸€äº›å‘ä¸å…¨\"><a class=\"markdownIt-Anchor\" href=\"#å…«-ä¸€äº›å‘ä¸å…¨\">#</a> å…«ã€ä¸€äº›å‘ï¼ˆä¸å…¨ï¼‰</h1>\n<p>é‡åˆ°çš„å‘ä¹Ÿæ²¡å…¨å¡«å¹³ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹ä¸€äº›å‘ï¼š</p>\n<ol>\n<li><strong>é—®é¢˜ï¼š Hexo ä½¿ç”¨ Github Actions è‡ªåŠ¨å‘å¸ƒè‡³ Github Pages æ—¶ï¼Œç”Ÿæˆçš„ html é¡µé¢ç©ºç™½ï¼Œæ²¡æœ‰ css/js ç­‰æ–‡ä»¶ã€‚</strong></li>\n</ol>\n<p><strong>åŸå› :</strong> ç”±äºä¸»é¢˜æ˜¯ git clone ä¸‹æ¥çš„ï¼Œä¸»é¢˜ç›®å½•ä¸‹ç”Ÿæˆäº† .git ç›®å½•ï¼Œå¯¼è‡´å’Œ hexo æ ¹ç›®å½•ä¸‹ .git å†²çªäº†ï¼Œcommit æ—¶æ²¡æœ‰æŠŠä¸»é¢˜ push ä¸Šå»å¯¼è‡´çš„ã€‚</p>\n<p><strong>è§£å†³åŠæ³•ï¼š</strong> åˆ æ‰ä¸»é¢˜ä¸‹çš„.git æ–‡ä»¶å¤¹ï¼Œé‡æ–°æäº¤ï¼Œç›®çš„æ˜¯æŠŠ next ä¸»é¢˜æ–‡ä»¶å¤¹æäº¤ä¸Šå»ï¼ˆåˆ æ‰.git æ–‡ä»¶å¤¹å git commit ä¾ç„¶æ²¡æœ‰æäº¤ä¸Šï¼Œéœ€è¦æŠŠ next æ–‡ä»¶å¤¹å‰ªåˆ‡å‡ºæ¥å git add&amp;&amp;git commit &amp;&amp;git push åï¼Œå†æŠŠ next æ–‡ä»¶å¤¹æ‹·è´å›æ¥ï¼Œå† git add&amp;&amp;git commit &amp;&amp;git push å°±å¯ä»¥æäº¤æˆåŠŸäº†ï¼‰</p>\n<p>æ³¨ï¼šè¿™é‡Œå¦‚æœç”¨ idea çš„å¯è§†åŒ–æŒ‰é”®ä¸è¡Œï¼ˆåæ­£æˆ‘çš„ä¸è¡Œï¼‰ã€‚å°±åœ¨ idea ç»ˆç«¯æ‰“å‘½ä»¤ã€‚æŒ‰ç€ä¸Šé¢çš„æ¥å°±è¡Œã€‚æˆ‘è¿™é‡Œåšä¸€ä¸‹è®°å½•ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> status  <span class=\"token comment\"># æŸ¥çœ‹æœ‰æ²¡æœ‰æœªæ·»åŠ çš„æ–‡ä»¶å¤¹ï¼Œ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> themes/shoka/   <span class=\"token comment\"># shoka æ˜¯æˆ‘çš„ä¸»é¢˜</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"shokaä¸»é¢˜å†…å®¹\"</span>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin git@github.com:dabing85/hexoBlog.git  <span class=\"token comment\"># æˆ‘æ˜¯é‡æ–°æ­å»ºçš„ï¼Œè¿™é‡Œæ‰å…³è”è¿œç¨‹ä»“åº“ï¼Œorigin æ˜¯è¿œç¨‹ä»“åº“åå­—</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-M</span> main</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin main</pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>é—®é¢˜ï¼š</strong> å®‰è£…æ’ä»¶ä¾èµ–å¤±è´¥ï¼Œè¯´å•¥è§£æå¤±è´¥ï¼Œ<strong>npm ERR! code ERESOLVE</strong></li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1656218291887-127df319-fc78-4827-b3d9-922043b5623e.png\" alt=\"img\"></p>\n<p><strong>è§£å†³:</strong> åé¢æ·»åŠ  --egacy-peer-deps</p>\n<p><strong>å‚è€ƒé“¾æ¥:</strong> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzUxOTY5MzMwL2FydGljbGUvZGV0YWlscy8xMTkxODY0MTY=\">https://blog.csdn.net/m0_51969330/article/details/119186416</span></p>\n<ol start=\"3\">\n<li><strong>é—®é¢˜ï¼š</strong><a href=\"https://stackoverflow.com/questions/49475492/npm-install-error-code-ebadplatform\"><strong>npm install error (code EBADPLATFORM)</strong></a> <strong>è¡¨ç¤ºæ²¡æœ‰å¹³å°æ”¯æŒå®‰è£… fsevents</strong></li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1656225231856-d5d9bb3c-cb36-4d0f-adf7-528317c44f06.png\" alt=\"img\"></p>\n<p><strong>è§£å†³ï¼š</strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDk0NzU0OTIvbnBtLWluc3RhbGwtZXJyb3ItY29kZS1lYmFkcGxhdGZvcm0=\">npm install error (code EBADPLATFORM)</span></p>\n<p>è¿™é‡Œæˆ‘æ˜¯åªåˆ é™¤äº† package-lock.json å°±è¡Œäº†ï¼Œä½†æ˜¯è¿˜æ˜¯åšäº†è­¦å‘Šã€‚</p>\n<ol start=\"4\">\n<li><strong>é—®é¢˜ï¼šè‡ªåŠ¨éƒ¨ç½²åï¼Œgithub pages ä¸Šçš„è‡ªå®šä¹‰åŸŸåä¹Ÿä¼šè¢«æŠ¹æ‰.</strong></li>\n</ol>\n<p><strong>è§£å†³:</strong> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Zha2VfaHlkcmEvYXJ0aWNsZS9kZXRhaWxzLzgyNDE0OTY1\">https://blog.csdn.net/fake_hydra/article/details/82414965</span></p>\n<p>å³ï¼šåœ¨ source ç›®å½•ä¸‹å»ºä¸€ä¸ª CNAME æ–‡ä»¶ï¼Œæ²¡æœ‰åç¼€ï¼Œé‡Œé¢å†™ä½ çš„åŸŸåå³å¯ã€‚</p>\n<h1 id=\"ä¹-éƒ¨ç½²åˆ°æœåŠ¡å™¨\"><a class=\"markdownIt-Anchor\" href=\"#ä¹-éƒ¨ç½²åˆ°æœåŠ¡å™¨\">#</a> ä¹ã€éƒ¨ç½²åˆ°æœåŠ¡å™¨</h1>\n<p>å‚è€ƒé“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4Njc5ODgxL2FydGljbGUvZGV0YWlscy8xMjI3MzAwNjU=\">å°† Hexo æ­å»ºåˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š</span></p>\n<p>æœåŠ¡å™¨ï¼ˆLinuxï¼‰æˆ‘æ˜¯å…¨æŒ‰ç…§ä¸Šé¢çš„åšå®¢æ¥çš„ï¼Œæ²¡å•¥é—®é¢˜ã€‚</p>\n<p>åˆ°å®¢æˆ·ç«¯ï¼ˆWindowsï¼‰æˆ‘æ˜¯æ–°å»ºäº†ä¸€ä¸ª hexoBlog æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯å†…å®¹å…¨éƒ¨å¤åˆ¶ä»¥å‰ github çš„æºç ï¼Œæ‰€ä»¥ github ä¸Šçš„è¿˜æ˜¯èµ·æ•ˆçš„ã€‚</p>\n<p>ç›´æ¥å¤åˆ¶æœ‰äº›è¦æ³¨æ„çš„æ˜¯ï¼š</p>\n<ol>\n<li>\n<p>æœ€å¥½åˆ é™¤.git æ–‡ä»¶ï¼ˆè¿™é‡Œçš„.git æ˜¯åŸæ¥ github è¿œç¨‹ä»“åº“çš„ï¼‰</p>\n</li>\n<li>\n<p>.idea æ–‡ä»¶å¤¹çš„å†…å®¹æœ‰äº›æ–‡ä»¶éœ€è¦æ”¹ï¼Œå› ä¸ºé‡Œé¢è®°çš„æ˜¯åŸæ¥é¡¹ç›®çš„æ¨¡å—</p>\n<p>ä¸‹é¢å‡ ä¸ªæ–‡ä»¶å†…å®¹çš„é¡¹ç›®åæ”¹æˆç°åœ¨çš„ï¼Œä¸æ”¾å¿ƒå¯ä»¥æ¯ä¸ªéƒ½çœ‹ä¸€ä¸‹æ›¿æ¢ä¸€ä¸‹ã€‚</p>\n</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220813201936397.png\" alt=\"image-20220813201936397\"></p>\n<h1 id=\"å‚è€ƒ\"><a class=\"markdownIt-Anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC80MjQ1M2FmMDg1M2Q=\">GitHub Actions éƒ¨ç½² Hexo å°ç»“</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dic3UyMDA0L2FydGljbGUvZGV0YWlscy8xMjI2NjExMTY=\">ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3JlYWQvY3YxMDAxNjA2Mi8=\">åˆ©ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢ å…¨è‡ªåŠ¨è¿è¡Œ</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4Njc5ODgxL2FydGljbGUvZGV0YWlscy8xMjI3MzAwNjU=\">å°† Hexo æ­å»ºåˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š</span></p>\n",
            "tags": [
                "Hexo"
            ]
        },
        {
            "id": "https://blog.dabing.cool/springcloud/springcloud/",
            "url": "https://blog.dabing.cool/springcloud/springcloud/",
            "title": "SpringCloud",
            "date_published": "2022-04-30T12:46:25.000Z",
            "content_html": "<p>ä½œè€…ï¼šdabingï¼ˆç‹ç”œç”œï¼‰</p>\n<p>è§†é¢‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMThFNDExeDdlVD9wPTE=\">å°šç¡…è°· 2020 å‘¨é˜³ SpringCloudï¼ˆH ç‰ˆ &amp; alibabaï¼‰</span></p>\n<p>ä»£ç å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2OTAzMjYxL2FydGljbGUvZGV0YWlscy8xMDY1NTExMjA=\">https://blog.csdn.net/qq_36903261/article/details/106551120</span></p>\n<p>è¿™ä¸ªåŒå­¦çš„ç¬”è®°æ˜¯çœŸçš„å®Œæ•´å¾—å¾ˆï¼ï¼ï¼æ¨èå¤§å®¶ä¸€å®šè¦å»ç»™ä»–ç‚¹ä¸ªèµå“ˆå“ˆå“ˆå“ˆã€‚æˆ‘åªæ˜¯ä¸ºäº†ç»™è‡ªå·±å¥½å¤ä¹ ï¼Œä¹Ÿåšä¸€ä»½ç½¢äº†ã€‚</p>\n<p>github ä¸Šä»£ç åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RhYmluZzg1L3NwcmluZ2Nsb3VkMjAyMA==\">https://github.com/dabing85/springcloud2020</span></p>\n<p>gitee ä¸Šä»£ç åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vaGVkYWJpbmcvc3ByaW5nY2xvdWQyMDIw\">https://gitee.com/hedabing/springcloud2020</span></p>\n<h1 id=\"ä¸€-springcloudç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#ä¸€-springcloudç®€ä»‹\">#</a> ä¸€ã€SpringCloud ç®€ä»‹</h1>\n<p>Spring Cloud å®˜æ–¹æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC5zcHJpbmcuaW8vc3ByaW5nLWNsb3VkLXN0YXRpYy9Ib3h0b24uU1I1L3JlZmVyZW5jZS9odG1sc2luZ2xlLw==\">https://cloud.spring.io/spring-cloud-static/Hoxton.SR5/reference/htmlsingle/</span></p>\n<p>springcloud ä¸­æ–‡æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc3ByaW5nY2xvdWQuY2Mv\">https://www.springcloud.cc/</span></p>\n<p>springcloud ä¸­å›½ç¤¾åŒºæ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9va3N0YWNrLmNuL3JlYWQvc3ByaW5nLWNsb3VkLWRvY3MvZG9jcy1pbmRleC5tZA==\">https://www.bookstack.cn/read/spring-cloud-docs/docs-index.md</span></p>\n<p>Spring Cloud æ˜¯ä¸€ç³»åˆ—æ¡†æ¶çš„æœ‰åºé›†åˆã€‚å®ƒåˆ©ç”¨ Spring Boot çš„å¼€å‘ä¾¿åˆ©æ€§å·§å¦™åœ°ç®€åŒ–äº†åˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€è®¾æ–½çš„å¼€å‘ã€‚å¦‚æœåŠ¡æ³¨å†Œå‘ç°ã€é…ç½®ä¸­å¿ƒã€æ¶ˆæ¯æ€»çº¿ã€è´Ÿè½½å‡è¡¡ã€æ–­è·¯å™¨ã€æ•°æ®ç›‘æ§ç­‰ç­‰ã€‚éƒ½å¯ä»¥ç”¨ Spring Boot çš„å¼€å‘é£æ ¼åšåˆ°ä¸€é”®å¯åŠ¨å’Œéƒ¨ç½²ã€‚</p>\n<p>Spring Cloud å¹¶æ²¡æœ‰é‡å¤é€ è½®å­ï¼Œå®ƒçŸ¥è¯†å°†å„å®¶å…¬å¸å¼€å‘çš„æ¯”è¾ƒæˆç†Ÿçš„ã€ç»å¾—ä½å®é™…è€ƒç ”çš„æœåŠ¡æ¡†æ¶ç»“åˆèµ·æ¥ï¼Œé€šè¿‡ Spring Boot é£æ ¼è¿›è¡Œå†å°è£…å±è”½æ‰äº†å¤æ‚çš„é…ç½®å’Œå®ç°åŸç†ï¼Œæœ€ç»ˆç»™å¼€å‘è€…ç•™å‡ºäº†ä¸€å¥—ç®€å•æ˜“æ‡‚ã€æ˜“éƒ¨ç½²å’Œæ˜“ç»´æŠ¤çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘å·¥å…·åŒ…ã€‚</p>\n<p>Spring Cloud ä¸“æ³¨äºä¸ºå…¸å‹çš„ç”¨ä¾‹å’Œæ‰©å±•æœºåˆ¶æä¾›è‰¯å¥½çš„å¼€ç®±å³ç”¨ä½“éªŒï¼Œä»¥æ¶µç›–å…¶ä»–æƒ…å†µã€‚</p>\n<p><strong>Spring Cloud = åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼Œæ˜¯å¤šç§å¾®æœåŠ¡æ¶æ„è½åœ°æŠ€æœ¯çš„é›†åˆä½“ï¼Œä¿—ç§°å…¨å®¶æ¡¶ã€‚</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651589111001-8f8eb9d4-24a4-4b1f-8671-730a4762c7c4.png\" alt=\"img\"></p>\n<p>é‚£è¿™ä¸ª SpringCloud å…¨å®¶æ¡¶åˆ°åº•æœ‰å¤šå°‘æŠ€æœ¯å‘¢ï¼Ÿçœ‹çœ‹å®˜ç½‘çš„æˆªå›¾ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651589391868-2d5dad76-0865-4311-ab1b-6424c4fc83d9.png\" alt=\"img\"></p>\n<p>æˆ‘ä»¬çœ‹çœ‹ä¸€äº›å¤§å‚çš„é¡¹ç›®æ¶æ„ï¼š</p>\n<p>äº¬ä¸œçš„ä¿ƒé”€èŠ‚æ¶æ„ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651590026117-dddc2303-6ed8-462d-b80f-42f37240b803.png\" alt=\"img\"></p>\n<p>é˜¿é‡Œçš„æ¶æ„ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651590033301-0f82d685-1357-44b8-b31f-c447dc73592b.png\" alt=\"img\"></p>\n<p>äº¬ä¸œç‰©æµçš„æ¶æ„ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651590100019-619dc4b8-e8e1-4363-9035-64b21df80c63.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651590123444-30d405a3-8ceb-45a8-abb1-f61f35165698.png\" alt=\"img\"></p>\n<p>å„ç§æŠ€æœ¯æ ˆåŠŸèƒ½ä»‹ç»:</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651590148549-848f829b-ed03-42d1-9b8c-5079e421660e.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651590170387-597eb9fc-af8c-4461-8862-c9cdf2d2078f.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651590180237-5f58ac77-4e97-484c-881a-a2b740812ab9.png\" alt=\"img\"></p>\n<p>å…ˆå·®ä¸å¤šè„¸ç†Ÿä¸€ä¸‹ä¸Šé¢çš„æŠ€æœ¯æ ˆ</p>\n<h1 id=\"äºŒ-å…³äºç‰ˆæœ¬çš„è¯´æ˜\"><a class=\"markdownIt-Anchor\" href=\"#äºŒ-å…³äºç‰ˆæœ¬çš„è¯´æ˜\">#</a> äºŒã€å…³äºç‰ˆæœ¬çš„è¯´æ˜</h1>\n<ol>\n<li><strong>Spring Boot çš„ç‰ˆæœ¬ï¼š</strong></li>\n</ol>\n<p>Spring Boot çš„ git æºç åœ°å€ï¼šhttps:github.com/spring-projects/spring-boot/releases/</p>\n<p>Spring Boot çš„æ–‡æ¡£è¯´æ˜å®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zcHJpbmcuaW8vcHJvamVjdHMvc3ByaW5nLWJvb3Q=\">https://spring.io/projects/spring-boot</span></p>\n<p>æˆªè‡³ 2022/5/3 çš„æœ€æ–°ç‰ˆæœ¬ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651591042538-4336fc57-c06b-4ae5-a6c9-73b5b89b5275.png\" alt=\"img\"></p>\n<ol>\n<li><strong>Spring Cloud çš„ç‰ˆæœ¬ï¼š</strong></li>\n</ol>\n<p>Spring Cloud çš„ git æºç åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NwcmluZy1jbG91ZC9zcHJpbmctY2xvdWQtcmVsZWFzZS93aWtp\">https://github.com/spring-cloud/spring-cloud-release/wiki</span></p>\n<p>Spring Cloud çš„å®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zcHJpbmcuaW8vcHJvamVjdHMvc3ByaW5nLWNsb3Vk\">https://spring.io/projects/spring-cloud</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651591437509-17fcd643-07a8-4f61-862d-4770c6058198.png\" alt=\"img\"></p>\n<p>Spring Cloud æ˜¯ä»¥å­—æ¯åšä¸ºç‰ˆæœ¬å£°æ˜çš„ï¼Œç°åœ¨éƒ½å·²ç»åˆ° K ç‰ˆæœ¬äº†ï¼Œå‘¨é˜³è¯¾ç¨‹é‡Œæ‰€ç”¨çš„æ˜¯ H ç‰ˆæœ¬ã€‚ä¸ºäº†é¿å…ä¸€äº›å‘ï¼Œä¹‹åçš„ç»ƒä¹ ä¹Ÿä¼šå…ˆä½¿ç”¨ H ç‰ˆæœ¬æ¥è¿›è¡Œç»ƒä¹ å…¥é—¨ã€‚ğŸ¸</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651591907468-2f7cb825-0c17-403b-9cda-dc9b5b952d2a.png\" alt=\"img\"></p>\n<ol>\n<li><strong>Spring Cloud å’Œ Spring Boot ä¹‹é—´çš„ç‰ˆæœ¬ä¾èµ–ï¼š</strong></li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651591881328-99fbb0e6-9383-45bd-a8f9-004a27319138.png\" alt=\"img\"></p>\n<p>å‰é¢é‚£ä¸²è‹±æ–‡é¸¡è‚ çš„æ„æ€å°±æ˜¯è¯´ï¼Œä»¥ä½ å½“å‰ä½¿ç”¨çš„ Spring Cloud ç‰ˆæœ¬æ¥å†³å®šä½ ä½¿ç”¨çš„ Spring boot ç‰ˆæœ¬ã€‚ğŸ¦¤</p>\n<p>æ›´è¯¦ç»†çš„è¯´æ˜ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zdGFydC5zcHJpbmcuaW8vYWN0dWF0b3IvaW5mbw==\">https://start.spring.io/actuator/info</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651593583399-9a46b176-fd01-4e64-9d6f-d450ad4531b5.png\" alt=\"img\"></p>\n<p>ä¸€å¤§ä¸²çš„ï¼Œèƒ½çœ‹æ‡‚çš„ä¹Ÿæ˜¯ä¸ªç¥ä»™äº†ï¼Œå¯ä»¥ç”¨ json ä¸²è½¬æ¢å·¥å…·ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3Rvb2wubHU=\">tool.lu</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651594018282-92ee65c2-b91f-425a-9606-594aa6749328.png\" alt=\"img\"></p>\n<p>å¦‚ 2022.0.0-M2 ç‰ˆæœ¬çš„ SpringCloud å¯¹åº”çš„ SpringBoot ç‰ˆæœ¬è¦åœ¨ 3.0.0-M2 å’Œ 3.1.0-M1 ä¹‹é—´</p>\n<ol>\n<li><strong>é˜³å“¥ç»ƒä¹ ç‰ˆæœ¬ï¼š</strong></li>\n</ol>\n<p>cloud - Hoxton.SR1</p>\n<p>boot - 2.2.RELEASE</p>\n<p>cloud - alibaba 2.1.0.RELEASE</p>\n<p>java - Java8</p>\n<p>maven - 3.5 åŠä»¥ä¸Š</p>\n<h1 id=\"ä¸‰-å…³äºcloudå„ç§ç»„ä»¶çš„åœæ›´å‡çº§æ›¿æ¢\"><a class=\"markdownIt-Anchor\" href=\"#ä¸‰-å…³äºcloudå„ç§ç»„ä»¶çš„åœæ›´å‡çº§æ›¿æ¢\">#</a> ä¸‰ã€å…³äº Cloud å„ç§ç»„ä»¶çš„åœæ›´ / å‡çº§ / æ›¿æ¢</h1>\n<p>æˆªè‡³ 2020 å¹´ï¼šé‡ç‚¹å­¦ä¹ æ¡†å‡ºæ¥çš„æŠ€æœ¯</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651594917880-6d39a7ce-e4aa-43c9-9745-41639491396c.png\" alt=\"img\"></p>\n<h1 id=\"å››-å¾®æœåŠ¡æ¶æ„ç¼–ç -æ„å»º\"><a class=\"markdownIt-Anchor\" href=\"#å››-å¾®æœåŠ¡æ¶æ„ç¼–ç -æ„å»º\">#</a> å››ã€å¾®æœåŠ¡æ¶æ„ç¼–ç  æ„å»º</h1>\n<p>è¿™ä¸ªå°±è·Ÿ spring boot ä¸€æ ·çš„å•¦å°±æ˜¯æ­ä¸€ä¸ªæ¶å­å‡ºæ¥å…ˆï¼Œä½ åé¢å¢åŠ å•¥æœåŠ¡å°±ä¸€æ ·å¢åŠ ï¼ŒæœåŠ¡å¤šäº†æ³¨å†Œï¼Œå¤šäº†é›†ç¾¤ï¼Œæœ‰å•¥å¼‚å¸¸çš„è¯æœ‰ç›¸åº”å¤„ç†ç­‰ç­‰å•Šï¼Œç„¶åç»™è°ƒç”¨æ–¹è°ƒç”¨ä½ è¿™äº›æœåŠ¡ã€‚å·´æ‹‰å·´æ‹‰çš„ï½ï½</p>\n<p><strong>çº¦å®š &gt; é…ç½® &gt; ç¼–ç </strong></p>\n<p>å› æ­¤ä¸€å®šè¦æŠŠä¸€äº›é€‰å‹å®šå¥½ï¼ŒæŠŠé…ç½®é…å¥½ï¼Œèƒ½é€šå†è¿›è¡Œç¼–ç </p>\n<p>è¿™é‡Œå…ˆåˆ›å»ºä¸€ä¸ªçˆ¶å·¥ç¨‹ï¼ŒæŠŠè¯¥è°ƒå¥½çš„éƒ½è°ƒå¥½ï¼Œåé¢çš„ç»ƒä¹ éƒ½åœ¨è¿™ä¸ªçˆ¶å·¥ç¨‹ä¸‹å»º module</p>\n<p><strong>çˆ¶å·¥ç¨‹æ­¥éª¤ï¼š</strong></p>\n<blockquote>\n<ol>\n<li>New Project</li>\n<li>èšåˆæ€»çˆ¶å·¥ç¨‹åå­—</li>\n<li>Maven é€‰ç‰ˆæœ¬</li>\n<li>å·¥ç¨‹åå­—</li>\n<li>å­—ç¬¦ç¼–ç </li>\n<li>æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»</li>\n<li>java ç¼–è¯‘ç‰ˆæœ¬é€‰ 8</li>\n<li>File Type è¿‡æ»¤</li>\n</ol>\n</blockquote>\n<p>å¯ä»¥é€šè¿‡ç›®å½•é€‰æ‹©æ€§çš„è·³è¿‡ï½ï½ï½</p>\n<h2 id=\"1-åˆ›å»ºçˆ¶å·¥ç¨‹\"><a class=\"markdownIt-Anchor\" href=\"#1-åˆ›å»ºçˆ¶å·¥ç¨‹\">#</a> 1 - åˆ›å»ºçˆ¶å·¥ç¨‹</h2>\n<ol>\n<li>æ–°å»ºä¸€ä¸ªçˆ¶å·¥ç¨‹ï¼š</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651828528424-415c3741-77ac-4333-b725-f3b029f1791b.png\" alt=\"img\"></p>\n<ol>\n<li>ç»™ä»–èµ·ä¸ªåå­—ï¼š</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651828577715-12621dd6-bbad-4929-a79d-ce2ef5ad08bc.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li>é€‰æ‹©å¯¹åº”çš„ maven ç‰ˆæœ¬å’Œæœ¬åœ°çš„ä»“åº“è®¾ç½®</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651828630291-601361a2-b76b-4ccd-a1f3-603a4a0093f6.png\" alt=\"img\"></p>\n<ol start=\"3\">\n<li>ä¿®æ”¹ç¼–ç æ ¼å¼</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651828941509-92458d20-4863-4248-b4a5-71a85f9b482b.png\" alt=\"img\"></p>\n<ol start=\"4\">\n<li>å¼€å¯æ”¯æŒæ³¨è§£</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651828956043-e6ed4362-c3b1-4424-8ea4-96bee13241ab.png\" alt=\"img\"></p>\n<ol start=\"5\">\n<li>File Types è¿‡æ»¤ï¼ŒæŠŠ.deal æ–‡ä»¶è¿‡æ»¤æ‰</li>\n</ol>\n<p>åŠ ä¸Šä¹‹åä¸»é¡µå°±çœ‹ä¸åˆ°.idea æ–‡ä»¶äº†ï¼Œçœ‹ç€ç¡®å®æ¸…çˆ½ä¸€äº›</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651829142515-df411f14-f5ec-4b31-ade6-c6556d7b82a1.png\" alt=\"img\"></p>\n<ol start=\"6\">\n<li>æŠŠç”¨ä¸ä¸Šçš„æ–‡ä»¶åˆ æ‰ï¼Œçˆ¶å·¥ç¨‹ä¸å†™ä»£ç ï¼Œåˆ æ‰ src</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651829254991-a73066ce-a3d2-4209-a34a-3b94f5d48bdd.png\" alt=\"img\"></p>\n<ol start=\"7\">\n<li>æ”¹ pom</li>\n</ol>\n<p>å°†çˆ¶å·¥ç¨‹æ‰“åŒ…æˆ pom ç±»å‹</p>\n<p>è‡³äºä¸ºå•¥ï¼Œå¯ä»¥å‚è€ƒä¸‹è¿™ç¯‡æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2Vuc2VuaC9wLzE1MTI2NzE1Lmh0bWw=\">https://www.cnblogs.com/sensenh/p/15126715.html</span></p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>packaging</span><span class=\"token punctuation\">></span></span>pom<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>packaging</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651829398943-f6a46865-c101-4323-a8a4-688b0b1a1b64.png\" alt=\"img\"></p>\n<p>åé¢é‚£å †æ²¡å•¥ç”¨çš„å¯ä»¥åˆ æ‰ï¼Œæ¢æˆæˆ‘ä»¬è‡ªå·±éœ€è¦çš„ä¾èµ–ï¼š</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- ç»Ÿä¸€ç®¡ç† jar åŒ…ç‰ˆæœ¬ --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>project.build.sourceEncoding</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>project.build.sourceEncoding</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>junit.version</span><span class=\"token punctuation\">></span></span>4.12<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>junit.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>lombok.version</span><span class=\"token punctuation\">></span></span>1.18.10<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>lombok.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>log4j.version</span><span class=\"token punctuation\">></span></span>1.2.17<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>log4j.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mysql.version</span><span class=\"token punctuation\">></span></span>8.0.18<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mysql.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>druid.version</span><span class=\"token punctuation\">></span></span>1.1.20<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>druid.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mybatis.spring.boot.version</span><span class=\"token punctuation\">></span></span>1.3.2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mybatis.spring.boot.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token comment\">&lt;!-- å­æ¨¡å—ç»§æ‰¿ä¹‹åï¼Œæä¾›ä½œç”¨ï¼šé”å®šç‰ˆæœ¬ + å­ module ä¸ç”¨å†™ groupId å’Œ version--></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencyManagement</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token comment\">&lt;!--spring boot 2.2.2--></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-dependencies<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.2.2.RELEASE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>type</span><span class=\"token punctuation\">></span></span>pom<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>type</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>import<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token comment\">&lt;!--spring cloud Hoxton.SR1--></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.cloud<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-cloud-dependencies<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>Hoxton.SR1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>type</span><span class=\"token punctuation\">></span></span>pom<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>type</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>import<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>      <span class=\"token comment\">&lt;!--spring cloud alibaba--></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>com.alibaba.cloud<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-cloud-alibaba-dependencies<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.1.0.RELEASE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>type</span><span class=\"token punctuation\">></span></span>pom<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>type</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>import<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      <span class=\"token comment\">&lt;!--mysql--></span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>mysql<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>mysql-connector-java<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;mysql.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>runtime<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>      <span class=\"token comment\">&lt;!-- druid--></span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>com.alibaba<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>druid-spring-boot-starter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;druid.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>      <span class=\"token comment\">&lt;!--mybatis--></span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.mybatis.spring.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>mybatis-spring-boot-starter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;mybatis.spring.boot.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>      <span class=\"token comment\">&lt;!--junit--></span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>junit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>junit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;junit.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>      <span class=\"token comment\">&lt;!--log4j--></span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>log4j<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>log4j<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;log4j.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencyManagement</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-maven-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fork</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>fork</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>addResources</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>addResources</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre></pre></td></tr><tr><td data-num=\"90\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>project</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>è¿™é‡Œï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651829729934-8af9661e-e694-4f88-9853-e18339a107d7.png\" alt=\"img\"></p>\n<p>æˆ‘çš„çˆ†çº¢äº†ï¼Œè¯´æ˜¯æ‰¾ä¸åˆ°è¿™ä¸ªç‰ˆæœ¬çš„ä¾èµ–ï¼Œæˆ‘å°±æ¢äº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œæœ‰ä¸€ä¸ªæ¢äº†ä¸€ä¸ªç‰ˆæœ¬å°±è¡Œäº†ã€‚</p>\n<p>ä½†è¿™ä¸ªå¾·é²ä¼Šå¥½é¡½å¼ºï¼Œæ¢äº†å¥½å¤šä¸ªç‰ˆæœ¬éƒ½ä¸è¡Œï¼Œæˆ‘å°±è®©æœ‹å‹ç»™äº†ä¸€ä»½ jar æ”¾è¿›å»çš„ï¼Œåæ¥æˆ‘ä¸ç®¡ä»–ä»–å°±å¥½äº†ï¼Œå¾ˆå¥‡æ€ªã€‚ğŸ˜‘</p>\n<h2 id=\"2-mavenå·¥ç¨‹ç»†èŠ‚\"><a class=\"markdownIt-Anchor\" href=\"#2-mavenå·¥ç¨‹ç»†èŠ‚\">#</a> 2-Maven å·¥ç¨‹ç»†èŠ‚</h2>\n<ol>\n<li><strong>Maven ä¸­çš„ DependencyManagement å’Œ Dependenciesï¼š</strong></li>\n</ol>\n<p>Maven ä½¿ç”¨ dependencyManagement å…ƒç´ æ¥æä¾›äº†ä¸€ç§ç®¡ç†ä¾èµ–ç‰ˆæœ¬å·çš„æ–¹å¼ã€‚</p>\n<p>é€šå¸¸ä¼šåœ¨ä¸€ä¸ªç»„ç»‡æˆ–è€…é¡¹ç›®çš„æœ€é¡¶å±‚çš„ <code>çˆ¶POM</code>  ä¸­çœ‹åˆ° dependencyManagement å…ƒç´ ã€‚</p>\n<p>è¿™æ ·ä¸ç”¨åœ¨å¤šä¸ªå­é¡¹ç›®é‡Œé¢å£°æ˜å¤šæ¬¡ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œæƒ³ç»Ÿä¸€å‡çº§çš„è¯å°±å¯ä»¥ç›´æ¥åœ¨çˆ¶ pom é‚£ä¿®æ”¹å°±è¡Œäº†ã€‚</p>\n<p><strong>(å­é¡¹ç›®æŒ‡å®šç‰ˆæœ¬å°±ç”¨è‡ªå·±çš„ï¼Œä¸æŒ‡å®šå°±å¾€ä¸Šæ‰¾)</strong></p>\n<p>Maven ä¼šæ²¿ç€çˆ¶å­å±‚æ¬¡å‘ä¸Šèµ°ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæ‹¥æœ‰ dependencyManagement å…ƒç´ çš„é¡¹ç›®ï¼Œç„¶åå®ƒå°±ä¼šä½¿ç”¨è¿™ä¸ª dependencyManagement å…ƒç´ ä¸­æŒ‡å®šçš„ç‰ˆæœ¬å·ã€‚</p>\n<p>åƒä¸‹é¢è¿™æ ·ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651830751710-a3e5ca0a-1ce8-49bf-a596-6cad4fe2936e.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li><strong>maven ä¸­è·³è¿‡å•å…ƒæµ‹è¯•</strong></li>\n</ol>\n<p>ç‚¹è¿™ä¸ªå°é—ªç”µå°±å¯ä»¥å•¦</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651830861157-533dbab3-6eee-4367-b44d-bb72abeafb19.png\" alt=\"img\"></p>\n<h2 id=\"3-å­é¡¹ç›®-restå¾®æœåŠ¡å·¥ç¨‹æ­å»º\"><a class=\"markdownIt-Anchor\" href=\"#3-å­é¡¹ç›®-restå¾®æœåŠ¡å·¥ç¨‹æ­å»º\">#</a> 3 - å­é¡¹ç›® Rest å¾®æœåŠ¡å·¥ç¨‹æ­å»º</h2>\n<p>åˆ›å»º module äº”æ­¥ï¼š</p>\n<ol>\n<li><strong>å»º module</strong></li>\n<li><strong>æ”¹ pom</strong></li>\n<li><strong>å†™ yml</strong></li>\n<li><strong>ä¸»å¯åŠ¨</strong></li>\n<li><strong>ä¸šåŠ¡ç±»</strong>ï¼ˆè¿™é‡Œæ˜¯æˆ‘ä»¬ä¸€èˆ¬å¹³æ—¶å¹²çš„æ´»äº†ï¼Œå½“ç„¶åŒ…æ‹¬æ•°æ®åº“ã€dao å±‚ã€server å±‚ã€controller å±‚ç­‰å•¦ï½ï½ï¼‰</li>\n</ol>\n<p>æ¯ä¸€æ¬¡éƒ½è¿™ä¹ˆå¹²å°±è¡Œäº†</p>\n<h3 id=\"1-åˆ›å»º-cloud-provider-payment8001-å¾®æœåŠ¡æä¾›è€…moduleæ¨¡å—\"><a class=\"markdownIt-Anchor\" href=\"#1-åˆ›å»º-cloud-provider-payment8001-å¾®æœåŠ¡æä¾›è€…moduleæ¨¡å—\">#</a> 1. åˆ›å»º cloud-provider-payment8001 å¾®æœåŠ¡æä¾›è€… Module æ¨¡å—</h3>\n<p>è¿™ä¸ªæ¨¡å—å®ç°æ”¯ä»˜</p>\n<p><strong>ç¬¬ä¸€æ­¥ï¼šå»º module</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651831699278-3c0d11ec-72a8-438e-9cac-92083b2e54ed.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651831816043-004605bf-f915-4d59-9278-c2c334d5f8dc.png\" alt=\"img\"></p>\n<p><strong>ç¬¬äºŒæ­¥ï¼šæ”¹ pom</strong></p>\n<p>å…ˆçœ‹çœ‹çˆ¶ pom æœ‰ä»€ä¹ˆæ”¹å˜</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651843470984-d87ef766-2c0f-4aa7-9072-f49a9658915b.png\" alt=\"img\"></p>\n<p>æ”¹ pomï¼Œæ·»åŠ å­é¡¹ç›®æ‰€éœ€çš„ä¾èµ–</p>\n<p>spring bootã€mybatisã€druidã€jdbcã€mysqlã€devtoolsã€lombokâ€¦</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-web<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-actuator<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.mybatis.spring.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>mybatis-spring-boot-starter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>com.alibaba<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>druid-spring-boot-starter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>1.1.18<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å­å·¥ç¨‹å†™äº†ç‰ˆæœ¬å·ï¼Œå°±ä½¿ç”¨å­å·¥ç¨‹çš„ç‰ˆæœ¬å·ï¼Œå¦‚æœæ²¡å†™ç‰ˆæœ¬ï¼Œæ‰¾çˆ¶å·¥ç¨‹ä¸­è§„å®šçš„ç‰ˆæœ¬å· --></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">&lt;!--mysql-connector-java--></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>mysql<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>mysql-connector-java<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token comment\">&lt;!--jdbc--></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-jdbc<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token comment\">&lt;!-- çƒ­éƒ¨ç½² --></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-devtools<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>runtime<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>optional</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>optional</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.projectlombok<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>lombok<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>optional</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>optional</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p><strong>ç¬¬ä¸‰æ­¥ï¼šå†™ yml</strong></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#å¾®æœåŠ¡å»ºè®®ä¸€å®šè¦å†™æœåŠ¡ç«¯å£å·å’Œå¾®æœåŠ¡åç§°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token comment\">#ç«¯å£å·</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8001</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">#å¾®æœåŠ¡åç§°</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> cloud<span class=\"token punctuation\">-</span>payment<span class=\"token punctuation\">-</span>service</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token comment\">#æ•°æ®åº“é…ç½®</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> com.alibaba.druid.pool.DruidDataSource</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">#mysql5.x çš„æ²¡æœ‰ cj</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token key atrule\">driver-class-name</span><span class=\"token punctuation\">:</span> com.mysql.cj.jdbc.Driver</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">#è®°å¾—å…ˆåˆ›å»ºæ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>mysql<span class=\"token punctuation\">:</span>//localhost<span class=\"token punctuation\">:</span>3306/cloud2020<span class=\"token punctuation\">?</span>useUnicode=true<span class=\"token important\">&amp;characterEncoding=utf-8&amp;useSSL=false</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> root</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> root</pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">#mybatis é…ç½®</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token key atrule\">mybatis</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token key atrule\">mapper-locations</span><span class=\"token punctuation\">:</span> classpath<span class=\"token punctuation\">:</span>mapper/<span class=\"token important\">*.xml</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token key atrule\">type-aliases-package</span><span class=\"token punctuation\">:</span> com.dabing.springcloud.entities  <span class=\"token comment\">#æ‰€æœ‰ Entity åˆ«åç±»æ‰€åœ¨åŒ…</span></pre></td></tr></table></figure><p><strong>ç¬¬å››æ­¥ï¼šä¸»å¯åŠ¨ç±»</strong></p>\n<p>åœ¨ java æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºç±»ï¼šcom.dabing.springcloud.PaymentMain8001</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@SpringBootApplication</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentMain8001</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PaymentMain8001</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>ç¬¬äº”æ­¥ï¼šä¸šåŠ¡ç±»</strong></p>\n<ol>\n<li><strong>æ•°æ®åº“</strong></li>\n</ol>\n<p><strong>idea ä¸Šè¿æ¥ä¸€ä¸‹ mysql</strong></p>\n<p>è¾“å…¥è´¦æˆ·å¯†ç ï¼Œå¦‚ è´¦å· root å¯†ç  123456</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651845310071-65038235-0e1e-4374-a339-cec61ff59af3.png\" alt=\"img\"></p>\n<p><strong>å»ºè¡¨ï¼š</strong></p>\n<p>è¿ä¸Šä¹‹åå³é”®</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651845857843-cdae7948-cd2f-4c92-a784-04edccf6ffa3.png\" alt=\"img\"></p>\n<p>åœ¨ console çª—å£å†™ sql è¯­å¥</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">drop</span> <span class=\"token keyword\">database</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> cloud2020 <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">database</span> cloud2020<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">use</span> cloud2020<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> payment<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>payment<span class=\"token punctuation\">`</span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">BIGINT</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'è®¢å•å·'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token identifier\"><span class=\"token punctuation\">`</span>serial<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'è®¢å•æµæ°´'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">INNODB</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> payment<span class=\"token punctuation\">(</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>serial<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"652916232232\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>å…¨éƒ¨é€‰ä¸­æ‰§è¡Œï¼Œå³å¯</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651846485148-619348f7-15bd-432d-a22d-d917fbdf44a7.png\" alt=\"img\"></p>\n<p>å‘ï¼Œæ‰§è¡Œä¹‹åå°±æœ‰æ•°æ®å•¦ï½ï½</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651846508672-28c143ca-c444-445f-8c28-4cca7f849f83.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li><strong>entities å®ä½“ç±»</strong></li>\n</ol>\n<p>ç¬¬ä¸€ä¸ªè¡¨çš„å®ä½“ç±» Payment</p>\n<p>ç¬¬äºŒä¸ªéœ€è¦æœ‰è¿”å›çš„ç»Ÿä¸€çš„ç±» CommonResultï¼ˆjson å°è£…ä½“ï¼Œä¼ ç»™å‰ç«¯çš„ï¼‰<br>\nåœ¨ springcloud åŒ…ä¸‹æ–°å»ºå®ä½“ç±» entities.Payment å’Œ CommonResult</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// è¿™ä¸‰ä¸ªæ³¨è§£æ˜¯ lombok çš„ï¼Œé™¤äº†å¯¼å…¥ä¾èµ–ï¼Œidea è¿˜éœ€è¦å®‰è£…æ’ä»¶ï¼ˆå…·ä½“æ“ä½œé—®åº¦å¨˜ï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Data</span>   <span class=\"token comment\">//set/get æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token annotation punctuation\">@AllArgsConstructor</span> <span class=\"token comment\">// æœ‰å‚æ„é€ å™¨</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token annotation punctuation\">@NoArgsConstructor</span>  <span class=\"token comment\">// æ— å‚æ„é€ å™¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Payment</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">long</span> serialVersionUID <span class=\"token operator\">=</span> <span class=\"token number\">1L</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> serial<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// è¿”å›ç»™å‰ç«¯çš„é€šç”¨ json æ•°æ®ä¸²</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@Data</span>   <span class=\"token comment\">//set/get æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@AllArgsConstructor</span> <span class=\"token comment\">// æœ‰å‚æ„é€ å™¨</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@NoArgsConstructor</span>  <span class=\"token comment\">// æ— å‚æ„é€ å™¨</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CommonResult</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Integer</span> code<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> message<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">T</span> data<span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ³›å‹ï¼Œå¯¹åº”ç±»å‹çš„ json æ•°æ®</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">// è‡ªå®šä¹‰ä¸¤ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">// å½“è¿”å›æ•°æ®é”™è¯¯æ—¶ï¼Œdata å¯ä»¥ä¸ºç©º</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> code<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>dao</strong></li>\n</ol>\n<p>åœ¨ springcloud åŒ…ä¸‹æ–°å»º Dao.PaymentDao æ¥å£</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Mapper</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">PaymentDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">// å¢</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">int</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Payment</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// æŸ¥     åŠ ä¸Š @Param æ³¨è§£ï¼Œmapper ä¸­å°±å¯ä»¥é‡‡ç”¨ #&#123;&#125; çš„æ–¹å¼æŠŠ @Param æ³¨è§£æ‹¬å·å†…çš„å‚æ•°è¿›è¡Œå¼•ç”¨</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\">Payment</span> <span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// è¿™é‡Œç”¨å¢å’ŒæŸ¥è¿›è¡Œæ¼”ç¤ºï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±åŠ å…¶ä»–çš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"4\">\n<li><strong>mapper</strong></li>\n</ol>\n<p>åœ¨ resources ç›®å½•ä¸‹æ–°å»º mapper ç›®å½•ï¼Œç„¶åæ–°å»º PaymentMapper.xml</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">mapper</span> <span class=\"token name\">PUBLIC</span> <span class=\"token string\">\"-//mybatis.org//DTD Mapper 3.0//EN\"</span> <span class=\"token string\">\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mapper</span> <span class=\"token attr-name\">namespace</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.dabing.springcloud.Dao.PaymentDao<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>resultMap</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>BaseResultMap<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.angenin.springcloud.entities.Payment<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span> <span class=\"token attr-name\">column</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">property</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">jdbcType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>BIGINT<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span> <span class=\"token attr-name\">column</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>serial<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">property</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>serial<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">jdbcType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>VARCHAR<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>resultMap</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">&lt;!--  å¢  --></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">&lt;!--  Payment æ ‡çº¢äº†ä¸ç”¨ç®¡ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åœ¨ yml æ–‡ä»¶ä¸­æŒ‡å®šäº† Payment çš„ä½ç½®äº†  --></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>insert</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>create<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">parameterType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Payment<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">useGeneratedKeys</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">keyProperty</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        insert into payment(serial)values(#&#123;serial&#125;);</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>insert</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">&lt;!--  æŸ¥  --></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">&lt;!-- è¿”å›ç”¨ resultMapï¼Œé˜²æ­¢å‘½åä¸è§„èŒƒ --></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>getPaymentById<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">parameterType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Long<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultMap</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>BaseResultMap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        select * from payment where id=#&#123;id&#125;;</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mapper</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ol start=\"5\">\n<li><strong>service</strong></li>\n</ol>\n<p>åœ¨ springcloud åŒ…ä¸‹æ–°å»º service.PaymentService æ¥å£</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">PaymentService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Payment</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token class-name\">Payment</span> <span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>åœ¨ service åŒ…ä¸‹æ–°å»º impl.PaymentServiceIpml å®ç°ç±»</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Service</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentServiceIpml</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">PaymentService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span>   <span class=\"token comment\">//@Autowired ä¹Ÿå¯ä»¥</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PaymentDao</span> paymentDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Payment</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">return</span> paymentDao<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Payment</span> <span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">return</span> paymentDao<span class=\"token punctuation\">.</span><span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"6\">\n<li><strong>controller</strong></li>\n</ol>\n<p>åœ¨ springcloud åŒ…ä¸‹æ–°å»º controller.PaymentController</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span>  <span class=\"token comment\">// æ—¥å¿—</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PaymentService</span> paymentService<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// å‰åç«¯åˆ†ç¦»ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è¿”å›å¯¹è±¡ï¼Œæ•°æ®è¦å…ˆç»è¿‡ CommonResult å°è£…å†è¿”å›</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/payment/create\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CommonResult</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">Payment</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">int</span> result <span class=\"token operator\">=</span> paymentService<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"******æ’å…¥çš„æ•°æ®ä¸ºï¼š\"</span> <span class=\"token operator\">+</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"******æ’å…¥ç»“æœï¼š\"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>result <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token comment\">// æ’å…¥æˆåŠŸ</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æ’å…¥æ•°æ®åº“æˆåŠŸ\"</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">(</span><span class=\"token number\">444</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æ’å…¥æ•°æ®åº“å¤±è´¥\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/payment/get/&#123;id&#125;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CommonResult</span> <span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">Payment</span> payment <span class=\"token operator\">=</span> paymentService<span class=\"token punctuation\">.</span><span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"******æŸ¥è¯¢ç»“æœï¼š\"</span> <span class=\"token operator\">+</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>payment <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token comment\">// æŸ¥è¯¢æˆåŠŸ</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æŸ¥è¯¢æˆåŠŸ\"</span><span class=\"token punctuation\">,</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">(</span><span class=\"token number\">444</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æ²¡æœ‰å¯¹åº”è®°å½•ï¼ŒæŸ¥è¯¢IDï¼š\"</span> <span class=\"token operator\">+</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"7\">\n<li><strong>æµ‹è¯•</strong></li>\n</ol>\n<p>å¯åŠ¨ä¸‹ä¸»å¯åŠ¨ç±»ï¼šæŸé—®é¢˜</p>\n<p>get è¯·æ±‚ <code>http://localhost:8001/payment/get/1</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651849111872-c70cbe54-7a79-4590-a9da-58095e7d452b.png\" alt=\"img\"></p>\n<p>å› ä¸ºæµè§ˆå™¨ä¸€èˆ¬ä¸æ”¯æŒç›´æ¥å‘é€ post è¯·æ±‚ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä½¿ç”¨å·¥å…·è¿›è¡Œæµ‹è¯•ã€‚(å¦‚ jmeterã€postmanï¼ˆå›¾å½¢åŒ–ï¼‰ã€curlï¼ˆå‘½ä»¤ï¼‰ç­‰)</p>\n<p>æˆ‘è¿™é‡Œç”¨çš„ postmanï¼Œä½†æˆ‘æ²¡ç”¨è¿‡ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzYxODQzODc0L2FydGljbGUvZGV0YWlscy8xMjMzMjQ3Mjc=\">https://blog.csdn.net/m0_61843874/article/details/123324727</span></p>\n<p>æµ‹è¯• GET è¯·æ±‚ï¼š <code>http://localhost:8001/payment/get/1</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651849806117-92412fd8-2481-4745-ac30-5239e581af78.png\" alt=\"img\"></p>\n<p>æµ‹è¯• POST è¯·æ±‚ï¼š <code>localhost:8001/payment/create</code></p>\n<p>æ­¥éª¤ï¼š<br>\n1ã€é€‰æ‹©è¯·æ±‚çš„æ–¹å¼<br>\n 2ã€å¡«å†™è¯·æ±‚çš„ URL åœ°å€<br>\n 3ã€é€‰æ‹© Body é¢æ¿å¹¶å‹¾é€‰æ•°æ®æ ¼å¼<br>\n 4ã€å¡«å†™è¦å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®<br>\n 5ã€ç‚¹å‡» Send æŒ‰é’®å‘èµ· POST è¯·æ±‚<br>\n 6ã€æŸ¥çœ‹æœåŠ¡å™¨å“åº”çš„ç»“æœ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651850208898-85ea9506-29bf-48c5-b532-74e8e89d9737.png\" alt=\"img\"></p>\n<h3 id=\"2-çƒ­éƒ¨ç½²devtools\"><a class=\"markdownIt-Anchor\" href=\"#2-çƒ­éƒ¨ç½²devtools\">#</a> 2. çƒ­éƒ¨ç½² Devtools</h3>\n<p>ä½¿ç”¨çƒ­éƒ¨ç½²è®©æˆ‘ä»¬æ¯æ¬¡æ”¹åŠ¨ä»£ç çš„æ—¶å€™ä¸ç”¨é‡å¯é¡¹ç›®ã€‚æ–¹ä¾¿è°ƒè¯•</p>\n<p>ä½†æ˜¯è¿™ä¸ªå°±åœ¨å¼€å‘é˜¶æ®µç”¨å°±å¥½äº†ã€‚</p>\n<ol>\n<li>Adding devtools to your project</li>\n</ol>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-devtools<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>runtime<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>optional</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>optional</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ol start=\"2\">\n<li>Adding plugin to your pom.xml</li>\n</ol>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fileName</span><span class=\"token punctuation\">></span></span>ä½ è‡ªå·±çš„å·¥ç¨‹åå­—<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fileName</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-maven-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fork</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>fork</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>addResources</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>addResources</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ol start=\"3\">\n<li>Enabling automatic build</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651914399375-4dc10021-eb1a-44e0-b3f3-a87b2c6bb3bf.png\" alt=\"img\"></p>\n<ol start=\"5\">\n<li>Update the value of</li>\n</ol>\n<p>æŒ‰ <code>ctrl+shift+Alt+/ </code> è¿›å…¥  <code>Registry</code> <img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651914853068-ed738339-9926-4cbb-b943-2a607e01c04b.png\" alt=\"img\"></p>\n<p>æˆ‘è¿™è¾¹æ‰¾ä¸åˆ°é‚£ä¸ª compiler.automakeâ€¦ é‚£ä¸ªï¼Œç„¶åå¥½åƒä¹Ÿå¯ä»¥æ­£å¸¸è¯¶ã€‚</p>\n<ol start=\"6\">\n<li>é‡å¯ idea</li>\n</ol>\n<p>æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨ä»£ç é‡Œæ·»åŠ å­—æ®µï¼Œä¸ç”¨é‡å¯ï¼Œä»£ç å†…å®¹ç”Ÿæ•ˆ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651914817005-795f9cc8-9ed3-4365-8daf-9c1ef1c701b4.png\" alt=\"img\"></p>\n<h3 id=\"3-åˆ›å»º-cloud-consumer-order80-å¾®æœåŠ¡æ¶ˆè´¹è€…è®¢å•moduleæ¨¡å—\"><a class=\"markdownIt-Anchor\" href=\"#3-åˆ›å»º-cloud-consumer-order80-å¾®æœåŠ¡æ¶ˆè´¹è€…è®¢å•moduleæ¨¡å—\">#</a> 3. åˆ›å»º  cloud-consumer-order80  å¾®æœåŠ¡æ¶ˆè´¹è€…è®¢å• Module æ¨¡å—</h3>\n<p>è·Ÿä¸Šè¾¹ä¸€æ ·çš„ï¼Œè¿˜æ˜¯é‚£äº”æ­¥ï¼Œå†æ¥ä¸€éï¼š1. å»º module  2. æ”¹ pom   3. å†™ yml   4. ä¸»å¯åŠ¨   5. ä¸šåŠ¡ç±»</p>\n<p>è¿™é‡Œè¦è¯´ä¸‹ä¸ºå•¥ä½¿ç”¨ 80 ç«¯å£å‘¢ï¼Ÿ</p>\n<p><strong>80 ç«¯å£</strong>æ˜¯ä¸º HTTPï¼ˆHyperText Transport Protocol) å³è¶…æ–‡æœ¬ä¼ è¾“åè®®å¼€æ”¾çš„ï¼Œæ­¤ä¸ºä¸Šç½‘å†²æµªä½¿ç”¨æ¬¡æ•°æœ€å¤šçš„åè®®ï¼Œä¸»è¦ç”¨äº WWWï¼ˆWorld Wide Webï¼‰å³ä¸‡ç»´ç½‘ä¼ è¾“ä¿¡æ¯çš„åè®®ã€‚</p>\n<p>å¯ä»¥é€šè¿‡ HTTP åœ°å€ï¼ˆå³å¸¸è¯´çš„ â€œç½‘å€â€ï¼‰åŠ  **â€œ: 80â€<strong> æ¥è®¿é—®ç½‘ç«™ï¼Œå› ä¸ºæµè§ˆç½‘é¡µæœåŠ¡</strong>é»˜è®¤çš„ç«¯å£å· ** éƒ½æ˜¯ 80ï¼Œå› æ­¤åªéœ€è¾“å…¥ç½‘å€å³å¯ï¼Œ<strong>ä¸ç”¨è¾“å…¥ â€œ: 80â€ äº†</strong>ã€‚</p>\n<p><strong>pom.xml(cloud-consumer-order80)</strong></p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-web<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-actuator<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.projectlombok<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>lombok<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>optional</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>optional</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p><strong>application.yml</strong></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></pre></td></tr></table></figure><p><strong>ä¸»å¯åŠ¨ç±»ï¼šConsumerMain80</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@SpringBootApplication</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ConsumerMain80</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ConsumerMain80</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>ä¸šåŠ¡ç±»</strong></p>\n<ol>\n<li>entities</li>\n</ol>\n<p>è·Ÿå‰é¢ 8001 ä¸€æ ·çš„å®ä½“ç±»ï¼ŒPayment å’Œ CommonResult ç±»</p>\n<p>è¿™é‡Œç›´æ¥æ‹·è´è¿‡æ¥å°±å¥½ã€‚</p>\n<p>å› ä¸ºéƒ½æ˜¯å…±åŒçš„ç±»ï¼Œåé¢å·¥ç¨‹é‡æ„ï¼Œä¼šæŠŠè¿™ä¸¤ä¸ªç±»æå–å‡ºæ¥ï¼Œé˜²æ­¢ä»£ç å†—ä½™ã€‚</p>\n<ol start=\"2\">\n<li>controller</li>\n</ol>\n<p>å› ä¸ºè¿™ä¸ª 80 æ˜¯æ¶ˆè´¹è€…ï¼Œç›´æ¥å»è°ƒç”¨äººå®¶ 8001 ç«¯å£çš„æœåŠ¡ï¼Œå°±ä¸ç”¨å†™è‡ªå·±çš„ server å±‚äº†ï¼Œç›´æ¥è°ƒç”¨åˆ«äººå³å¯ã€‚</p>\n<p>ä½†æ˜¯å˜ï¼Œä½ å»è°ƒåˆ«äººçš„æœåŠ¡è‚¯å®šä¸èƒ½ç›´æ¥è°ƒå‘€ï¼Œå¾—å€ŸåŠ©ç‚¹å·¥å…·ï¼Œä½¿ç”¨ <code>RestTemplate</code> ï¼Œè¿™ç©æ„çš„ä½œç”¨ï¼Œå°±æ˜¯ï¼š<strong>ç®€åŒ–äº†å‘èµ· HTTP è¯·æ±‚ä»¥åŠå¤„ç†å“åº”çš„è¿‡ç¨‹ï¼Œå¹¶ä¸”æ”¯æŒ REST</strong></p>\n<p>RestTemplate çš„ä½¿ç”¨å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTM4MDk3L2FydGljbGUvZGV0YWlscy8xMjM1NjAyMzg=\">https://blog.csdn.net/qq_41538097/article/details/123560238</span></p>\n<p>è¦ä½¿ç”¨ï¼Œå¾—å…ˆæ³¨å…¥ beanï¼Œè¿™é‡Œç”¨ä¸€ä¸ªé…ç½®ç±»è¿›è¡Œæ³¨å…¥ï¼š</p>\n<p>åœ¨ springcloud åŒ…ä¸‹æ–°å»º config.ApplicationContextConfig</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Configuration</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ApplicationContextConfig</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">// å¾€å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ª RestTemplate</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//RestTemplate æä¾›äº†å¤šç§ä¾¿æ·è®¿é—®è¿œç¨‹ http è®¿é—®çš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token annotation punctuation\">@Bean</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RestTemplate</span> <span class=\"token function\">restTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>restTemplate.postForObject (â€¦) æ–¹æ³•é‡Œå‚æ•°å‡ºç°äº†çš„ <code>@Nullable</code>  æ³¨è§£ï¼Œå®ƒçš„å¤§æ¦‚ä½œç”¨æ˜¯<strong>æç¤ºç»™ä»£ç ç¼–è¯‘è¿™é‡Œå¯èƒ½ä¼šå‡ºç°ç©ºå€¼</strong></p>\n<p>åœ¨ springcloud åŒ…ä¸‹æ–°å»º controller.OrderController</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">PAYMENT_URL</span><span class=\"token operator\">=</span><span class=\"token string\">\"http://localhost:8001\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">RestTemplate</span> restTemplate<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">// å› ä¸ºæµè§ˆå™¨åªæ”¯æŒ get è¯·æ±‚ï¼Œä¸ºäº†æ–¹ä¾¿è¿™é‡Œå°±ç”¨ get</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/consumer/payment/create\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CommonResult</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Payment</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Payment</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"********æ’å…¥çš„æ•°æ®ï¼š\"</span> <span class=\"token operator\">+</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">//postForObject åˆ†åˆ«æœ‰ä¸‰ä¸ªå‚æ•°ï¼šè¯·æ±‚åœ°å€ï¼Œè¯·æ±‚å‚æ•°ï¼Œè¿”å›çš„å¯¹è±¡ç±»å‹</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">return</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">postForObject</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PAYMENT_URL</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"/payment/create\"</span><span class=\"token punctuation\">,</span> payment<span class=\"token punctuation\">,</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/consumer/payment/get/&#123;id&#125;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CommonResult</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Payment</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getPayment</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"********æŸ¥è¯¢çš„idï¼š\"</span> <span class=\"token operator\">+</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">//getForObject ä¸¤ä¸ªå‚æ•°ï¼šè¯·æ±‚åœ°å€ï¼Œè¿”å›çš„å¯¹è±¡ç±»å‹</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">getForObject</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PAYMENT_URL</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"/payment/get/\"</span> <span class=\"token operator\">+</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p>\n<p>å¯åŠ¨ 80 å’Œ 8001 ç«¯å£</p>\n<p>æµ‹è¯•æŸ¥è¯¢ï¼š <code>http://localhost/consumer/payment/get/3</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652148596024-e32573d7-5043-4565-a8c0-03f48f0fd29e.png\" alt=\"img\"></p>\n<p>æµ‹è¯•æ’å…¥ï¼š <code>http://localhost/consumer/payment/create?serial=112233</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652148838855-83f95a90-a732-4f9a-bddd-ba4f4bb35b13.png\" alt=\"img\"></p>\n<p><strong>Tips - å¼€å¯ run DashBoard</strong>ğŸ’¡</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652266658030-d26c9c23-6ec5-4f7e-b780-1e34e25e0293.png\" alt=\"img\"></p>\n<p>çœ‹å“ˆï¼Œè¿™é‡Œèµ·äº†ä¸¤ä¸ªæœåŠ¡ï¼Œå®ƒå°±æ˜¯ä¸¤ä¸ªçª—å£ï¼Œé‚£å¾ˆå¤šæœåŠ¡å’‹åŠå˜ï¼Œé‚£å²‚ä¸æ˜¯å¾ˆå¤šçª—å£ï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚</p>\n<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨ run DashBoard å·¥å…·ï¼ˆå¦‚æœæœ¬èº«å°±æœ‰ï¼Œå½“æˆ‘æ²¡è¯´ï¼‰æˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯æ²¡æœ‰çš„ã€‚ï¼ˆå¯ä»¥åˆ°ç™¾åº¦ä¸‹ï¼Œå¾ˆå¤šæ•™ç¨‹ï½ï½ï¼‰</p>\n<p>æˆ‘æ²¡åšä»€ä¹ˆæ“ä½œï¼Œæˆ‘å°±æ˜¯æ‰“å¼€è¿™ä¸ª workspace.xml æ–‡ä»¶ï¼Œidea å³ä¸‹è§’å°±è‡ªåŠ¨å¼¹å‡ºæ˜¯å¦å¼€å§‹å·´æ‹‰å·´æ‹‰æœåŠ¡çš„æç¤ºäº†ï¼Œç‚¹å‡»äº†æ˜¯å°±æœ‰äº†ï¼Œå¾ˆç¥å¥‡ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652267441110-36317900-85c0-4574-a0f6-63f41fd6cc51.png\" alt=\"img\"></p>\n<p>å¼€å¯ä¹‹åé•¿è¿™æ ·ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652267629793-45e68bf4-6a67-4935-bd09-b928c3202692.png\" alt=\"img\"></p>\n<h3 id=\"4-å·¥ç¨‹é‡æ„\"><a class=\"markdownIt-Anchor\" href=\"#4-å·¥ç¨‹é‡æ„\">#</a> 4. å·¥ç¨‹é‡æ„</h3>\n<p>å› ä¸º 80 ç«¯å£å’Œ 8001 ç«¯å£æœ‰å…¬å…±çš„éƒ¨åˆ†ï¼ŒPayment ç±»å’Œè¿”å›ç»™å‰ç«¯çš„ CommonResult ç±»ã€‚</p>\n<p>ä»¥åæœåŠ¡å¤šäº†ï¼Œæ¯ä¸ªæœåŠ¡éƒ½å†™ä¸€æ¬¡ä»£ç å¤ç”¨æ€§å·®ï¼Œæ‰€ä»¥è¿™é‡ŒæŠŠå…¬å…±çš„ç±»æå–å‡ºæ¥ï¼Œæ”¾åœ¨ä¸€ä¸ªæ–°çš„æœåŠ¡é‡Œå»ï¼Œè¿™ä¸ªå…¬å…±çš„æœåŠ¡è¾¾æˆ jarï¼Œåˆ«çš„æœåŠ¡å¼•å…¥ jar åŒ…å³å¯ä½¿ç”¨ã€‚</p>\n<ol>\n<li>\n<p><strong>æ–°å»ºæ–°å·¥ç¨‹</strong> -  cloud-api-commons</p>\n</li>\n<li>\n<p><strong>æ”¹ pom.xml</strong>  - æˆ‘è¿™é‡ŒåªåŠ äº†ä¸€ä¸ª lombok çš„ä¾èµ–ï¼Œä¸ä½œå±•ç¤ºäº†</p>\n</li>\n<li>\n<p><strong>æŠŠ 80 ç«¯å£çš„ entities åŒ…ä¸‹çš„ Payment å’Œ CommonResult ç±»æ‹·è´è¿‡æ¥</strong></p>\n</li>\n<li>\n<p><strong>æ¸…é™¤ + æ‰“åŒ…ï¼ˆclean+install</strong>ï¼‰---- å³ä¾§çš„ mveanâ€“æ‰¾åˆ°å¯¹åº”çš„æœåŠ¡ â€” ç”Ÿå‘½å‘¨æœŸç‚¹å¼€ â€” å…ˆæ¸…é™¤ cleanï¼Œå† install</p>\n</li>\n</ol>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652351613896-a48059ad-09bd-4611-b7dd-d9300bbc012c.png\" alt=\"img\"></p>\n<p><strong>è¿™é‡Œæä¸€ä¸‹ï¼šğŸ’¡</strong></p>\n<p>å¦‚æœåœ¨ install çš„æ—¶å€™æŠ¥äº†ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼šmaven çš„ xx æ’ä»¶ï¼šxx ç‰ˆæœ¬ï¼Œæ²¡æœ‰æ³¨å…¥æˆåŠŸï¼Œæ‰¾ä¸åˆ°ç±»å¼‚å¸¸ã€‚ã€‚ã€‚ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652351797495-6686f540-1312-44eb-879c-f6af8470741d.png\" alt=\"img\"></p>\n<p>** è§£å†³ï¼š** è¿™ç±»æ˜¯ maven æ’ä»¶çš„ç‰ˆæœ¬é—®é¢˜ï¼Œæˆ‘è¿™é‡Œæ˜¯å…¨æŠŠæŠ¥é”™çš„ç‰ˆæœ¬éƒ½æ”¹æˆäº†æœ€æ–°çš„ç‰ˆæœ¬å°±å¥½äº†ã€‚</p>\n<p>å³åœ¨ pom.xml é‡Œæ·»åŠ ï¼š</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- å› ä¸ºæˆ‘è¿™é‡Œä¸‰ä¸ªæ’ä»¶éƒ½æŠ¥é”™äº†ï¼Œè¿™é‡Œæ‡’å¾—åˆ äº†éƒ½ç²˜è¿‡æ¥ --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-resources-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>3.2.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoding</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoding</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-compiler-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>3.8.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-install-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.5.2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ol>\n<li><strong>å¼•ç”¨åŒ…</strong></li>\n</ol>\n<p>åœ¨ <code>80</code>  ç«¯å£å’Œ <code>8001</code>  ç«¯å£å¼•ç”¨è¿™ä¸ª <code>cloud-api-commons</code>  è¿™ä¸ª jar åŒ…</p>\n<p>å…ˆåˆ é™¤ 80 ç«¯å£ï¼Œ8001 ç«¯å£çš„å…¬å…±ç±»ï¼Œpom.xml å¼•å…¥ jar åŒ…</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>com.dabing<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>cloud-api-commons<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>1.0-SNAPSHOT<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>æµ‹è¯•</strong></li>\n</ol>\n<p>æµ‹è¯•æŸ¥è¯¢ï¼š <code>http://localhost/consumer/payment/get/1</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652353834119-6cd3973e-3993-413e-9ed9-a162db5883ee.png\" alt=\"img\"></p>\n<p>æµ‹è¯•æ–°å¢æ•°æ®ï¼š <code>http://localhost/consumer/payment/create?serial=12345678</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652353903032-85714904-c846-4ab4-97fe-e70c86d50f94.png\" alt=\"img\"></p>\n<h1 id=\"äº”-eurekaæœåŠ¡æ³¨å†Œä¸å‘ç°\"><a class=\"markdownIt-Anchor\" href=\"#äº”-eurekaæœåŠ¡æ³¨å†Œä¸å‘ç°\">#</a> äº”ã€Eureka æœåŠ¡æ³¨å†Œä¸å‘ç°</h1>\n<h2 id=\"1-eurekaåŸºç¡€çŸ¥è¯†\"><a class=\"markdownIt-Anchor\" href=\"#1-eurekaåŸºç¡€çŸ¥è¯†\">#</a> 1- Eureka åŸºç¡€çŸ¥è¯†</h2>\n<p>æ–‡å­—æœ‰äº›å¤šï¼Œè€å¿ƒçœ‹ï¼ï¼ğŸ»â€â„ï¸</p>\n<p>** ä¸¾ä¸ªä¾‹å­ï¼š** å°±æ˜¯åƒä½ è¦å»åŸ¹è®­æœºæ„ä¸Šè¯¾ï¼Œè¿™ä¸ªåŸ¹è®­æœºæ„å«åš <code>sgg</code> ï¼Œä»–çš„åœ°å€åœ¨ <code>æ¾å±±æ¹–ç§‘æŠ€å›­</code> ï¼ˆæˆ‘çè¯´çš„ï¼‰ï¼Œsgg å¾—å…ˆåœ¨æ¾å±±æ¹–ç§‘æŠ€å›­çš„ <code>ç‰©ä¸šç®¡ç†å¤„</code> ï¼ˆå°±ç›¸å½“äº Eureka Server æ³¨å†Œä¸­å¿ƒï¼‰æ³¨å†Œç™»è®°å…¥é©»ç§‘æŠ€å›­ï¼Œç®¡ç†å¤„ç™»è®°ä½  sgg çš„ä¿¡æ¯å’Œå…¥é©»åœ°å€ã€‚</p>\n<p>ç„¶åå­¦ç”Ÿè¦å»ä¸Šè¯¾ï¼Œå°±å»ç‰©ä¸šç®¡ç†å¤„å»æŸ¥æ‹¿ç€è¿™ä¸ª sgg çš„åå­—å»æŸ¥åœ°å€è¿›è¡Œæ•™å­¦æœåŠ¡è°ƒç”¨ã€‚</p>\n<p><strong>ä»€ä¹ˆæ˜¯æœåŠ¡æ²»ç†ï¼Ÿ</strong></p>\n<p>Spring Cloud å°è£…äº† Netflix å…¬å¸å¼€å‘çš„ Eureka æ¨¡å—æ¥å®ç°æœåŠ¡æ²»ç†</p>\n<p>åœ¨ä¼ ç»Ÿçš„  <code>rpc è¿œç¨‹è°ƒç”¨</code> æ¡†æ¶ä¸­ï¼Œç®¡ç†æ¯ä¸ªæœåŠ¡ä¸æœåŠ¡ä¹‹é—´ä¾èµ–å…³ç³»æ¯”è¾ƒå¤æ‚ï¼Œç®¡ç†æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨æœåŠ¡æ²»ç†ï¼Œç®¡ç†æœåŠ¡ä¸æœåŠ¡ä¹‹é—´ä¾èµ–å…³ç³»ï¼Œå¯ä»¥å®ç°æœåŠ¡è°ƒç”¨ã€è´Ÿè½½å‡è¡¡ã€å®¹é”™ç­‰ï¼Œå®ç°æœåŠ¡å‘ç°ä¸æ³¨å†Œã€‚</p>\n<p><strong>ä»€ä¹ˆæ˜¯æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼Ÿ</strong></p>\n<p>Eureka é‡‡ç”¨äº† CS çš„è®¾è®¡æ¶æ„ï¼ŒEureka Server ä½œä¸ºæœåŠ¡æ³¨å†ŒåŠŸèƒ½çš„æœåŠ¡å™¨ï¼Œå®ƒæ˜¯ <code>æœåŠ¡æ³¨å†Œä¸­å¿ƒ</code> ã€‚è€Œç³»ç»Ÿä¸­çš„å…¶ä»–å¾®æœåŠ¡ï¼Œä½¿ç”¨ Eureka çš„å®¢æˆ·ç«¯è¿æ¥åˆ° Eureka Server å¹¶ç»´æŒå¿ƒè·³è¿æ¥ã€‚è¿™æ ·ç³»ç»Ÿçš„ç»´æŠ¤äººå‘˜å°±å¯ä»¥é€šè¿‡ Eureka Server æ¥ç›‘æ§ç³»ç»Ÿä¸­å„ä¸ªå¾®æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p>\n<p>åœ¨æœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­ï¼Œæœ‰ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒã€‚å½“æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šæŠŠå½“å‰è‡ªå·±æœåŠ¡å™¨çš„ä¿¡æ¯æ¯”å¦‚æœåŠ¡åœ°å€é€šè®¯åœ°å€ç­‰ä»¥åˆ«åæ–¹å¼æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒä¸Šã€‚å¦ä¸€æ–¹ï¼ˆæ¶ˆè´¹è€…æœåŠ¡æä¾›è€…)ï¼Œä»¥è¯¥åˆ«åçš„æ–¹å¼å»æ³¨å†Œä¸­å¿ƒä¸Šè·å–åˆ°å®é™…çš„æœåŠ¡é€šè®¯åœ°å€ï¼Œç„¶åå†å®ç°æœ¬åœ° RPC è°ƒç”¨ RPC è¿œç¨‹è°ƒç”¨æ¡†æ¶æ ¸å¿ƒè®¾è®¡æ€æƒ³ï¼šåœ¨äºæ³¨å†Œä¸­å¿ƒï¼Œå› ä¸ºä½¿ç”¨æ³¨å†Œä¸­å¿ƒç®¡ç†æ¯ä¸ªæœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¸€ä¸ªä¾èµ–å…³ç³»ï¼ˆæœåŠ¡æ²»ç†æ¦‚å¿µï¼‰ã€‚åœ¨ä»»ä½•  <code>rpc</code>  è¿œç¨‹æ¡†æ¶ä¸­ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒï¼ˆå­˜æ”¾æœåŠ¡åœ°å€ç›¸å…³ä¿¡æ¯ï¼ˆæ¥å£åœ°å€ï¼‰ï¼‰</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1651635456352-c57c9870-9bed-4bf0-82d1-906f6e216360.png\" alt=\"img\"></p>\n<p><strong>Eureka ä¸¤ç»„ä»¶ï¼Ÿ</strong></p>\n<p><strong>Eureka åŒ…å«ä¸¤ä¸ªç»„ä»¶ï¼šEureka Server å’Œ Eureka Client</strong></p>\n<p><code>Eureka Server</code> <strong> æä¾›æœåŠ¡æ³¨å†ŒæœåŠ¡</strong></p>\n<p>å„ä¸ªå¾®æœåŠ¡èŠ‚ç‚¹é€šè¿‡é…ç½®å¯åŠ¨åï¼Œä¼šåœ¨ Eureka Server ä¸­è¿›è¡Œæ³¨å†Œï¼Œè¿™æ · Eureka Server ä¸­çš„æœåŠ¡æ³¨å†Œè¡¨ä¸­å°†ä¼šå­˜å‚¨æ‰€æœ‰å¯ç”¨æœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯ï¼ŒæœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯å¯ä»¥åœ¨ç•Œé¢ä¸­ç›´è§‚çœ‹åˆ°ã€‚</p>\n<p><code>Eureka Client</code> <strong> é€šè¿‡æ³¨å†Œä¸­å¿ƒè¿›è¡Œè®¿é—®</strong></p>\n<p>æ˜¯ä¸€ä¸ª Java å®¢æˆ·ç«¯ï¼Œç”¨äºç®€åŒ– Eureka Server çš„äº¤äº’ï¼Œå®¢æˆ·ç«¯åŒæ—¶ä¹Ÿå…·å¤‡ä¸€ä¸ªå†…ç½®çš„ã€ä½¿ç”¨è½®è¯¢ (round-robin) è´Ÿè½½ç®—æ³•çš„è´Ÿè½½å‡è¡¡å™¨ã€‚åœ¨åº”ç”¨å¯åŠ¨åï¼Œå°†ä¼šå‘ Eureka Server å‘é€å¿ƒè·³ï¼ˆé»˜è®¤å‘¨æœŸä¸º 30 ç§’ï¼‰ã€‚å¦‚æœ Eureka Server åœ¨å¤šä¸ªå¿ƒè·³å‘¨æœŸå†…æ²¡æœ‰æ¥æ”¶åˆ°æŸä¸ªèŠ‚ç‚¹çš„å¿ƒè·³ï¼ŒEureka Server å°†ä¼šä»æœåŠ¡æ³¨å†Œè¡¨ä¸­æŠŠè¿™ä¸ªæœåŠ¡èŠ‚ç‚¹ç§»é™¤ï¼ˆé»˜è®¤ 90 ç§’ï¼‰</p>\n<h2 id=\"2-å•æœºeurekaæ„å»ºæ­¥éª¤\"><a class=\"markdownIt-Anchor\" href=\"#2-å•æœºeurekaæ„å»ºæ­¥éª¤\">#</a> 2 - å•æœº Eureka æ„å»ºæ­¥éª¤</h2>\n<h3 id=\"1-eurekaserverç«¯æœåŠ¡æ³¨å†Œä¸­å¿ƒæ„å»º-ç±»ä¼¼ç‰©ä¸šå…¬å¸\"><a class=\"markdownIt-Anchor\" href=\"#1-eurekaserverç«¯æœåŠ¡æ³¨å†Œä¸­å¿ƒæ„å»º-ç±»ä¼¼ç‰©ä¸šå…¬å¸\">#</a> 1. EurekaServer ç«¯æœåŠ¡æ³¨å†Œä¸­å¿ƒæ„å»º   ç±»ä¼¼ç‰©ä¸šå…¬å¸</h3>\n<p>è¿˜æ˜¯æ–°å»º moudle çš„ä¸€èˆ¬æ­¥éª¤ï¼š</p>\n<ol>\n<li><strong>å»º module  -</strong> <strong>cloud-eureka-server7001</strong></li>\n<li><strong>æ”¹ pom   - å¼•å…¥ eureka-server æœåŠ¡ç«¯ä¾èµ–</strong></li>\n<li><strong>å†™ yml    - æŒ‡å®šç«¯å£å·ã€eureka ç›¸å…³</strong></li>\n<li><strong>ä¸»å¯åŠ¨ç±»  - @EnableEurekaServer æŒ‡æ˜æ˜¯æœåŠ¡æ³¨å†Œä¸­å¿ƒ</strong></li>\n<li><strong>ä¸šåŠ¡ç±»      - æ— </strong></li>\n</ol>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token comment\">&lt;!--springboot--></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-web<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-actuator<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token comment\">&lt;!--Eureka--></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.cloud<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-cloud-starter-netflix-eureka-server<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7001</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">instance</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> localhost   <span class=\"token comment\">#eureka æœåŠ¡ç«¯çš„å®ä¾‹åç§°</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">client</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">#è¡¨ç¤ºæ˜¯å¦å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œï¼ˆè‡ªå·±æœ¬èº«å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼Œä¸æ˜¯æœåŠ¡ï¼Œæ²¡å¿…è¦æ³¨å†Œï¼Œè¿™é‡Œ falseï¼‰</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">register-with-eureka</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">#flase è¡¨ç¤ºè‡ªå·±ç«¯å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼ŒèŒè´£æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token key atrule\">service-url</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token comment\">#è®¾ç½®ä¸ eurekaServer äº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//$<span class=\"token punctuation\">&#123;</span>eureka.instance.hostname<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">&#123;</span>server.port<span class=\"token punctuation\">&#125;</span>/eureka/</pre></td></tr></table></figure><p>æ³¨æ„ yaml æ ¼å¼ï¼Œ <code>:</code>  åé¢æ˜¯æœ‰ç©ºæ ¼çš„ï¼Œåˆ«ç²—å¿ƒå¤§æ„äº†</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@EnableEurekaServer</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@SpringBootApplication</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EurekaMain7001</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EurekaMain7001</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š <code>http://localhost:7001/</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652356725864-e2541b3c-633e-42a7-b8b3-5a5eb75cff9d.png\" alt=\"img\"></p>\n<h3 id=\"2-eurekaclientç«¯cloud-provider-payment8001-ç±»ä¼¼äºæ•™è‚²æœºæ„\"><a class=\"markdownIt-Anchor\" href=\"#2-eurekaclientç«¯cloud-provider-payment8001-ç±»ä¼¼äºæ•™è‚²æœºæ„\">#</a> 2. EurekaClient ç«¯ cloud-provider-payment8001  ç±»ä¼¼äºæ•™è‚²æœºæ„</h3>\n<p>8001 ç«¯å£çš„è¿™ä¸ªæ”¯ä»˜æœåŠ¡ï¼Œå°†æ³¨å†Œè¿› EurekaServer æˆä¸ºæœåŠ¡æä¾›è€… provider, ç±»ä¼¼äºå­¦æ ¡å¯¹å¤–æä¾›æˆè¯¾æœåŠ¡</p>\n<h3 id=\"3-eurekaclientç«¯cloud-consumer-order80-ç±»ä¼¼äºå­¦ç”Ÿ\"><a class=\"markdownIt-Anchor\" href=\"#3-eurekaclientç«¯cloud-consumer-order80-ç±»ä¼¼äºå­¦ç”Ÿ\">#</a> 3. EurekaClient ç«¯ cloud-consumer-order80  ç±»ä¼¼äºå­¦ç”Ÿ</h3>\n<p>80 ç«¯å£çš„è¿™ä¸ªæ¶ˆè´¹è€…ï¼Œå°†æ³¨å†Œè¿› EurekaServer æˆä¸ºæœåŠ¡æ¶ˆè´¹è€… consumer, ç±»ä¼¼äºå­¦æ ¡ä¸Šè¯¾æ¶ˆè´¹çš„å„ä½åŒå­¦</p>\n<p>å¦‚ä½•æ“ä½œï¼Ÿ</p>\n<p><strong>æ”¹ pom</strong> - æ·»åŠ   <code>spring-cloud-starter-netflix-eureka-client</code>  ä¾èµ–</p>\n<p><strong>æ”¹ yml</strong> - æŒ‡å®š spring åº”ç”¨åå­—ï¼ˆå³ä¸ºæ˜¾ç¤ºåœ¨ eureka æ³¨å†Œä¸­å¿ƒä¸Šçš„åå­—ï¼‰ï¼Œeureka é…ç½®ï¼ˆæŒ‡å®šæ˜¯å¦æ³¨å†Œã€æ³¨å†Œåœ°å€ï¼‰</p>\n<p><strong>æ”¹ä¸»å¯åŠ¨ç±»</strong> - æ·»åŠ   <code>@EnableEurekaClient</code>  æ³¨è§£</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.cloud<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-cloud-starter-netflix-eureka-client<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>#é…ç½®å¾®æœåŠ¡åç§°</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>spring:</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  application:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    name: cloud-consumer-order</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>#eurekaé…ç½®</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>eureka:</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  client:</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    register-with-eureka: true  #true è¡¨ç¤ºè‡ªå·±è¦æ³¨å†Œåˆ°æœåŠ¡ä¸­å¿ƒ</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    fetch-registry: true        #true è¡¨ç¤ºè‡ªå·±è¦å»æ£€ç´¢ä¸‹æœ‰æ²¡æœ‰å…¶ä»–çš„æœåŠ¡å¯ç”¨</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    service-url:</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      defaultZone: http://localhost:7001/eureka/</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>@EnableEurekaClient</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>@SpringBootApplication</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>public class ConsumerMain80 &#123;</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    public static void main(String[] args) &#123;</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        SpringApplication.run(ConsumerMain80.class);</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    &#125;</pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>&#125;</pre></td></tr></table></figure><p>** æµ‹è¯•ï¼š** åˆ·æ–°ä¸‹åˆšåˆšé‚£ä¸ª eureka æ³¨å†Œä¸­å¿ƒ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1652403129396-4a87519d-5b49-4d3b-8465-5379d1413d9f.png\" alt=\"img\"></p>\n<h2 id=\"3-é›†ç¾¤eurekaæ„å»ºæ­¥éª¤\"><a class=\"markdownIt-Anchor\" href=\"#3-é›†ç¾¤eurekaæ„å»ºæ­¥éª¤\">#</a> 3 - é›†ç¾¤ Eureka æ„å»ºæ­¥éª¤</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654068766302-234eccf1-9a23-4018-87ef-cfb67ceb5fc6.png\" alt=\"img\"></p>\n<p>** è§£å†³æ–¹æ³•ï¼š** æ­å»º Eureka æ³¨å†Œä¸­å¿ƒé›†ç¾¤ï¼Œå®ç°è´Ÿè½½å‡è¡¡ + æ•…éšœå®¹é”™</p>\n<h3 id=\"1-å†æ„å»ºä¸¤ä¸ªæ³¨å†Œä¸­å¿ƒ\"><a class=\"markdownIt-Anchor\" href=\"#1-å†æ„å»ºä¸¤ä¸ªæ³¨å†Œä¸­å¿ƒ\">#</a> 1. å†æ„å»ºä¸¤ä¸ªæ³¨å†Œä¸­å¿ƒ</h3>\n<p>ä»¿ç…§ cloud-eureka-server7001 åˆ›å»ºä¸€ä¸ª cloud-eureka-server7002</p>\n<p>ä¸€æ ·çš„æ­¥éª¤ï¼šå»º moduleã€å†™ pomã€æ”¹ ymlã€ä¸»å¯åŠ¨ç±»ã€ä¸šåŠ¡ç±»</p>\n<p>ä¹‹åè¦ä¿®æ”¹ä¸»æœºçš„ hosts æ–‡ä»¶ï¼Œåœ¨ <code>C:\\Windows\\System32\\drivers\\etc</code>  è·¯å¾„ä¸‹</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654070787462-2a65ad8e-d50d-4dad-a928-33304c7e6f07.png\" alt=\"img\"></p>\n<p>åœ¨æœ€åä¸€è¡ŒåŠ ä¸Šè¿™ä¸‰è¡Œã€‚</p>\n<p>ä¿®æ”¹è¿™ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒçš„ yml æ–‡ä»¶:</p>\n<p><strong>cloud-eureka-server7001 çš„ yml æ–‡ä»¶ï¼š</strong></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7001</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">instance</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> eureka7001.com  <span class=\"token comment\">#eureka æœåŠ¡ç«¯çš„å®ä¾‹åç§°</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">client</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">register-with-eureka</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">service-url</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token comment\">#      å•æœº</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token comment\">#      defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token comment\">#é›†ç¾¤ç‰ˆ  ç›¸äº’æ³¨å†Œï¼Œç›¸äº’å®ˆæœ›</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//eureka7002.com<span class=\"token punctuation\">:</span>7002/eureka/<span class=\"token punctuation\">,</span> http<span class=\"token punctuation\">:</span>//eureka7003.com<span class=\"token punctuation\">:</span>7003/eureka/</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">#    defaultZone æ˜¯å›ºå®šå†™æ³•ï¼Œå¦‚æœæƒ³è‡ªå®šä¹‰ï¼Œéœ€è¦æŒ‰ä»¥ä¸‹å†™æ³•æ‰è¡Œï¼š</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">#    region: eureka-server</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">#    availability-zones:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">#      eureka-server: server1,server2</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">#    service-url:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">#      server1: http://eureka7002.com:7002/eureka/</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">#      server2: http://eureka7003.com:7003/eureka/</span></pre></td></tr></table></figure><p><strong>cloud-eureka-server7002 çš„ yml æ–‡ä»¶ï¼š</strong></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7002</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> cloud<span class=\"token punctuation\">-</span>eureka<span class=\"token punctuation\">-</span>server2</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">instance</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> eureka7002.com  <span class=\"token comment\">#eureka æœåŠ¡ç«¯çš„å®ä¾‹åç§°</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token key atrule\">client</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">register-with-eureka</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token key atrule\">service-url</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token comment\">#é›†ç¾¤ç‰ˆ  ç›¸äº’æ³¨å†Œï¼Œç›¸äº’å®ˆæœ›</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//eureka7001.com<span class=\"token punctuation\">:</span>7001/eureka/<span class=\"token punctuation\">,</span> http<span class=\"token punctuation\">:</span>//eureka7003.com<span class=\"token punctuation\">:</span>7003/eureka/ <span class=\"token comment\">#ç›¸äº’æ³¨å†Œï¼Œç›¸äº’å®ˆæœ›</span></pre></td></tr></table></figure><p><strong>cloud-eureka-server7003 çš„ yml æ–‡ä»¶ï¼š</strong></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7003</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> cloud<span class=\"token punctuation\">-</span>eureka<span class=\"token punctuation\">-</span>server3</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">instance</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> eureka7003.com  <span class=\"token comment\">#eureka æœåŠ¡ç«¯çš„å®ä¾‹åç§°</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token key atrule\">client</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">register-with-eureka</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token key atrule\">service-url</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token comment\">#é›†ç¾¤ç‰ˆ  ç›¸äº’æ³¨å†Œï¼Œç›¸äº’å®ˆæœ›</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//eureka7001.com<span class=\"token punctuation\">:</span>7001/eureka/<span class=\"token punctuation\">,</span> http<span class=\"token punctuation\">:</span>//eureka7002.com<span class=\"token punctuation\">:</span>7002/eureka/ <span class=\"token comment\">#ç›¸äº’æ³¨å†Œï¼Œç›¸äº’å®ˆæœ›</span></pre></td></tr></table></figure><p>å¯åŠ¨è¿™ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒ looklookã€‚ã€‚ã€‚ã€‚åˆ†åˆ«é•¿è¿™æ ·ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654074142796-40490d82-f0d5-4f30-b0a2-cf2075811239.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654074193327-c84713ba-9ede-4e09-b487-8dbc8368e81d.png\" alt=\"img\"><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654074230702-b54827af-6c08-485c-bfd1-d813b9011418.png\" alt=\"img\"></p>\n<h3 id=\"2-å°†æœåŠ¡å‘å¸ƒåˆ°é›†ç¾¤é…ç½®\"><a class=\"markdownIt-Anchor\" href=\"#2-å°†æœåŠ¡å‘å¸ƒåˆ°é›†ç¾¤é…ç½®\">#</a> 2. å°†æœåŠ¡å‘å¸ƒåˆ°é›†ç¾¤é…ç½®</h3>\n<p>EurekaClient ç«¯ cloud-provider-payment8001  ç±»ä¼¼äºæ•™è‚²æœºæ„</p>\n<p>EurekaClient ç«¯ cloud-consumer-order80  ç±»ä¼¼äºå­¦ç”Ÿ</p>\n<p>åŸæœ¬è¿™ä¸¤ä¸ªæœåŠ¡æ˜¯æ³¨å†Œåˆ°å•æœº 7001 æ³¨å†Œä¸­å¿ƒçš„ï¼Œç°åœ¨è¦æ³¨å†Œåˆ°ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒå»ã€‚</p>\n<p>ä»–ä»¬çš„é…ç½®æ–‡ä»¶ä¸­çš„ defaultZone æ”¹ä¸ºï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//eureka7001.com<span class=\"token punctuation\">:</span>7001/eureka<span class=\"token punctuation\">,</span>http<span class=\"token punctuation\">:</span>//eureka7002.com<span class=\"token punctuation\">:</span>7002/eureka<span class=\"token punctuation\">,</span>http<span class=\"token punctuation\">:</span>//eureka7003.com<span class=\"token punctuation\">:</span>7003/eureka</pre></td></tr></table></figure><p>å¯åŠ¨ 5 ä¸ªé¡¹ç›®è¿›è¡Œæµ‹è¯•ï¼šï¼ˆå…ˆè¦å¯åŠ¨ EurekaServer é›†ç¾¤ï¼Œå†å¯åŠ¨æœåŠ¡æä¾›è€… provider,8001ï¼Œæœ€åå¯åŠ¨æ¶ˆè´¹è€…ï¼Œ80ï¼‰</p>\n<p>é›†ç¾¤åå°æˆªå›¾ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654075323510-98f36b32-a1ca-4b21-b1ff-962d7f1bd0da.png\" alt=\"img\"></p>\n<p>è®¿é—®ä¸‹æ¶ˆè´¹è€… 80 ç«¯å£çš„æ˜¯å¦æ­£å¸¸ä½¿ç”¨ 8001 çš„åŠŸèƒ½ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdC9jb25zdW1lci9wYXltZW50L2dldC8x\">http://localhost/consumer/payment/get/1</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654075602931-445cc8ac-e0e1-4be6-88af-549616c16ac8.png\" alt=\"img\"></p>\n<h3 id=\"3-æ„å»ºæ”¯ä»˜æœåŠ¡æä¾›è€…é›†ç¾¤ç¯å¢ƒ\"><a class=\"markdownIt-Anchor\" href=\"#3-æ„å»ºæ”¯ä»˜æœåŠ¡æä¾›è€…é›†ç¾¤ç¯å¢ƒ\">#</a> 3. æ„å»ºæ”¯ä»˜æœåŠ¡æä¾›è€…é›†ç¾¤ç¯å¢ƒ</h3>\n<p>æä¾›çš„æœåŠ¡ä¹Ÿè¦é›†ç¾¤ï¼ŒæŒ‰ç…§ 8001 æ–°å»º 8002 ã€‚ï¼ˆé™¤äº†è¦ yml æ–‡ä»¶ä¸­éœ€è¦æ”¹ç«¯å£å·å’Œä¸»é…ç½®ç±»ï¼Œå…¶ä»–ç›´æ¥å¤åˆ¶ 8001 çš„ï¼Œyml æ–‡ä»¶ä¸­çš„åº”ç”¨åä¸éœ€è¦æ”¹ï¼Œå› ä¸º 8001 å’Œ 8002 å¯¹å¤–æš´éœ²çš„æœåŠ¡åæ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åº”ç”¨åéœ€è¦ä¸€è‡´ï¼‰</p>\n<p>80 æ˜¯è°ƒç”¨æ–¹ï¼Œä¸éœ€è¦é›†ç¾¤ã€‚</p>\n<p>80 å»è°ƒç”¨æ”¯ä»˜æœåŠ¡çš„æ—¶å€™ï¼Œæœ‰ 8001 å’Œ 8002ï¼Œè€Œæ³¨å†Œä¸­å¿ƒæä¾›çš„æ˜¯ä¸€æ ·çš„æœåŠ¡åï¼Œé‚£æ€ä¹ˆçŸ¥é“åˆ°åº•è°ƒç”¨çš„æ˜¯å“ªä¸ªæœåŠ¡å‘¢ï¼Ÿå¦‚ä¸‹ï¼š</p>\n<p><strong>åœ¨å¾®æœåŠ¡æä¾›æ–¹</strong>ï¼Œåœ¨å…¶ controller å±‚æ‰“å°å¯¹åº”çš„ç«¯å£å·ï¼š</p>\n<p>@Value (&quot;${server.port}&quot;) ç”¨è¿™ä¸ªæ³¨è§£å°±å¯ä»¥è¯»å–åˆ°é…ç½®æ–‡ä»¶é‡Œçš„ç«¯å£å·</p>\n<p>8001 å’Œ 8002 çš„ controller æ–‡ä»¶æ”¹æˆä¸‹é¢è¿™æ ·ï¼Œæ‰“å°å‡ºå¯¹åº”çš„ç«¯å£å·ã€‚æ²¡æœ‰å…¨éƒ¨å¤åˆ¶ï¼Œåˆ«ç›²ç›®å¤åˆ¶ç²˜è´´</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$&#123;server.port&#125;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> serverPort<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/payment/get/&#123;id&#125;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">CommonResult</span> <span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">Payment</span> payment <span class=\"token operator\">=</span> paymentService<span class=\"token punctuation\">.</span><span class=\"token function\">getPaymentById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"******æŸ¥è¯¢ç»“æœï¼š\"</span> <span class=\"token operator\">+</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>payment <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">// æŸ¥è¯¢æˆåŠŸ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æŸ¥è¯¢æˆåŠŸ,serverPort:\"</span><span class=\"token operator\">+</span>serverPort<span class=\"token punctuation\">,</span> payment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CommonResult</span><span class=\"token punctuation\">(</span><span class=\"token number\">444</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æ²¡æœ‰å¯¹åº”è®°å½•ï¼ŒæŸ¥è¯¢IDï¼š\"</span><span class=\"token operator\">+</span> id <span class=\"token operator\">+</span><span class=\"token string\">\"  serverPort:\"</span><span class=\"token operator\">+</span>serverPort<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>å¯¹äº 80 è°ƒç”¨æ–¹ï¼Œåšä¸¤ä»¶äº‹ï¼š</strong></p>\n<ol>\n<li>ä¹‹å‰çš„ 80 è°ƒç”¨æ–¹å·²ç»å†™æ­»äº†æœåŠ¡ç«¯å£åæ˜¯ 8001ï¼Œé‚£ 8002 å°±æ²¡æœ‰ç”¨äº†ï¼Œæ‰€ä»¥è¿™é‡Œè¦æŠŠ controller å±‚çš„ url æ”¹æˆæœåŠ¡åï¼špublic static final String <em>PAYMENT_URL</em> = â€œ<span class=\"exturl\" data-url=\"aHR0cDovL0NMT1VELVBBWU1FTlQtU0VSVklDRQ==\">http://CLOUD-PAYMENT-SERVICE</span>â€;</li>\n<li>åœ¨ restTempate çš„é…ç½®ç±»é‡ŒåŠ ä¸Š @LoadBalanced æ³¨è§£èµ‹äºˆ RestTemplate è´Ÿè½½å‡è¡¡çš„èƒ½åŠ›</li>\n</ol>\n<p>é»˜è®¤çš„æ˜¯<strong>è½®è¯¢çš„è´Ÿè½½å‡è¡¡æœºåˆ¶</strong></p>\n<p>å…·ä½“ä»£ç ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">//public final static String PAYMENT_URL=\"http://localhost:8001\";</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">PAYMENT_URL</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"http://CLOUD-PAYMENT-SERVICE\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// ä¸‹é¢çš„ä»£ç è·ŸåŸæ¥ä¸€æ ·ã€‚</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token annotation punctuation\">@Configuration</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ApplicationContextConfig</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">// å¾€å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ª RestTemplate</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">//RestTemplate æä¾›äº†å¤šç§ä¾¿æ·è®¿é—®è¿œç¨‹ http è®¿é—®çš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Bean</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token annotation punctuation\">@LoadBalanced</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RestTemplate</span> <span class=\"token function\">restTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>æµ‹è¯•ï¼š</strong></p>\n<p>å…ˆè¦å¯åŠ¨ EurekaServerï¼Œé›†ç¾¤æ³¨å†Œä¸­å¿ƒï¼Œå†è¦å¯åŠ¨æœåŠ¡æä¾›è€… provider,8001/8002 æœåŠ¡ï¼Œæœ€åå¯åŠ¨ 80 è°ƒç”¨æ–¹ã€‚</p>\n<p>æµ‹è¯•æŸ¥è¯¢ï¼š <code>http://localhost/consumer/payment/get/3</code></p>\n<p>åˆ·æ–°ä¼šå‘ç°ä¸¤ä¸ªç«¯å£çš„æœåŠ¡è½®æµæä¾›æœåŠ¡ã€‚8001/8002 ç«¯å£äº¤æ›¿å‡ºç°</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654080307890-747ffefb-153e-404a-8122-6afcf638e5f3.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654080357026-a3f5b621-b332-413c-bf08-b2c90e3b9073.png\" alt=\"img\"></p>\n<p>æ³¨å†Œä¸­å¿ƒé›†ç¾¤åå°ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654081122296-9589282e-5279-464e-a773-e623b1a1b162.png\" alt=\"img\"></p>\n<p>Ribbon å’Œ Eureka æ•´åˆå Consumer å¯ä»¥ç›´æ¥è°ƒç”¨æœåŠ¡è€Œä¸ç”¨å†å…³å¿ƒåœ°å€å’Œç«¯å£å·ï¼Œä¸”è¯¥æœåŠ¡è¿˜æœ‰è´Ÿè½½åŠŸèƒ½äº†.</p>\n<p>çœ‹ä¾èµ–åŒ…å¯ä»¥çœ‹åˆ° Eureka åŒ…ä¸‹æœ‰é›†æˆ Ribbon çš„åŒ…ã€‚</p>\n<p>å¯¹äº Ribbon çš„æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC8xYmQ2NmRiNWRjNDY=\">https://www.jianshu.com/p/1bd66db5dc46</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654081871122-67fecbac-ea87-427f-8b04-936458c511f2.png\" alt=\"img\"></p>\n<p>[</p>\n<p>](<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC8xYmQ2NmRiNWRjNDY=\">https://www.jianshu.com/p/1bd66db5dc46</span>)</p>\n<h2 id=\"4-actuatorå¾®æœåŠ¡ä¿¡æ¯å®Œå–„\"><a class=\"markdownIt-Anchor\" href=\"#4-actuatorå¾®æœåŠ¡ä¿¡æ¯å®Œå–„\">#</a> 4-actuator å¾®æœåŠ¡ä¿¡æ¯å®Œå–„</h2>\n<h3 id=\"1-ä¸»æœºåç§°æœåŠ¡åç§°ä¿®æ”¹\"><a class=\"markdownIt-Anchor\" href=\"#1-ä¸»æœºåç§°æœåŠ¡åç§°ä¿®æ”¹\">#</a> 1. ä¸»æœºåç§°ï¼šæœåŠ¡åç§°ä¿®æ”¹</h3>\n<p>** é—®é¢˜æå‡º ï¼š** å¦‚å›¾ï¼ŒæœåŠ¡çš„ ip ä¹Ÿç»™æ˜¾ç¤ºå‡ºæ¥äº†ã€‚å¸Œæœ›æ”¹æˆåªå«æœåŠ¡åã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654152801338-ca4d184b-671f-41fd-9b99-88409e930493.png\" alt=\"img\"></p>\n<p><strong>ä¿®æ”¹æ–¹å¼ï¼š</strong></p>\n<p>åœ¨ 8001 æœåŠ¡çš„ yml æ–‡ä»¶æ·»åŠ ä¸Šï¼Œåœ¨ eureka çš„é…ç½®ä¸Šæ·»åŠ ï¼Œä¸çŸ¥é“å¯¹é½è°å¯ä»¥å¾€ä¸‹æ»‘æ»‘ï¼Œä¸‹é¢æœ‰å®Œæ•´çš„ eureka çš„é…ç½®ã€‚</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#eureka é…ç½®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">instance</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">instance-id</span><span class=\"token punctuation\">:</span> payment8001</pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654153168273-d05ad8fb-edea-4a4a-8417-5019953e19d8.png\" alt=\"img\"></p>\n<h3 id=\"2-è®¿é—®ä¿¡æ¯æœ‰ipä¿¡æ¯æç¤º\"><a class=\"markdownIt-Anchor\" href=\"#2-è®¿é—®ä¿¡æ¯æœ‰ipä¿¡æ¯æç¤º\">#</a> 2. è®¿é—®ä¿¡æ¯æœ‰ IP ä¿¡æ¯æç¤º</h3>\n<p><strong>é—®é¢˜æå‡ºï¼š</strong></p>\n<p>ä¿®æ”¹æˆä¸Šé¢é‚£ä¸ªæ ·å­ä¹‹åï¼Œé‚£åˆçœ‹ä¸åˆ° IP çš„æç¤ºäº†ã€‚</p>\n<p><strong>ä¿®æ”¹æ–¹å¼ï¼š</strong></p>\n<p>åœ¨ 8001 æœåŠ¡çš„ yml æ–‡ä»¶æ·»åŠ ä¸Š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">prefer-ip-address</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>  <span class=\"token comment\"># è®¿é—®è·¯å¾„å¯ä»¥æ˜¾ç¤º IP åœ°å€</span></pre></td></tr></table></figure><p>ç°åœ¨ yml çš„ eureka é…ç½®çš„å˜æˆè¿™æ ·äº†ï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#eureka é…ç½®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">client</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">register-with-eureka</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>  <span class=\"token comment\">#true è¡¨ç¤ºè‡ªå·±è¦æ³¨å†Œåˆ°æœåŠ¡ä¸­å¿ƒ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>        <span class=\"token comment\">#true è¡¨ç¤ºè‡ªå·±è¦å»æ£€ç´¢ä¸‹æœ‰æ²¡æœ‰å…¶ä»–çš„æœåŠ¡å¯ç”¨</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">service-url</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token comment\">#defaultZone: http://localhost:7001/eureka/</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//eureka7001.com<span class=\"token punctuation\">:</span>7001/eureka<span class=\"token punctuation\">,</span>http<span class=\"token punctuation\">:</span>//eureka7002.com<span class=\"token punctuation\">:</span>7002/eureka<span class=\"token punctuation\">,</span>http<span class=\"token punctuation\">:</span>//eureka7003.com<span class=\"token punctuation\">:</span>7003/eureka</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">instance</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">instance-id</span><span class=\"token punctuation\">:</span> payment8001</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token key atrule\">prefer-ip-address</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>  <span class=\"token comment\"># è®¿é—®è·¯å¾„å¯ä»¥æ˜¾ç¤º IP åœ°å€</span></pre></td></tr></table></figure><p>** æ•ˆæœï¼š** å¯ä»¥æ˜¾ç¤º ip</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654153501391-5d6084f7-7981-4e11-8882-3d123f0efa18.png\" alt=\"img\"></p>\n<h2 id=\"5-æœåŠ¡å‘ç°discovery\"><a class=\"markdownIt-Anchor\" href=\"#5-æœåŠ¡å‘ç°discovery\">#</a> 5- æœåŠ¡å‘ç° Discovery</h2>\n<p>å¯¹äºæ³¨å†Œ eureka é‡Œé¢çš„å¾®æœåŠ¡ï¼Œå¯ä»¥é€šè¿‡æœåŠ¡å‘ç°æ¥è·å¾—è¯¥æœåŠ¡çš„ä¿¡æ¯</p>\n<p>é€šè¿‡æœåŠ¡å‘ç° Discovery å¯ä»¥è·å–æœåŠ¡çš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚ ipï¼Œç«¯å£å·ï¼Œä¸»æœºï¼Œåœ°å€ç­‰ã€‚</p>\n<p>å¯¹æœåŠ¡å‘ç°çš„ä¸€äº›æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzOTM3NjUzMzQyMjE2\">https://juejin.cn/post/6844903937653342216</span></p>\n<blockquote>\n<p>æ­£å¸¸æƒ…å†µä¸‹å½“æˆ‘ä»¬è¦è®¿é—®æœåŠ¡æ—¶éœ€è¦çŸ¥é“æœåŠ¡å®ä¾‹åœ°å€å’Œç«¯å£ï¼Œå¦‚æœæœåŠ¡å®ä¾‹åœ°å€å’Œç«¯å£éƒ½æ˜¯å›ºå®šçš„æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†å…¶é…ç½®åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œä½†å¤§å¤šæ•°çº¿ä¸Šç”Ÿäº§ç¯å¢ƒå°¤å…¶å®¹å™¨éƒ¨ç½²æƒ…å†µä¸‹æœåŠ¡å®ä¾‹åœ°å€éƒ½æ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œåªæœ‰å½“æœåŠ¡å®ä¾‹å®é™…éƒ¨ç½²ä¹‹åæ‰èƒ½è·å¾—åœ°å€ï¼ŒæœåŠ¡è°ƒç”¨è€…æ ¹æœ¬æ— æ³•æå–è·å–æœåŠ¡å®ä¾‹åœ°å€å’Œç«¯å£ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶é€šè¿‡æœåŠ¡å‘ç°ç»„ä»¶è§£ææœåŠ¡åæ¥è·å–æœåŠ¡å®ä¾‹åœ°å€å’Œç«¯å£ã€‚</p>\n</blockquote>\n<p><strong>æ–¹æ³•å®ç°ï¼š</strong></p>\n<ol>\n<li>åœ¨ 8001 ä¸»å¯åŠ¨ç±»æ·»åŠ æ³¨è§£ï¼š@EnableDiscoveryClient</li>\n<li>åœ¨ 8001 æ§åˆ¶å±‚è£…é… bean å¹¶ä½¿ç”¨ã€‚åœ¨ 8001 çš„ PaymentController ç±»æ·»åŠ ï¼š</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>* æœåŠ¡å‘ç°</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>* è·å–æœåŠ¡ä¿¡æ¯</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>*/</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token annotation punctuation\">@Resource</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscoveryClient</span> discoveryClient<span class=\"token punctuation\">;</span>  <span class=\"token comment\">//springframework çš„ DiscoveryClientï¼ˆä¸è¦å¯¼é”™åŒ…äº†ï¼‰</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/payment/discovery\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">discovery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// è·å–æœåŠ¡åˆ—è¡¨çš„ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> services <span class=\"token operator\">=</span> discoveryClient<span class=\"token punctuation\">.</span><span class=\"token function\">getServices</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> element <span class=\"token operator\">:</span> services<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*******elementï¼š\"</span> <span class=\"token operator\">+</span> element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// è·å– CLOUD-PAYMENT-SERVICE æœåŠ¡çš„æ‰€æœ‰å…·ä½“å®ä¾‹</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ServiceInstance</span><span class=\"token punctuation\">></span></span> instances <span class=\"token operator\">=</span> discoveryClient<span class=\"token punctuation\">.</span><span class=\"token function\">getInstances</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CLOUD-PAYMENT-SERVICE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ServiceInstance</span> instance <span class=\"token operator\">:</span> instances<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">//getServiceId æœåŠ¡å™¨ id getHost ä¸»æœºåç§° getPort ç«¯å£å·  getUri åœ°å€</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span><span class=\"token function\">getServiceId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\t\"</span> <span class=\"token operator\">+</span> instance<span class=\"token punctuation\">.</span><span class=\"token function\">getHost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\t\"</span> <span class=\"token operator\">+</span> instance<span class=\"token punctuation\">.</span><span class=\"token function\">getPort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\t\"</span> <span class=\"token operator\">+</span> instance<span class=\"token punctuation\">.</span><span class=\"token function\">getUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discoveryClient<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p>\n<p>è·å–äº†æ³¨å†Œä¸­å¿ƒä¸Šçš„å·²æœ‰æœåŠ¡ï¼ˆæœ‰ä¸¤ä¸ªæœåŠ¡ cloud-consumer-orderã€cloud-payment-serviceï¼‰ï¼Œ</p>\n<p>ä¹Ÿå¯ä»¥é€šè¿‡æœåŠ¡åæˆ–è€…å¯¹åº”çš„æœåŠ¡å®ä¾‹ï¼Œå¦‚ CLOUD-PAYMENT-SERVICE è·å–äº† 8001 å’Œ 8002 ä¸¤ä¸ªæœåŠ¡å®ä¾‹ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654155703823-15d05a25-2c41-4c8a-b47b-6f32d9db802e.png\" alt=\"img\"></p>\n<h2 id=\"6-eurekaè‡ªæˆ‘ä¿æŠ¤\"><a class=\"markdownIt-Anchor\" href=\"#6-eurekaè‡ªæˆ‘ä¿æŠ¤\">#</a> 6-eureka è‡ªæˆ‘ä¿æŠ¤</h2>\n<h3 id=\"1-æ¦‚è¿°\"><a class=\"markdownIt-Anchor\" href=\"#1-æ¦‚è¿°\">#</a> 1. æ¦‚è¿°</h3>\n<p>å…³äºçš„æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2NDQwODAzL2FydGljbGUvZGV0YWlscy84MzAyODMzNSM=\">Eureka çš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</span></p>\n<p><strong>å±äº CAP é‡Œé¢çš„ AP åˆ†æ”¯</strong></p>\n<p><strong>æ•…éšœç°è±¡ï¼š</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654156293994-8cade08e-6536-49fe-801a-d24b1704683d.png\" alt=\"img\"></p>\n<p><strong>ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ Eureka è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Ÿ</strong></p>\n<p>ä¸ºäº†<strong>é˜²æ­¢è¯¯æ€</strong>å¯ä»¥æ­£å¸¸è¿è¡Œçš„ EurekaClient ï¼Œåœ¨ä¸ EurekaServer ç½‘ç»œä¸é€šæƒ…å†µä¸‹ï¼ŒEurekaServer ä¸ä¼šç«‹åˆ» å°† EurekaClient æœåŠ¡å‰”é™¤</p>\n<p><strong>ä»€ä¹ˆæ˜¯è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼Ÿ</strong></p>\n<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœ EurekaServer åœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ¥æ”¶åˆ°æŸä¸ªå¾®æœåŠ¡å®ä¾‹çš„å¿ƒè·³ï¼ŒEurekaServer å°†ä¼šæ³¨é”€è¯¥å®ä¾‹ï¼ˆ<strong>é»˜è®¤ 90 ç§’</strong>ï¼‰ã€‚ä½†æ˜¯å½“ç½‘ç»œåˆ†åŒºæ•…éšœå‘ç”Ÿï¼ˆå»¶æ—¶ã€å¡é¡¿ã€æ‹¥æŒ¤ï¼‰æ—¶ï¼Œå¾®æœåŠ¡ä¸ EurekaServer ä¹‹é—´æ— æ³•æ­£å¸¸é€šä¿¡ï¼Œä»¥ä¸Šè¡Œä¸ºå¯èƒ½å˜å¾—éå¸¸å±é™©äº†ä¸€å› ä¸ºå¾®æœåŠ¡æœ¬èº«å…¶å®æ˜¯å¥åº·çš„ï¼Œæ­¤æ—¶æœ¬ä¸åº”è¯¥æ³¨é”€è¿™ä¸ªå¾®æœåŠ¡ã€‚Eureka é€šè¿‡ â€œè‡ªæˆ‘ä¿æŠ¤æ¨¡å¼â€ æ¥è§£å†³è¿™ä¸ªé—®é¢˜ä¸€ä¸€å½“ EurekaServer èŠ‚ç‚¹<strong>åœ¨çŸ­æ—¶é—´å†…ä¸¢å¤±è¿‡å¤šå®¢æˆ·ç«¯</strong>æ—¶ï¼ˆå¯èƒ½å‘ç”Ÿäº†ç½‘ç»œåˆ†åŒºæ•…éšœï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±ä¼šè¿›å…¥è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654157291859-7334a3c3-8156-49ca-a741-622c3ae8ae5f.png\" alt=\"img\"></p>\n<p>å®ƒçš„è®¾è®¡å“²å­¦å°±æ˜¯å®å¯ä¿ç•™é”™è¯¯çš„æœåŠ¡æ³¨å†Œä¿¡æ¯ï¼Œä¹Ÿä¸ç›²ç›®æ³¨é”€ä»»ä½•å¯èƒ½å¥åº·çš„æœåŠ¡å®ä¾‹ã€‚ä¸€å¥è¯è®²è§£ï¼š<strong>å¥½æ­»ä¸å¦‚èµ–æ´»ç€</strong></p>\n<p>ç»¼ä¸Šï¼Œè‡ªæˆ‘ä¿æŠ¤æ¨¡å¼æ˜¯ä¸€ç§åº”å¯¹ç½‘ç»œå¼‚å¸¸çš„å®‰å…¨ä¿æŠ¤æªæ–½ã€‚å®ƒçš„æ¶æ„å“²å­¦æ˜¯å®å¯åŒæ—¶ä¿ç•™æ‰€æœ‰å¾®æœåŠ¡ï¼ˆå¥åº·çš„å¾®æœåŠ¡å’Œä¸å¥åº·çš„å¾®æœåŠ¡éƒ½ä¼šä¿ç•™) ä¹Ÿä¸ç›²ç›®æ³¨é”€ä»»ä½•å¥åº·çš„å¾®æœåŠ¡ã€‚ä½¿ç”¨è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼Œå¯ä»¥è®© EurekÄé›†ç¾¤æ›´åŠ çš„å¥å£®ã€ç¨³å®šã€‚</p>\n<h3 id=\"2-æ€ä¹ˆç¦æ­¢è‡ªæˆ‘ä¿æŠ¤\"><a class=\"markdownIt-Anchor\" href=\"#2-æ€ä¹ˆç¦æ­¢è‡ªæˆ‘ä¿æŠ¤\">#</a> 2. æ€ä¹ˆç¦æ­¢è‡ªæˆ‘ä¿æŠ¤ï¼Ÿ</h3>\n<ol>\n<li>** æ³¨å†Œä¸­å¿ƒ 7001  ï¼š** å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼ˆé»˜è®¤æ˜¯å¼€å¯çš„ï¼‰</li>\n</ol>\n<p>ä¿®æ”¹ yml æ–‡ä»¶ï¼šé€å‡º - é—´éš” - è®¡æ—¶å™¨ - æ¯«ç§’</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#  client</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token comment\">#  server ä¸ client å¯¹é½</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">#å…³é—­è‡ªæˆ‘ä¿æŠ¤ï¼Œé»˜è®¤ä¸º true</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">enable-self-preservation</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">#å¿ƒè·³çš„é—´éš”æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">eviction-interval-timer-in-ms</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2000</span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>ç”Ÿäº§è€…å®¢æˆ·ç«¯ 8001 ï¼š</strong></li>\n</ol>\n<p>ä¿®æ”¹å‘é€å¿ƒè·³åŒ…æ—¶é—´é—´éš”ï¼ˆé»˜è®¤ 30 ç§’ï¼‰ã€ä¿®æ”¹å¿ƒè·³ç­‰å¾…æ—¶é—´ï¼Œè¶…æ—¶å‰”é™¤ï¼ˆé»˜è®¤ 90 ç§’ï¼‰</p>\n<p>ä¿®æ”¹ yml æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#instance: çš„ä¸‹ä¸€çº§</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\">#Eureka å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å¿ƒè·³çš„æ—¶é—´é—´éš”ï¼Œå•ä½ç§’ï¼ˆé»˜è®¤ 30 ç§’ï¼‰</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">lease-renewal-interval-in-seconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">#Eureka æœåŠ¡ç«¯åœ¨æ”¶åˆ°æœ€åä¸€æ¬¡å¿ƒè·³åç­‰å¾…çš„æ—¶é—´ä¸Šé™ï¼Œå•ä½ç§’ï¼ˆé»˜è®¤ 90 ç§’ï¼‰ï¼Œè¶…æ—¶å‰”é™¤æœåŠ¡</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">lease-expiration-duration-in-seconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>æµ‹è¯•</strong></li>\n</ol>\n<p>å…³é—­ 8001ï¼Œç¨å 7001 æ³¨å†Œä¸­å¿ƒä¼šæŠŠ 8001 æœåŠ¡å‰”é™¤æ‰ã€‚</p>\n<p>æ˜¾ç¤ºè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶å·²ç»å…³é—­ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654159013128-9afaf0a2-8fc7-455c-adfb-91400c5e503a.png\" alt=\"img\"></p>\n<h1 id=\"å…­-zookeeperæœåŠ¡æ³¨å†Œä¸å‘ç°\"><a class=\"markdownIt-Anchor\" href=\"#å…­-zookeeperæœåŠ¡æ³¨å†Œä¸å‘ç°\">#</a> å…­ã€Zookeeper æœåŠ¡æ³¨å†Œä¸å‘ç°</h1>\n<p>Eureka å·²ç»åœæ­¢æ›´æ–°äº†ï¼Œåé¢å°±å‡ºç°äº† Zookeeper è¿›è¡Œæ›¿ä»£ã€‚</p>\n<h2 id=\"1-æ³¨å†Œä¸­å¿ƒzookeeper\"><a class=\"markdownIt-Anchor\" href=\"#1-æ³¨å†Œä¸­å¿ƒzookeeper\">#</a> 1 - æ³¨å†Œä¸­å¿ƒ Zookeeper</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1654749742233-b5d73faf-1107-4479-a04c-0e2b3b0409e2.png\" alt=\"img\"></p>\n<h3 id=\"1-å®‰è£…zookeeper-linux\"><a class=\"markdownIt-Anchor\" href=\"#1-å®‰è£…zookeeper-linux\">#</a> 1. å®‰è£… Zookeeper-Linux</h3>\n<p>ä¸‹è½½è·¯å¾„ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kbGNkbi5hcGFjaGUub3JnL3pvb2tlZXBlci8=\">https://dlcdn.apache.org/zookeeper/</span></p>\n<p>å®‰è£…è™šæ‹Ÿæœº + Linux ç³»ç»Ÿ</p>\n<p>å®‰è£…æ•™ç¨‹å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2EyMzIxMTIzL2FydGljbGUvZGV0YWlscy8xMjM1NTQzOTk=\">è™šæ‹Ÿæœº linux å®‰è£… zookeeper</span></p>\n<p>ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿è¿™é‡Œä½¿ç”¨ docker å®¹å™¨ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2OTAzMjYxL2FydGljbGUvZGV0YWlscy8xMDU4NzAyNjg=\">ä¸€æ¬¾å¿…é¡»æŒæ¡çš„è™šæ‹Ÿå®¹å™¨æŠ€æœ¯ï¼šDocker</span></p>\n<p>è¿™é‡Œå°±è·Ÿç€è¿™ä¸ªæ•™ç¨‹ä¸€æ­¥æ­¥æ¥å°±è¡Œäº†ï¼Œ</p>\n<p>æŸ¥çœ‹ç‰ˆæœ¬å·ï¼š <code>docker version</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659423142446-e2639e38-6418-4f23-ab11-a35c7c04b2da.png\" alt=\"img\"></p>\n<p>è¿™ä¸‹æœ‰ docker å®¹å™¨äº†ã€‚ä½†æ˜¯æœ‰ä¸ªé—®é¢˜æ˜¯è¯´è¿æ¥å¤±è´¥ã€‚</p>\n<p><strong>é—®é¢˜ï¼š</strong></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659424198602-194def03-d345-472e-9d12-15a9eb916aaf.png\" alt=\"img\"></p>\n<p>** å‚è€ƒé“¾æ¥ï¼š**<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xOTEyNTA2\">https://cloud.tencent.com/developer/article/1912506</span></p>\n<p>** è§£å†³ï¼š** å°±è·Ÿç€å‚è€ƒè¿æ¥æ¥å°±è§£å†³äº†ï¼Œç”¨ <code>systemctl start docker</code>  å’Œ <code>docker run hello-world</code>  æµ‹è¯•ä¸€ä¸‹ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659424659602-a94515ee-21fe-4246-a264-43a93e174a66.png\" alt=\"img\"></p>\n<p>æ¥ä¸‹æ¥å°±ä¸€æ­¥æ­¥æ¥ï¼š</p>\n<p>1. å…³é—­ linux é˜²ç«å¢™</p>\n<p>2. åœ¨ docker ä¸‹è½½ä¸€ä¸ª zookeeper</p>\n<p>å…³é—­ Linux æœåŠ¡å™¨é˜²ç«å¢™åå¯åŠ¨ Zookeeper æœåŠ¡å™¨</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl stop firewalld</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl status firewalld</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1656344360935-45e36d1b-070d-4a04-9ba8-b5d7fe17df2d.png\" alt=\"img\"></p>\n<p>2. ä½¿ç”¨ docker å¯åŠ¨ Zookeeperï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å¯åŠ¨ docker</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl start <span class=\"token function\">docker</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#æ‹‰å– Zookeeper é•œåƒ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">docker</span> pull zookeeper</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#å¯åŠ¨ Zookeeper</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">--name</span> zk01 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">2181</span>:2181 <span class=\"token parameter variable\">--restart</span> always <span class=\"token parameter variable\">-d</span> zookeeper</pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1656344478701-5fd9bd55-e32b-4412-9993-53615d1869b8.png\" alt=\"img\"></p>\n<p>æŠ¥é”™äº†ï¼Œå› ä¸ºæˆ‘ç¬¬ä¸€æ¬¡æ²¡æˆåŠŸï¼Œè¿‡äº†å¥½ä¹…æ‰åˆé‡æ–°ç»ƒä¹ çš„ï¼ŒæŠ¥çš„é”™æ˜¯æ•°å®¹å™¨åç§°å†²çªï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659425074100-41a5dc47-6c9d-43df-bc15-8de41fde15d2.png\" alt=\"img\"></p>\n<p>è¿™é‡Œæˆ‘æ²¡ç®¡äº†ï¼Œå°±ç›´æ¥å§ zk01 æ”¹æˆäº† zk02 äº†ï¼Œä¹Ÿå¯ä»¥å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vcnlhbnpoZW5nL3AvMTQwNTI1ODkuaHRtbA==\">docker å®¹å™¨åç§°å†²çªé—®é¢˜è§£å†³</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659425190147-3a9dc171-9ad0-4036-95cc-3fd92c0dcfe6.png\" alt=\"img\"></p>\n<p><strong>æœåŠ¡èŠ‚ç‚¹æ˜¯ä¸´æ—¶èŠ‚ç‚¹è¿˜æ˜¯æŒä¹…èŠ‚ç‚¹ï¼Ÿ</strong></p>\n<p>zookeeper ä¹Ÿæ˜¯æœ‰å¿ƒè·³æœºåˆ¶ï¼Œåœ¨ä¸€å®šæ—¶é—´èƒ½å¦‚æœä¸€ç›´æ²¡å¿ƒè·³è¿”å›ï¼ŒZookeeper å°±ä¼šæŠŠæœåŠ¡èŠ‚ç‚¹å‰”é™¤æ‰ã€‚æ‰€ä»¥åœ¨ Zookeeper ä¸Šçš„æœåŠ¡èŠ‚ç‚¹æ˜¯ä¸´æ—¶èŠ‚ç‚¹</p>\n<h2 id=\"2-æœåŠ¡æä¾›è€…\"><a class=\"markdownIt-Anchor\" href=\"#2-æœåŠ¡æä¾›è€…\">#</a> 2 - æœåŠ¡æä¾›è€…</h2>\n<p>åº”è¯¥æ˜¯æ•°æ®è¿æ¥é—®é¢˜ï¼Œæˆ‘ä¸‹é¢æ²¡æœ‰æˆåŠŸï¼Œä¸‹é¢çš„ç¬”è®°æ˜¯å¤åˆ¶å‚è€ƒçš„æ–‡ç« çš„ã€‚</p>\n<blockquote>\n<ol>\n<li>å»º module  - cloud-provider-payment8004</li>\n<li>æ”¹ pom   -  spring-cloud-starter-zookeeper-discovery</li>\n<li>å†™ yml</li>\n<li>ä¸»å¯åŠ¨</li>\n<li>ä¸šåŠ¡ç±»</li>\n</ol>\n</blockquote>\n<ol>\n<li>\n<p>æ–°å»ºå·¥ç¨‹ cloud-provider-payment8004</p>\n</li>\n<li>\n<p>pom</p>\n</li>\n</ol>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- å› ä¸ºæ¥ä¸‹æ¥ä¸ä¼šç”¨åˆ°æ•°æ®åº“ï¼Œæ‰€ä»¥ä¸å¯¼å…¥æ•°æ®åº“ç›¸å…³çš„ä¾èµ–ï¼ˆé˜²æ­¢æ²¡é…ç½®è€ŒæŠ¥é”™ï¼‰--></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token comment\">&lt;!-- æ›¿æ¢æ‰ eureka ä¾èµ–ï¼Œå…¶ä»–ç›´æ¥å¤åˆ¶ 8001--></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\">&lt;!--SpringBoot æ•´åˆ Zookeeper å®¢æˆ·ç«¯ --></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.cloud<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-cloud-starter-zookeeper-discovery<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">&lt;!--        &lt;exclusions>--></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token comment\">&lt;!-- å…ˆæ’é™¤è‡ªå¸¦çš„ zookeeper3.5.3--></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">&lt;!--            &lt;exclusion>--></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">&lt;!--                &lt;groupId>org.apache.zookeeper&lt;/groupId>--></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">&lt;!--                &lt;artifactId>zookeeper&lt;/artifactId>--></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">&lt;!--            &lt;/exclusion>--></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">&lt;!--        &lt;/exclusions>--></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">&lt;!-- æ·»åŠ  zookeeper3.4.9 ç‰ˆæœ¬ï¼ˆå¼•å…¥å¯¹åº”ç‰ˆæœ¬çš„ä¾èµ–ï¼‰--></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">&lt;!--        &lt;dependency>--></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">&lt;!--            &lt;groupId>org.apache.zookeeper&lt;/groupId>--></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">&lt;!--            &lt;artifactId>zookeeper&lt;/artifactId>--></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">&lt;!--            &lt;version>3.4.9&lt;/version>--></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">&lt;!--        &lt;/dependency>--></span></pre></td></tr></table></figure><ol start=\"3\">\n<li>yml</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#ç«¯å£å·</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8004</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">#æœåŠ¡åˆ«å â€”â€” æ³¨å†Œåˆ° zookeeper æ³¨å†Œä¸­å¿ƒçš„åç§°</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> cloud<span class=\"token punctuation\">-</span>provider<span class=\"token punctuation\">-</span>payment</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">zookeeper</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token key atrule\">connect-string</span><span class=\"token punctuation\">:</span> 192.168.174.130<span class=\"token punctuation\">:</span><span class=\"token number\">2181</span> <span class=\"token comment\">#linux çš„ ip åŠ æš´éœ²çš„ç«¯å£å·</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>ä¸»å¯åŠ¨ç±»</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@EnableDiscoveryClient</span>\t<span class=\"token comment\">// è¯¥æ³¨è§£ç”¨äºå‘ä½¿ç”¨ consul æˆ–è€… Zookeeper ä½œä¸ºæ³¨å†Œä¸­å¿ƒæ—¶æ³¨å†ŒæœåŠ¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@SpringBootApplication</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentMain8004</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PaymentMain8004</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"5\">\n<li>controller- æ–°å»º controller.PaymentController</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$&#123;server.port&#125;\"</span><span class=\"token punctuation\">)</span>        <span class=\"token comment\">// è·å–ç«¯å£å·</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> serverPort<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/payment/zk\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">paymentzk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"springcloud with zookeeperï¼š\"</span> <span class=\"token operator\">+</span> serverPort <span class=\"token operator\">+</span> <span class=\"token string\">\"\\t\"</span> <span class=\"token operator\">+</span> <span class=\"token constant\">UUID</span><span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"6\">\n<li>Zookeeper å®¹å™¨</li>\n</ol>\n<p>é»˜è®¤å·²ç»å¸®æˆ‘ä»¬å¯åŠ¨äº†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œå¦‚æœæƒ³è¿›å»å®¹å™¨çš„è¯ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼ˆæŸ¥çœ‹ Zookeeper å®¹å™¨çš„ idï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#è¿›å…¥ zookeeper å®¹å™¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> å®¹å™¨ID /bin/bash</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#é€€å‡ºå®¹å™¨ï¼ˆæˆ–è€…æŒ‰å¿«æ·é”® ctrl+P+Q é€€å‡ºï¼‰</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token builtin class-name\">exit</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#å¯åŠ¨å®¹å™¨</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">docker</span> start å®¹å™¨ID</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#å…³é—­å®¹å™¨</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">docker</span> stop å®¹å™¨ID</pre></td></tr></table></figure><p>å¯åŠ¨ 8004 é¡¹ç›®ï¼Œæµè§ˆå™¨è¾“å…¥ http://localhost:8004/payment/zk</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659428419465-5edb00e1-612b-4bd4-90f5-c1263b6eab56.png\" alt=\"img\"></p>\n<p>è¿›å…¥ Zookeeper å®¹å™¨ï¼ˆæˆåŠŸæ³¨å†Œè¿›æ³¨å†Œä¸­å¿ƒï¼‰</p>\n<p>å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5NDQwNTA3L2FydGljbGUvZGV0YWlscy8xMTI4NTI5Njg=\">docker å®‰è£… zookeeper å®¹å™¨è¿›å…¥å®¹å™¨å‘½ä»¤æŸ¥çœ‹èŠ‚ç‚¹</span></p>\n<p>ç”¨ä»¥ä¸‹å‡ ä¸ªå‘½ä»¤ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼ˆæŸ¥çœ‹ Zookeeper å®¹å™¨çš„ idï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-a</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#è¿›å…¥ zookeeper å®¹å™¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> å®¹å™¨ID /bin/bash</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">ls</span> /     <span class=\"token comment\"># æŸ¥çœ‹ </span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token builtin class-name\">cd</span> bin/  <span class=\"token comment\"># è¿›å…¥å®¹å™¨ bin æ–‡ä»¶å¤¹</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>zkcli.sh <span class=\"token comment\"># è¿è¡Œ zkcli.sh</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">ls</span> /</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">ls</span> /services  <span class=\"token comment\"># æŸ¥çœ‹ zookeeper å·²æ³¨å†ŒæœåŠ¡</span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659432647285-6f509f69-41f7-46dd-9d4f-9386b6bddef7.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659433075109-6c092cec-5c07-4a1f-bde0-81e4308cfb8c.png\" alt=\"img\"></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly90b29sLmx1L2pzb24v\">https://tool.lu/json/</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659433147442-27e2d7d9-ce7c-4a45-87b8-54f3bb40e4ad.png\" alt=\"img\"></p>\n<h2 id=\"3-æœåŠ¡æ¶ˆè´¹è€…\"><a class=\"markdownIt-Anchor\" href=\"#3-æœåŠ¡æ¶ˆè´¹è€…\">#</a> 3 - æœåŠ¡æ¶ˆè´¹è€…</h2>\n<blockquote>\n<ol>\n<li>å»º module  - cloud-consumerzk-order80</li>\n<li>æ”¹ pom   -  åŒ 8004</li>\n<li>å†™ yml   - åŒ 8004 ï¼Œä½†æ”¹ç«¯å£å·å’ŒæœåŠ¡å</li>\n<li>ä¸»å¯åŠ¨     - åŒ 8004</li>\n<li>ä¸šåŠ¡ç±»</li>\n</ol>\n</blockquote>\n<ol>\n<li>\n<p>æ–°å»ºæ¶ˆè´¹è€…æ¨¡å— cloud-consumerzk-order80ã€‚</p>\n<p>pom å’Œ yml ç›´æ¥å¤åˆ¶ 8004ã€‚ï¼ˆyml ä¸­ç«¯å£å·æ”¹ä¸º 80ï¼Œåº”ç”¨åæ”¹ä¸º cloud-consumerzk-orderï¼Œå…¶ä»–éƒ½ç›¸åŒï¼‰</p>\n</li>\n<li>\n<p>ä¸»å¯åŠ¨ç±»ã€‚ï¼ˆä¸ 8004 ç›¸åŒï¼‰</p>\n</li>\n<li>\n<p>åœ¨ springcloud åŒ…ä¸‹æ–°å»º config.ApplicationContextConfig</p>\n</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Configuration</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ApplicationContextConfig</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token annotation punctuation\">@Bean</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token annotation punctuation\">@LoadBalanced</span>   <span class=\"token comment\">// è´Ÿè½½å‡è¡¡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RestTemplate</span> <span class=\"token function\">restTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>æ–°å»º controller.OrderZKController</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderZKController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">INVOKE_URL</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"http://cloud-provider-payment\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">RestTemplate</span> restTemplate<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/consumer/payment/zk\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">paymentInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">String</span> result <span class=\"token operator\">=</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">getForObject</span><span class=\"token punctuation\">(</span><span class=\"token constant\">INVOKE_URL</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"/payment/zk\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¯åŠ¨é¡¹ç›®</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659434415576-75c7db17-7afd-48b4-a1ce-a61a3962a1f7.png\" alt=\"img\"></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdC9jb25zdW1lci9wYXltZW50L3pr\">http://localhost/consumer/payment/zk</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659434350566-5fd0df86-2eac-46dc-959a-82d48a29ea7e.png\" alt=\"img\"></p>\n<h1 id=\"ä¸ƒ-consulæœåŠ¡æ³¨å†Œä¸å‘ç°\"><a class=\"markdownIt-Anchor\" href=\"#ä¸ƒ-consulæœåŠ¡æ³¨å†Œä¸å‘ç°\">#</a> ä¸ƒã€Consul æœåŠ¡æ³¨å†Œä¸å‘ç°</h1>\n<p>Consul å®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY29uc3VsLmlvLw==\">https://www.consul.io/</span></p>\n<p>Consul ä¸­æ–‡æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc3ByaW5nY2xvdWQuY2Mvc3ByaW5nLWNsb3VkLWNvbnN1bC5odG1s\">https://www.springcloud.cc/spring-cloud-consul.html</span></p>\n<h2 id=\"1-ç®€ä»‹\"><a class=\"markdownIt-Anchor\" href=\"#1-ç®€ä»‹\">#</a> 1 - ç®€ä»‹</h2>\n<h3 id=\"1-æ˜¯ä»€ä¹ˆ\"><a class=\"markdownIt-Anchor\" href=\"#1-æ˜¯ä»€ä¹ˆ\">#</a> 1. æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659491795131-65df8b5d-e0aa-47d9-be19-6c4638644f2c.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659491905526-1660c473-64e2-480c-ba6e-bdbfe7abf0af.png\" alt=\"img\"></p>\n<p>Consul æ˜¯ä¸€ç§æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆï¼Œæä¾›å…·æœ‰æœåŠ¡å‘ç°ï¼Œé…ç½®å’Œåˆ†æ®µåŠŸèƒ½çš„å…¨åŠŸèƒ½æ§åˆ¶å¹³é¢ã€‚è¿™äº›åŠŸèƒ½ä¸­çš„æ¯ä¸€ä¸ªéƒ½å¯ä»¥æ ¹æ®éœ€è¦å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸€èµ·ä½¿ç”¨ä»¥æ„å»ºå®Œæ•´çš„æœåŠ¡ç½‘æ ¼ã€‚Consul éœ€è¦ä¸€ä¸ªæ•°æ®å¹³é¢ï¼Œå¹¶æ”¯æŒä»£ç†å’Œæœ¬æœºé›†æˆæ¨¡å‹ã€‚Consul é™„å¸¦äº†ä¸€ä¸ªç®€å•çš„å†…ç½®ä»£ç†ï¼Œå› æ­¤ä¸€åˆ‡éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè¿˜æ”¯æŒ Envoy ç­‰ç¬¬ä¸‰æ–¹ä»£ç†é›†æˆã€‚</p>\n<h3 id=\"2-èƒ½å¹²å˜›\"><a class=\"markdownIt-Anchor\" href=\"#2-èƒ½å¹²å˜›\">#</a> 2. èƒ½å¹²å˜›ï¼Ÿ</h3>\n<p>** æœåŠ¡å‘ç°ï¼š** æä¾› HTTP/DNS ä¸¤ç§å‘ç°æ–¹å¼ã€‚</p>\n<p>Consul çš„å®¢æˆ·ç«¯å¯ä»¥æ³¨å†ŒæœåŠ¡ï¼Œä¾‹å¦‚ api æˆ– mysqlï¼Œå…¶ä»–å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ Consul æ¥å‘ç°ç»™å®šæœåŠ¡çš„æä¾›è€…ã€‚ä½¿ç”¨ DNS æˆ– HTTPï¼Œåº”ç”¨ç¨‹åºå¯ä»¥è½»æ¾æ‰¾åˆ°å®ƒä»¬ä¾èµ–çš„æœåŠ¡ã€‚</p>\n<p>** å¥åº·æ£€æµ‹ï¼š** æ”¯æŒå¤šç§æ–¹å¼ï¼ŒHTTPã€TCPã€Dockerã€shell è„šæœ¬å®šåˆ¶åŒ–ã€‚</p>\n<p>é¢†äº‹å®¢æˆ·ç«¯å¯ä»¥æä¾›ä»»æ„æ•°é‡çš„è¿è¡ŒçŠ¶å†µæ£€æŸ¥ï¼Œè¿™äº›æ£€æŸ¥å¯ä»¥ä¸ç»™å®šæœåŠ¡ï¼ˆâ€œWeb æœåŠ¡å™¨æ˜¯å¦è¿”å› 200 OKâ€ï¼‰æˆ–æœ¬åœ°èŠ‚ç‚¹ï¼ˆâ€œå†…å­˜åˆ©ç”¨ç‡ä½äº 90ï¼…â€ï¼‰ç›¸å…³ã€‚æ“ä½œå‘˜å¯ä»¥ä½¿ç”¨æ­¤ä¿¡æ¯æ¥ç›‘è§†ç¾¤é›†çš„è¿è¡ŒçŠ¶å†µï¼ŒæœåŠ¡å‘ç°ç»„ä»¶å¯ä»¥ä½¿ç”¨æ­¤ä¿¡æ¯å°†æµé‡ä»ä¸æ­£å¸¸çš„ä¸»æœºå‘é€å‡ºå»ã€‚</p>\n<p>**KV å­˜å‚¨ï¼š**Keyã€Value çš„å­˜å‚¨æ–¹å¼</p>\n<p>åº”ç”¨ç¨‹åºå¯ä»¥å°† Consul çš„åˆ†å±‚é”® / å€¼å­˜å‚¨ç”¨äºå¤šç§ç›®çš„ï¼ŒåŒ…æ‹¬åŠ¨æ€é…ç½®ï¼ŒåŠŸèƒ½æ ‡è®°ï¼Œåè°ƒï¼Œé¢†å¯¼è€…é€‰ä¸¾ç­‰ã€‚ç®€å•çš„ HTTP API ä½¿å…¶æ˜“äºä½¿ç”¨ã€‚</p>\n<p><strong>å®‰å…¨çš„æœåŠ¡é€šä¿¡</strong>ï¼šé¢†äº‹å¯ä»¥ä¸ºæœåŠ¡ç”Ÿæˆå¹¶åˆ†å‘ TLS è¯ä¹¦ï¼Œä»¥å»ºç«‹ç›¸äº’ TLS è¿æ¥ã€‚ æ„å›¾ å¯ç”¨äºå®šä¹‰å…è®¸å“ªäº›æœåŠ¡è¿›è¡Œé€šä¿¡ã€‚å¯ä»¥ä½¿ç”¨å¯ä»¥å®æ—¶æ›´æ”¹çš„æ„å›¾è½»æ¾ç®¡ç†æœåŠ¡åˆ†æ®µï¼Œè€Œä¸å¿…ä½¿ç”¨å¤æ‚çš„ç½‘ç»œæ‹“æ‰‘å’Œé™æ€é˜²ç«å¢™è§„åˆ™ã€‚</p>\n<p>** å¤šæ•°æ®ä¸­å¿ƒï¼š**Consul æ”¯æŒå¤šæ•°æ®ä¸­å¿ƒ</p>\n<p>Consul å¼€ç®±å³ç”¨åœ°æ”¯æŒå¤šä¸ªæ•°æ®ä¸­å¿ƒã€‚è¿™æ„å‘³ç€ Consul çš„ç”¨æˆ·ä¸å¿…æ‹…å¿ƒä¼šæ„å»ºå…¶ä»–æŠ½è±¡å±‚ä»¥æ‰©å±•åˆ°å¤šä¸ªåŒºåŸŸã€‚</p>\n<p>Consul æ—¨åœ¨å¯¹ DevOps ç¤¾åŒºå’Œåº”ç”¨ç¨‹åºå¼€å‘äººå‘˜å‹å¥½ï¼Œä½¿å…¶éå¸¸é€‚åˆç°ä»£ï¼Œçµæ´»çš„åŸºç¡€æ¶æ„ã€‚</p>\n<h3 id=\"3-å“ªä¸‹è½½\"><a class=\"markdownIt-Anchor\" href=\"#3-å“ªä¸‹è½½\">#</a> 3. å“ªä¸‹è½½ï¼Ÿ</h3>\n<p>ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY29uc3VsLmlvL2Rvd25sb2Fkcy5odG1s\">https://www.consul.io/downloads.html</span></p>\n<h3 id=\"4-æ€ä¹ˆç©\"><a class=\"markdownIt-Anchor\" href=\"#4-æ€ä¹ˆç©\">#</a> 4. æ€ä¹ˆç©ï¼Ÿ</h3>\n<p>Consul ä¸­æ–‡æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc3ByaW5nY2xvdWQuY2Mvc3ByaW5nLWNsb3VkLWNvbnN1bC5odG1s\">https://www.springcloud.cc/spring-cloud-consul.html</span></p>\n<p><strong>åœ¨ docker ä¸Šå®‰è£…å¯åŠ¨ consul</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å¯åŠ¨ docker</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl start <span class=\"token function\">docker</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#æ‹‰å– consul é•œåƒ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">docker</span> pull consul</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#å¯åŠ¨ consul</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span>  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8500</span>:8500/tcp <span class=\"token parameter variable\">--name</span> myConsul  consul agent <span class=\"token parameter variable\">-server</span> <span class=\"token parameter variable\">-ui</span> -bootstrap-expect<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">-client</span><span class=\"token operator\">=</span><span class=\"token number\">0.0</span>.0.0</pre></td></tr></table></figure><p>ç„¶ååœ¨æµè§ˆå™¨è¾“å…¥ http://192.168.174.130:8500ï¼ˆlinux çš„ IP åœ°å€åŠ ä¸Šå†’å· 8500ï¼‰</p>\n<p>å¦‚æœæ˜¯æœ¬æœºçš„è¯ï¼Œå°±ç”¨ http://localhost:8500</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659577765836-f5cd687d-6c1b-4f82-99f7-bf2a5aefd9eb.png\" alt=\"img\"></p>\n<h2 id=\"2-æœåŠ¡æä¾›è€…-2\"><a class=\"markdownIt-Anchor\" href=\"#2-æœåŠ¡æä¾›è€…-2\">#</a> 2 - æœåŠ¡æä¾›è€…</h2>\n<blockquote>\n<ol>\n<li>å»º module  - cloud-provider-consul-payment8006</li>\n<li>æ”¹ pom   -  spring-cloud-starter-consul-discovery</li>\n<li>å†™ yml</li>\n<li>ä¸»å¯åŠ¨</li>\n<li>ä¸šåŠ¡ç±»</li>\n</ol>\n</blockquote>\n<ol>\n<li>\n<p>æ–°å»ºæœåŠ¡æä¾›è€… cloud-provider-consul-payment8006ã€‚</p>\n</li>\n<li>\n<p>pom å¤åˆ¶ 8004ã€‚ï¼ˆç”¨ä¸‹é¢çš„ä¾èµ–æ›¿æ¢ Zookeeper çš„ä¾èµ–ï¼‰</p>\n</li>\n</ol>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!--SpringCloud consul-server--></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.cloud<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-cloud-starter-consul-discovery<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ol start=\"3\">\n<li>yml</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8006</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> consul<span class=\"token punctuation\">-</span>payment<span class=\"token punctuation\">-</span>provider</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">consul</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> 192.168.174.130 <span class=\"token comment\">#ç”¨ linux çš„ ip åœ°å€ï¼ˆconsul åœ¨æœ¬æœºå°±å¡« localhostï¼‰</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8500</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token key atrule\">discovery</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token key atrule\">service-name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">&#123;</span>spring.application.name<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token key atrule\">heartbeat</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>          <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>\n<p>ä¸»å¯åŠ¨ç±»ï¼ˆä¸ 8004 ç›¸åŒï¼‰</p>\n</li>\n<li>\n<p>controller</p>\n</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$&#123;server.port&#125;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> serverPort<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/payment/consul\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">paymentConsul</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"springcloud with consulï¼š\"</span><span class=\"token operator\">+</span>serverPort<span class=\"token operator\">+</span><span class=\"token string\">\"\\t\"</span><span class=\"token operator\">+</span><span class=\"token string\">\"éšæœºæ•°ï¼š\"</span> <span class=\"token operator\">+</span> <span class=\"token constant\">UUID</span><span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"6\">\n<li>å¯åŠ¨é¡¹ç›®</li>\n</ol>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDo4MDA2L3BheW1lbnQvY29uc3Vs\">http://localhost:8006/payment/consul</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659579791146-1305a00f-c1e3-4418-8bf9-0969ee2a382f.png\" alt=\"img\"></p>\n<p>ä½†æ˜¯ Consul çš„æœåŠ¡æœ‰çº¢è‰²âŒ</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659579900957-5c6f6538-0b5a-4df5-838f-79063ebcde17.png\" alt=\"img\"></p>\n<p><strong>è§£å†³ï¼š</strong></p>\n<p>å‚è€ƒ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyMTI3MC9hcnRpY2xlL2RldGFpbHMvMTA3Njk0MDIy\">https://blog.csdn.net/weixin_44021270/article/details/107694022</span></p>\n<p>å·²ç»åœ¨ä¸Šè¾¹çš„ application.yml æ·»ä¸Šäº†</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659580067479-920fa148-775e-4f3f-8de4-4b02e4c51630.png\" alt=\"img\"></p>\n<h2 id=\"3-æœåŠ¡æ¶ˆè´¹è€…-2\"><a class=\"markdownIt-Anchor\" href=\"#3-æœåŠ¡æ¶ˆè´¹è€…-2\">#</a> 3 - æœåŠ¡æ¶ˆè´¹è€…</h2>\n<blockquote>\n<ol>\n<li>å»º module  - cloud-consumer-consul-order80</li>\n<li>æ”¹ pom   -  spring-cloud-starter-consul-discovery</li>\n<li>å†™ yml</li>\n<li>ä¸»å¯åŠ¨</li>\n<li>ä¸šåŠ¡ç±»</li>\n</ol>\n</blockquote>\n<ol>\n<li>\n<p>æ–°å»ºæ¨¡å— cloud-consumer-consul-order80</p>\n</li>\n<li>\n<p>pomï¼ˆä¸ 8006 ç›¸åŒï¼‰</p>\n</li>\n<li>\n<p>ymlï¼ˆç«¯å£å·ä¸º 80ï¼Œåº”ç”¨åä¸º consul-consumer-orderï¼Œå…¶ä»–å’Œ 8006 ç›¸åŒï¼‰</p>\n</li>\n<li>\n<p>ä¸»å¯åŠ¨ç±»ï¼ˆä¸ 8006 ç›¸åŒï¼‰</p>\n</li>\n<li>\n<p>configï¼ˆå’Œ zk çš„æ¶ˆè´¹è€…ç›¸åŒï¼‰</p>\n</li>\n<li>\n<p>controller.OrderConsulController</p>\n</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderConsulController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">INVOKE_URL</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"http://consul-provider-payment\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">RestTemplate</span> restTemplate<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/consumer/payment/consul\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">paymentInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">String</span> result <span class=\"token operator\">=</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">getForObject</span><span class=\"token punctuation\">(</span><span class=\"token constant\">INVOKE_URL</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"/payment/consul\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"7\">\n<li>å¯åŠ¨é¡¹ç›®</li>\n</ol>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdC9jb25zdW1lci9wYXltZW50L2NvbnN1bA==\">http://localhost/consumer/payment/consul</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659582196614-42cd3965-3056-4338-b291-50d2bd05cdde.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659582182604-576388fd-62ef-447e-b884-865dc5245180.png\" alt=\"img\"></p>\n<h2 id=\"4-eureka-zk-consulä¸‰è€…çš„å¼‚åŒç‚¹\"><a class=\"markdownIt-Anchor\" href=\"#4-eureka-zk-consulä¸‰è€…çš„å¼‚åŒç‚¹\">#</a> 4 - Eurekaã€ZKã€Consul ä¸‰è€…çš„å¼‚åŒç‚¹</h2>\n<p>ç›¸å…³æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTA5NTM1L2FydGljbGUvZGV0YWlscy8xMTM3MjkwNjU=\">Eurekaã€ZKã€Consul ä¸‰è€…çš„å¼‚åŒç‚¹</span></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659582570296-32398eb6-d5a9-4839-8bc9-2ce149993cb2.png\" alt=\"img\"></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>CAPï¼šï¼ˆåªèƒ½äºŒé€‰ä¸€ï¼‰</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Cï¼šä¸€è‡´æ€§</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Aï¼šå¯ç”¨æ€§</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Pï¼šåˆ†åŒºå®¹é”™æ€§ï¼ˆå¾®æœåŠ¡æ¶æ„å¿…é¡»ä¿è¯æœ‰Pï¼‰</pre></td></tr></table></figure><p><strong>ä¸‰è€…ä¹‹é—´çš„æ¯”è¾ƒï¼š</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>ç»„ä»¶å</strong></th>\n<th><strong>è¯­è¨€</strong></th>\n<th><strong>CAP</strong></th>\n<th><strong>æœåŠ¡å¥åº·æ£€æŸ¥</strong></th>\n<th><strong>æœåŠ¡å¥åº·æ£€æŸ¥å¯¹å¤–æš´éœ²æ¥å£</strong></th>\n<th><strong>SpringCloud é›†æˆ</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Eureka</td>\n<td>Java</td>\n<td>AP</td>\n<td>å¯é…æ”¯æŒ</td>\n<td>HTTP</td>\n<td>å·²é›†æˆ</td>\n</tr>\n<tr>\n<td>Consul</td>\n<td>Go</td>\n<td>CP</td>\n<td>æ”¯æŒ</td>\n<td>HTTP/DNS</td>\n<td>å·²é›†æˆ</td>\n</tr>\n<tr>\n<td>Zookeeper</td>\n<td>Java</td>\n<td>CP</td>\n<td>æ”¯æŒ</td>\n<td>å®¢æˆ·ç«¯</td>\n<td>å·²é›†æˆ</td>\n</tr>\n</tbody>\n</table>\n<p><strong>ç»å…¸æ¡ˆä¾‹ï¼š</strong></p>\n<pre><code>AP(Eureka)\n</code></pre>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659582965024-d056152e-68e9-4016-92c7-c526e8a3258c.png\" alt=\"img\"></p>\n<pre><code>CP(Zookeeper/Consul)\n</code></pre>\n<p>å½“ç½‘ç»œåˆ†åŒºå‡ºç°åï¼Œä¸ºäº†ä¿è¯ä¸€è‡´æ€§ï¼Œå°±å¿…é¡»æ‹’ç»è¯·æ±‚ï¼Œå¦åˆ™æ— æ³•ä¿è¯ä¸€è‡´æ€§</p>\n<p>ç»“è®ºï¼šè¿èƒŒäº†å¯ç”¨æ€§ A çš„è¦æ±‚ï¼Œåªæ»¡è¶³ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™ï¼Œå³ CP</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659582934982-5a6b6185-d0f5-4d30-85cf-b6c609b5cbcb.png\" alt=\"img\"></p>\n<h1 id=\"å…«-ribbonè´Ÿè½½å‡è¡¡è°ƒç”¨\"><a class=\"markdownIt-Anchor\" href=\"#å…«-ribbonè´Ÿè½½å‡è¡¡è°ƒç”¨\">#</a> å…«ã€Ribbon è´Ÿè½½å‡è¡¡è°ƒç”¨</h1>\n<p>æ–‡æ¡£è¯´æ˜ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL05ldGZsaXgvcmliYm9uL3dpa2kvR2V0dGluZy1TdGFydGVk\">https://github.com/Netflix/ribbon/wiki/Getting-Started</span></p>\n<p>ä¸­æ–‡ç¤¾åŒºï¼š<span class=\"exturl\" data-url=\"aHR0cDovL2RvY3Muc3ByaW5nY2xvdWQuY24vdXNlci1ndWlkZS9yaWJib24v\">http://docs.springcloud.cn/user-guide/ribbon/</span></p>\n<h2 id=\"1-æ¦‚è¿°-2\"><a class=\"markdownIt-Anchor\" href=\"#1-æ¦‚è¿°-2\">#</a> 1 - æ¦‚è¿°</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659669809896-a01b672d-101e-4ca1-b749-198e50766a85.png\" alt=\"img\"></p>\n<p>Spring Cloud Ribbon æ˜¯åŸºäº Netflix Ribbonï¼Œå®ç°çš„ä¸€å¥— <code>å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„å·¥å…·</code> ã€‚</p>\n<p>ç®€å•çš„è¯´ï¼ŒRibbon æ˜¯ Netflix å‘å¸ƒçš„å¼€æºé¡¹ç›®ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›<strong>å®¢æˆ·ç«¯çš„è½¯ä»¶è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒæœåŠ¡è°ƒç”¨</strong>ã€‚</p>\n<p>Ribbon å®¢æˆ·ç«¯ç»„ä»¶æä¾›ä¸€ç³»åˆ—å®Œå–„çš„é…ç½®é¡¹å¦‚è¿æ¥è¶…æ—¶ï¼Œé‡è¯•ç­‰ã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ—å‡º Load Balancer (ç®€ç§° LB) åé¢æ‰€æœ‰çš„æœºå™¨ï¼ŒRibbon ä¼šè‡ªåŠ¨çš„å¸®åŠ©ä½ åŸºäºæŸç§è§„åˆ™ï¼ˆå¦‚ç®€å•è½®è¯¢ï¼Œéšæœºè¿æ¥ç­‰ï¼‰å»è¿æ¥è¿™äº›æœºå™¨ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“ä½¿ç”¨ Ribbon å®ç°è‡ªå®šä¹‰çš„è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</p>\n<p>å‰é¢çš„ Eurekaã€Zookeeperã€Consul çš„ä¹Ÿå› ä¸ºé›†æˆäº† Ribbon æ‰€ä»¥ä¹Ÿèƒ½å®ç°è´Ÿè½½å‡è¡¡ã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659668014109-b332b528-2b8a-4ea5-9c42-993bc86902fa.png\" alt=\"img\"></p>\n<p>ä½†æ˜¯å®ƒç›®å‰å·²è¿›å…¥äº†ç»´æŠ¤æ¨¡å¼ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659668084563-091c7439-defe-4704-bebf-538e82518c2b.png\" alt=\"img\"></p>\n<p>æœªæ¥æ›¿æ¢æ¨¡å¼ï¼š <code>SpringCloud loadBalancer</code></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659668117100-5c58ac13-fe47-49a6-8824-e52409191767.png\" alt=\"img\"></p>\n<h3 id=\"1-è´Ÿè½½å‡è¡¡lb\"><a class=\"markdownIt-Anchor\" href=\"#1-è´Ÿè½½å‡è¡¡lb\">#</a> 1. è´Ÿè½½å‡è¡¡ï¼ˆLBï¼‰</h3>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659669562616-e63ecfbe-cd81-4e8a-abc9-31c471c83214.png\" alt=\"img\"></p>\n<ol>\n<li><strong>é›†ä¸­å¼ LBï¼š</strong></li>\n</ol>\n<p>å³åœ¨æœåŠ¡çš„æ¶ˆè´¹æ–¹å’Œæä¾›æ–¹ä¹‹é—´ä½¿ç”¨ç‹¬ç«‹çš„ LB è®¾æ–½ï¼ˆå¯ä»¥æ˜¯ç¡¬ä»¶ï¼Œå¦‚ F5ï¼Œä¹Ÿå¯ä»¥æ˜¯è½¯ä»¶ï¼Œå¦‚ nginx), ç”±è¯¥è®¾æ–½è´Ÿè´£æŠŠè®¿é—®è¯·æ±‚é€šè¿‡æŸç§ç­–ç•¥è½¬å‘è‡³æœåŠ¡çš„æä¾›æ–¹ã€‚</p>\n<ol start=\"2\">\n<li><strong>è¿›ç¨‹å†… LBï¼š</strong></li>\n</ol>\n<p>å°† LB é€»è¾‘é›†æˆåˆ°æ¶ˆè´¹æ–¹ï¼Œæ¶ˆè´¹æ–¹ä»æœåŠ¡æ³¨å†Œä¸­å¿ƒè·çŸ¥æœ‰å“ªäº›åœ°å€å¯ç”¨ï¼Œç„¶åè‡ªå·±å†ä»è¿™äº›åœ°å€ä¸­é€‰æ‹©å‡ºä¸€ä¸ªåˆé€‚çš„æœåŠ¡å™¨ã€‚</p>\n<p><strong>Ribbon å°±å±äºè¿›ç¨‹å†… LB</strong>ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç±»åº“ï¼Œé›†æˆäºæ¶ˆè´¹æ–¹è¿›ç¨‹ï¼Œæ¶ˆè´¹æ–¹é€šè¿‡å®ƒæ¥è·å–åˆ°æœåŠ¡æä¾›æ–¹çš„åœ°å€ã€‚</p>\n<h2 id=\"2-ribbonè´Ÿè½½å‡è¡¡æ¼”ç¤º\"><a class=\"markdownIt-Anchor\" href=\"#2-ribbonè´Ÿè½½å‡è¡¡æ¼”ç¤º\">#</a> 2 - Ribbon è´Ÿè½½å‡è¡¡æ¼”ç¤º</h2>\n<h3 id=\"1-æ¶æ„è¯´æ˜\"><a class=\"markdownIt-Anchor\" href=\"#1-æ¶æ„è¯´æ˜\">#</a> 1. æ¶æ„è¯´æ˜</h3>\n<p>** æ€»ç»“ï¼š**Ribbon å…¶å®å°±æ˜¯ä¸€ä¸ªè½¯è´Ÿè½½å‡è¡¡çš„å®¢æˆ·ç«¯ç»„ä»¶ï¼Œä»–å¯ä»¥å’Œå…¶ä»–æ‰€éœ€è¯·æ±‚çš„å®¢æˆ·ç«¯ç»“åˆä½¿ç”¨ï¼Œå’Œ eureka ç»“åˆåªæ˜¯å…¶ä¸­ä¸€ä¸ªå®ä¾‹</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659670015940-b8bbbb3a-55ab-4ec8-aa89-24b162bb540d.png\" alt=\"img\"></p>\n<p><strong>Ribbon åœ¨å·¥ä½œæ—¶åˆ†æˆä¸¤æ­¥ï¼š</strong></p>\n<p>ç¬¬ä¸€æ­¥å…ˆé€‰æ‹© EurekaServer, å®ƒä¼˜å…ˆé€‰æ‹©åœ¨åŒä¸€ä¸ªåŒºåŸŸå†…è´Ÿè½½è¾ƒå°‘çš„ serverã€‚</p>\n<p>ç¬¬äºŒæ­¥å†æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„ç­–ç•¥ï¼Œåœ¨ä» serverl å–åˆ°çš„æœåŠ¡æ³¨å†Œåˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªåœ°å€ã€‚</p>\n<p>å…¶ä¸­ Ribbon æä¾›äº†å¤šç§ç­–ç•¥ï¼šæ¯”å¦‚è½®è¯¢ã€éšæœºå’Œæ ¹æ®å“åº”æ—¶é—´åŠ æƒã€‚</p>\n<h3 id=\"2-pom\"><a class=\"markdownIt-Anchor\" href=\"#2-pom\">#</a> 2. POM</h3>\n<p><strong>ä¾èµ–å¯¼å…¥ pom.xml</strong></p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!--Ribbon çš„ä¾èµ– --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.cloud<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-cloud-starter-netflix-ribbon<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659680277124-77ca8281-d9fd-4854-9000-87efa67cf343.png\" alt=\"img\"></p>\n<h3 id=\"3-resttemplate\"><a class=\"markdownIt-Anchor\" href=\"#3-resttemplate\">#</a> 3. RestTemplate</h3>\n<p>API æ–‡æ¡£è¯´æ˜ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnNwcmluZy5pby9zcHJpbmctZnJhbWV3b3JrL2RvY3MvNS4yLjIuUkVMRUFTRS9qYXZhZG9jLWFwaS9vcmcvc3ByaW5nZnJhbWV3b3JrL3dlYi9jbGllbnQvUmVzdFRlbXBsYXRlLmh0bWw=\">https://docs.spring.io/spring-framework/docs/5.2.2.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html</span></p>\n<p>RestTemplate çš„ä½¿ç”¨å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNTM4MDk3L2FydGljbGUvZGV0YWlscy8xMjM1NjAyMzg=\">https://blog.csdn.net/qq_41538097/article/details/123560238</span></p>\n<p>å‰é¢çš„å›› - 3.3 æœ‰ä½¿ç”¨è¿‡å¯ä»¥å›é¡¾ä¸€ä¸‹ã€‚åœ¨ Bean æ³¨å…¥çš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ @LoadBalanced å°±èƒ½èµ‹äºˆå®ƒè´Ÿè½½å‡è¡¡çš„èƒ½åŠ›å•¦ï½</p>\n<p>getForObject æ–¹æ³• /getForEntity æ–¹æ³•ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659680495598-3286b907-0a42-4f36-afb3-29ccfa44540e.png\" alt=\"img\"></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1659680511398-9c5d8185-33d3-4433-aa1b-eaa755400b07.png\" alt=\"img\"></p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1659680551876-8d2e4178-3b91-44eb-bdbb-b5b8669957b0.png\" alt=\"img\"></p>\n",
            "tags": [
                "å¾®æœåŠ¡",
                "SpringCloud"
            ]
        },
        {
            "id": "https://blog.dabing.cool/java/git/",
            "url": "https://blog.dabing.cool/java/git/",
            "title": "git",
            "date_published": "2022-04-10T02:00:00.000Z",
            "content_html": "<p>ğŸˆä½œè€…ï¼šç‹ç”œç”œï¼ˆdabingï¼‰</p>\n<h1 id=\"æ€ä¹ˆå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°githubä¸Š\"><a class=\"markdownIt-Anchor\" href=\"#æ€ä¹ˆå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°githubä¸Š\">#</a> æ€ä¹ˆå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ° github ä¸Šï¼Ÿ</h1>\n<p><strong>ä¸€ã€é¦–å…ˆä½ å…ˆæœ‰ä¸ªæœ¬åœ°é¡¹ç›®</strong></p>\n<p><strong>äºŒã€åˆ° GitHub ä¸Šæ³¨å†Œä¸ªè´¦æˆ·ï¼Œä¸‹è½½ gitã€‚è¯¥åšçš„éƒ½åšäº†ï¼ˆä¸ä¼šå°±ç™¾åº¦ï¼‰</strong></p>\n<p><strong>ä¸‰ã€è®¾ç½® ssh å¯†é’¥</strong></p>\n<p><strong>1 - ç”Ÿæˆ ssh key</strong></p>\n<p>åœ¨ç”µè„‘å¼€å§‹å¤„æ‰¾åˆ°çš„ git æ–‡ä»¶ä¸‹çš„ git Bash</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653320827784-ca8321c0-4ad3-4899-b388-5af3845e941b.png\" alt=\"img\"></p>\n<p>åˆ‡æ¢åˆ°ï½/.ssh ç›®å½•ä¸‹ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰å¯†é’¥çš„æ–‡ä»¶ã€‚å°±æ˜¯è¿™å‡ ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…åœ¨ç”µè„‘æ–‡ä»¶é‡Œæ‰¾ä¹Ÿè¡Œ</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653321716749-a9efeef6-08a1-419c-aca8-1f0455b46021.png\" alt=\"img\"></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653321844403-ea98dbe3-f84d-4706-88cf-e29ab554341f.png\" alt=\"img\"></p>\n<p>å¦‚æœæ²¡æœ‰å°±ç”Ÿæˆå¯†é’¥ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">22616</span>@hexb MINGW64 ~</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token builtin class-name\">cd</span> ~/.ssh  <span class=\"token comment\"># åˆ‡æ¢åˆ°ï½/.ssh ç›®å½•ä¸‹</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">22616</span>@hexb MINGW64 ~/.ssh</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">ls</span>\t <span class=\"token comment\"># åˆ—å‡ºè¯¥ç›®å½•çš„æ–‡ä»¶ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ ssh çš„ key æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>known_hosts</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token number\">22616</span>@hexb MINGW64 ~/.ssh</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>$ <span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>/</pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">22616</span>@hexb MINGW64 ~</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>$ ssh-keygen <span class=\"token parameter variable\">-t</span> rsa <span class=\"token parameter variable\">-C</span> <span class=\"token string\">\"2261617090@qq.com\"</span>   <span class=\"token comment\"># å¦‚æœæ²¡æœ‰ç”¨è¿™ä¸ªå‘½ä»¤ç”Ÿæˆï¼Œä¸‹é¢æ˜¯æ‰“å°ä¿¡æ¯ä¸ç”¨ç®¡</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>Generating public/private rsa key pair.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>Enter <span class=\"token function\">file</span> <span class=\"token keyword\">in</span> <span class=\"token function\">which</span> to save the key <span class=\"token punctuation\">(</span>/c/Users/22616/.ssh/id_rsa<span class=\"token punctuation\">)</span>: <span class=\"token comment\">#è¿™é‡Œè®©ä½ ç¡®è®¤å¯†é’¥çš„ç”Ÿæˆä½ç½®ï¼Œå›è½¦å³å¯</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Enter passphrase <span class=\"token punctuation\">(</span>empty <span class=\"token keyword\">for</span> no passphrase<span class=\"token punctuation\">)</span>: <span class=\"token comment\"># è¿™é‡Œè®©ä½ è¾“å…¥å¯†ç ï¼Œæˆ‘è¿™é‡Œä¸å¡«å¯†ç ï¼Œä¸ç”¨å¯†ç å¤ªéº»çƒ¦ï¼Œå›è½¦å³å¯</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Enter same passphrase again: <span class=\"token comment\"># å›è½¦å³å¯</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>Your identification has been saved <span class=\"token keyword\">in</span> /c/Users/22616/.ssh/id_rsa</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>Your public key has been saved <span class=\"token keyword\">in</span> /c/Users/22616/.ssh/id_rsa.pub</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>The key fingerprint is:</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>SHA256:QZhUaReYx2/x1Bu14GwFOB9HaTKlAJ56sLydHJhKqfE <span class=\"token number\">2261617090</span>@qq.com</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>The key's randomart image is:</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>+---<span class=\"token punctuation\">[</span>RSA <span class=\"token number\">3072</span><span class=\"token punctuation\">]</span>----+</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token operator\">|</span>     <span class=\"token punctuation\">..</span>+o*oo.o<span class=\"token operator\">+=</span>+<span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token operator\">|</span>      o.* <span class=\"token operator\">=</span>o<span class=\"token operator\">=</span><span class=\"token operator\">+=</span><span class=\"token operator\">=</span>o<span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token operator\">|</span>       o.<span class=\"token operator\">=</span> .oO*.o<span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token operator\">|</span>      o *.  +<span class=\"token punctuation\">..</span>. <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token builtin class-name\">.</span> o *So <span class=\"token builtin class-name\">.</span>     <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token operator\">|</span>    <span class=\"token operator\">=</span> <span class=\"token builtin class-name\">.</span> <span class=\"token operator\">=</span> o      <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token builtin class-name\">.</span> E <span class=\"token builtin class-name\">.</span> +       <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token operator\">|</span>                 <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token operator\">|</span>                 <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>+----<span class=\"token punctuation\">[</span>SHA256<span class=\"token punctuation\">]</span>-----+</pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token number\">22616</span>@hexb MINGW64 ~</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>$ <span class=\"token builtin class-name\">cd</span> ~/.ssh   <span class=\"token comment\"># å†åˆ‡æ¢è¿‡æ¥çœ‹çœ‹</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token number\">22616</span>@hexb MINGW64 ~/.ssh</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>$ <span class=\"token function\">ls</span>\t<span class=\"token comment\"># è¿™ä¸‹æœ‰äº†</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>id_rsa  id_rsa.pub  known_hosts  known_hosts.old</pre></td></tr></table></figure><p>è¿™ä¸‹å·²ç»ç”Ÿæˆå¯†é’¥äº†ï¼Œåœ¨ <code>C:\\Users\\22616\\.ssh</code>  è·¯å¾„ä¸‹ï¼šæ‰“å¼€ <code>id_rsa.pub</code>  è¿™ä¸ªæ˜¯å…¬é’¥ï¼Œå¤åˆ¶å†…å®¹ã€‚</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653354976106-387e0032-f1ab-4083-8256-9cabb1f2f7b9.png\" alt=\"img\"></p>\n<p><strong>2 - åœ¨ github ä¸Šè®¾ç½® ssh key</strong></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653322307223-9bdbca7a-6f5d-4f0d-896b-f6da2d35d9bf.png\" alt=\"img\"></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653322465457-a5d22820-a5a0-40e6-b18f-a582673b6675.png\" alt=\"img\"></p>\n<p>ok~~</p>\n<p><strong>å››ã€GitHub ä¸Šå»ºä¸ªä»“åº“</strong></p>\n<p>newâ€”&gt; èµ·ä¸ªå ----&gt; åˆ›å»º</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653355092749-ffe2be8e-064c-434a-82e5-7689a5cdae69.png\" alt=\"img\"></p>\n<p>èµ·ä¸ªåï½ç„¶ååˆ›å»ºå°±è¡Œ</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653355179304-fa420499-c23f-4175-b9e8-d8783173d0e1.png\" alt=\"img\"></p>\n<p><strong>äº”ã€å°†æœ¬åœ°çš„é¡¹ç›®æäº¤åˆ° GitHub ä¸Š</strong></p>\n<p><strong>1- å»ºç«‹ git ä»“åº“ï¼ŒGit Bash åˆ‡æ¢åˆ°æœ¬åœ°é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæˆ–è€…ç›´æ¥åˆ°é¡¹ç›®ç›®å½•é‡Œï¼Œå³é”® Git Bash æ‰“å¼€</strong></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653322685848-52768f7f-44ad-4205-a0f8-c82e7f78043c.png\" alt=\"img\"><strong> æ‰§è¡Œ</strong> <code>git init</code> <strong> å‘½ä»¤ï¼Œå°†è¿™ä¸ªé¡¹ç›®å˜æˆ git å¯ä»¥ç®¡ç†çš„ä»“åº“</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> init</pre></td></tr></table></figure><p><strong>2 - å°†é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼Œadd ä¸ä»…å¯ä»¥æ·»åŠ å•ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è·Ÿé€šé…ç¬¦ ï¼Œå¯ä»¥è·Ÿç›®å½•ã€‚ä¸€ä¸ª</strong> <code>.</code> <strong> è¡¨ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½ add</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><p><strong>3 - å°† add çš„æ–‡ä»¶ commit åˆ°æœ¬åœ°ä»“åº“</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"æ³¨é‡Šä¿¡æ¯\"</span></pre></td></tr></table></figure><p><strong>4 - å…³è” GitHub ä»“åº“ï¼ŒæŠŠä½ åˆšåˆšåˆ›å»ºçš„ GitHub ä¸Šçš„ä»“åº“è·¯å¾„å¤åˆ¶ä¸€ä¸‹ï¼Œä½¿ç”¨ ssh</strong></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653323144193-1a0ec826-038c-4af1-8aeb-f4aa18d34213.png\" alt=\"img\"></p>\n<p>æ‰§è¡Œå‘½ä»¤ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin git@github.com:dabing85/OA---SSM.git</pre></td></tr></table></figure><p><strong>5 - åœ¨ä¸Šä¼ ä»£ç ä¹‹å‰ï¼Œæœ€å¥½å…ˆ pull ä¸€ä¸‹</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> pull origin master</pre></td></tr></table></figure><p><strong>6 - ä¸Šä¼ ä»£ç åˆ° github è¿œç¨‹ä»“åº“ä¸Š</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin master</pre></td></tr></table></figure><p>å¥½äº†ï¼Œåˆ°è¿™å°±å®Œæˆäº†</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653355902995-b4ba474e-63cc-42e5-8a98-2cc70e8efd01.png\" alt=\"img\"></p>\n<h1 id=\"ä¸€ä¸ªå¾ˆé€‚åˆç»ƒä¹ gitçš„åœ°æ–¹\"><a class=\"markdownIt-Anchor\" href=\"#ä¸€ä¸ªå¾ˆé€‚åˆç»ƒä¹ gitçš„åœ°æ–¹\">#</a> ä¸€ä¸ªå¾ˆé€‚åˆç»ƒä¹  git çš„åœ°æ–¹</h1>\n<p>ç½‘å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9vc2NoaW5hLmdpdGVlLmlvL2xlYXJuLWdpdC1icmFuY2hpbmcv\">https://oschina.gitee.io/learn-git-branching/</span></p>\n<p>æˆ‘æ˜¯ä» gitee åº•ä¸‹ç‚¹çš„ï¼Œæ‰¾ git çš„å­¦ä¹ èµ„æ–™ä¹Ÿå¯ä»¥åœ¨ gitee åº•ä¸‹æ‰¾ã€‚</p>\n<p>è®°ä¸€ä¸‹æˆ‘åšäº†å•¥é¢˜ï¼Œåšç€åšç€å°±å¿˜äº†ï½ï½ï½ï¼ˆåˆ†ä¸»è¦ã€è¿œç¨‹ä¸¤éƒ¨åˆ†ï¼‰</p>\n<p><strong>ä¸€ã€ä¸»è¦é¢˜</strong></p>\n<ol>\n<li><code>git commit</code>   æäº¤ä»£ç </li>\n<li><code>git branch newBranch</code>   åˆ›å»ºä¸€ä¸ªåä¸º newBranch çš„æ–°åˆ†æ”¯</li>\n<li><code>git checkout newBranch</code>  åˆ‡æ¢åˆ° newBranch åˆ†æ”¯</li>\n<li><code>git merge newBranch</code>   å°† newBranch çš„ä»£ç åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</li>\n<li>ä¸¾ä¸ªä¾‹å­ï¼šå°† <code>newBranch</code>  æ–°å†™çš„ä»£ç æäº¤ï¼Œç„¶åå°†å®ƒè·Ÿä¸»åˆ†æ”¯ <code>master</code>  åˆå¹¶</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout newBranch</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> commit</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> checkout master</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> commit</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> merge newBranch</pre></td></tr></table></figure><ol>\n<li><code>git rebase master</code>  ä¹Ÿæ˜¯åˆå¹¶åˆ†æ”¯ï¼Œä½†æ˜¯è¿™ä¸ªåˆå¹¶åˆ†æ”¯å¯ä»¥çœ‹åˆ°æäº¤çš„è®°å½•</li>\n<li>ç›¸å¯¹å¼•ç”¨ <code>^</code>  å¯ä»¥æ‰¾åˆ°å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œå³ä¸Šæ¬¡æäº¤çš„è®°å½•ã€‚</li>\n</ol>\n<p>ä¾‹å¦‚åˆ‡æ¢åˆ° bugFix åˆ†æ”¯çš„çˆ¶èŠ‚ç‚¹ï¼š</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653367143898-9ff5e0db-ddd5-42d3-ae36-56d972a6f5ad.png\" alt=\"img\"></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout bugFix^</pre></td></tr></table></figure><ol>\n<li>ç›¸å¯¹å¼•ç”¨ 2 <code>~</code>  ä¹Ÿæ˜¯ç”¨æ¥ç§»åŠ¨çš„ï¼Œè®© head æŒ‡å‘å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚å› ä¸º <code>^</code>  æ˜¯ä¸€æ¬¡åªå¾€å›ç§»åŠ¨ä¸€æ­¥ï¼Œ <code>~</code> + <code>æ•°å­—</code> å¯ä»¥ç§»åŠ¨å¤šæ­¥ï¼Œä½¿ç”¨å‘½ä»¤ <code>git checkout head~4</code></li>\n</ol>\n<p>head æœ¬æ¥æ˜¯æŒ‡å‘ c4 èŠ‚ç‚¹çš„ï¼Œå¾€ä»¥å‰æäº¤çš„è®°å½•ç§»åŠ¨ 4 ä¸ªä½ç½®ï¼Œåˆ° c0</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653367488026-5a693369-0ab2-4fc1-bc8e-e4b05e186c89.png\" alt=\"img\"></p>\n<ol>\n<li>ä½¿ç”¨ <code>~</code>  é…åˆ <code>-f</code>  å¯ä»¥å¼ºåˆ¶ä¿®æ”¹åˆ†æ”¯çš„ä½ç½®</li>\n</ol>\n<p>ä¾‹å¦‚ <code>git branch -f master head~3</code>  è¿™ä¸ªå‘½ä»¤çš„æ„æ€æ˜¯å°† master åˆ†æ”¯çš„æŒ‡å‘å¼ºåˆ¶ç§»åŠ¨åˆ° head èŠ‚ç‚¹çš„ç¬¬ 3 çº§çˆ¶çº§èŠ‚ç‚¹å¤„ã€‚</p>\n<p>åŸæœ¬ master åˆ†æ”¯æ˜¯è·Ÿ bugFix åˆ†æ”¯ä¸€æ ·æŒ‡å‘ c4 çš„ï¼Œæ‰§è¡Œå‘½ä»¤åï¼Œå°† master åˆ†æ”¯å¼ºåˆ¶ç§»åŠ¨åˆ°äº† c1 çš„æäº¤è®°å½•ä½ç½®å»äº†ã€‚</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653368510537-fcd56a3a-8c96-4fa5-87be-08c128d913db.png\" alt=\"img\"></p>\n<p>äºŒã€è¿œç¨‹é¢˜ï¼ˆå®çº¿æ˜¯æœ¬åœ°ä»“åº“ï¼Œè™šçº¿æ˜¯è¿œç¨‹ä»“åº“ï¼‰</p>\n<ol>\n<li><code>git clone</code>   -  åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“çš„æ‹·è´ï¼ˆæ¯”å¦‚ä» <span class=\"exturl\" data-url=\"aHR0cDovL2dpdGh1Yi5jb20=\">github.com</span>ï¼‰</li>\n<li><code>/</code> - è¿™æ˜¯è¿œç¨‹åˆ†æ”¯çš„å‘½ä»¤è§„åˆ™ï¼Œå³è¿œç¨‹ä»“åº“å / åˆ†æ”¯åï¼Œ   å¦‚ä¸€èˆ¬ä¼šå–åä¸ºï¼š <code>origin/master</code></li>\n<li><code>git fetch</code> - ä»è¿œç¨‹è·å–æ•°æ®ï¼Œå¹¶ä¸”æœ¬åœ°çš„è¿œç¨‹åˆ†æ”¯ä¹Ÿä¼šæ›´æ–°åˆ°æœ€æ–°çš„ä½ç½®ã€‚</li>\n</ol>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653626701083-63d353e0-2ff0-4d8f-b96f-f1dc838c85b4.png\" alt=\"img\"></p>\n<p>git fetch å®Œæˆäº†ä¸¤ä»¶äº‹ï¼š</p>\n<ul>\n<li>ä»è¿œç¨‹ä»“åº“ä¸‹è½½æœ¬åœ°</li>\n<li>æ›´æ–°è¿œç¨‹åˆ†æ”¯ï¼ˆo/masterï¼‰</li>\n</ul>\n<p><code>git fetch</code>  é€šå¸¸é€šè¿‡äº’è”ç½‘ï¼ˆä½¿ç”¨  <code>http:// </code> æˆ–  <code>git:// </code> åè®®) ä¸è¿œç¨‹ä»“åº“é€šä¿¡</p>\n<p>æ³¨æ„ git fetch åªæ˜¯æŠŠè¿œç¨‹ä»“åº“çš„æ•°æ® <code>ä¸‹è½½</code> ä¸‹æ¥è€Œå·²ï¼Œå¹¶æ²¡æœ‰æ›´æ–°æœ¬åœ°ä»“åº“çš„å†…å®¹</p>\n<ol>\n<li><code>git pull</code> - ç›¸å½“äº git fetch å’Œ git merge  o/master ä¸¤æ­¥æ“ä½œï¼Œå³å…ˆæŠ“å–æ›´æ–°ï¼Œå†åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ã€‚</li>\n<li><code>git push</code> - æ­£å¥½è·Ÿ pull æ˜¯ç›¸åçš„ï¼Œå°†ä½ çš„å˜æ›´ä¸Šä¼ åˆ°æŒ‡å®šçš„è¿œç¨‹ä»“åº“ï¼Œå¹¶åœ¨è¿œç¨‹ä»“åº“ä¸Šåˆå¹¶ä½ çš„æ–°æäº¤è®°å½•ã€‚ä¸€æ—¦ git push æˆåŠŸï¼Œä½ çš„å°ä¼™ä¼´å°±èƒ½åœ¨è¿œç¨‹ä»“åº“ä¸‹è½½ä½ çš„åˆ†äº«æˆæœäº†ã€‚</li>\n</ol>\n<p>å¦‚æœä½ çš„ git push æ²¡æœ‰å¸¦ä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆå®ƒä¼šæ˜¯ä¸Šä¼ åˆ°ä½ é…ç½®é‡Œé»˜è®¤çš„ä»“åº“é‡Œå»ï¼Œåœ¨ push.default ä¸­æœ‰é…ç½®ã€‚ä½†æ˜¯æˆ‘åœ¨æˆ‘çš„é¡¹ç›®é‡Œå’‹æ²¡æ‰¾åˆ°è¿™ä¸ªé…ç½®</p>\n<ol>\n<li>å¯¹äºæœ‰åå·®çš„æäº¤å†å²ï¼Œå’‹åŠï¼Ÿå°±æ˜¯åœ¨ä½  push ä¹‹å‰ï¼Œä½ çš„åŒäº‹å·²ç»åœ¨è¿œç¨‹ä»“åº“ä¸Šæœ‰æäº¤äº†ï¼Œå¦‚æœä»–ä¿®æ”¹çš„ api ä½ ä½¿ç”¨åˆ°äº†ï¼Œé‚£å°±ä¼šå‘ç”Ÿå†²çªï¼Œä½ ç›´æ¥ push æ˜¯ä¼šå¤±è´¥çš„ã€‚</li>\n</ol>\n<p>è¿™æ—¶ï¼Œä½ éœ€è¦å…ˆæŠŠè¿œç¨‹ä»“åº“çš„æ•°æ®æ›´æ–°åˆ°æœ¬åœ°ï¼Œå†æŠŠä½ çš„æœ¬åœ°æäº¤ push åˆ°è¿œç¨‹ä»“åº“ï¼Œä½ çš„ä¿®æ”¹å°±æ˜¯åŸºäºæ–°çš„è¿œç¨‹åˆ†æ”¯çš„ã€‚å…·ä½“æ“ä½œï¼šå…ˆ git pull ï¼›å† git push</p>\n<p>ä¹Ÿå¯ä»¥ç”¨ rebase çš„æ–¹å¼åˆå¹¶ï¼Œå³å…ˆ git pull --rebaseï¼›å† git push</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653629059279-6dce82f7-1d33-4951-ae5d-219db6132668.png\" alt=\"img\"></p>\n<ol>\n<li>å¾…åšé¢˜ ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</li>\n</ol>\n<h1 id=\"åœ¨ideaä¸­ä½¿ç”¨git\"><a class=\"markdownIt-Anchor\" href=\"#åœ¨ideaä¸­ä½¿ç”¨git\">#</a> åœ¨ idea ä¸­ä½¿ç”¨ gitï¼Ÿ</h1>\n<h2 id=\"1-å°†ä½ çš„é¡¹ç›®åˆå§‹åŒ–æˆä¸€ä¸ªgité¡¹ç›®\"><a class=\"markdownIt-Anchor\" href=\"#1-å°†ä½ çš„é¡¹ç›®åˆå§‹åŒ–æˆä¸€ä¸ªgité¡¹ç›®\">#</a> 1 - å°†ä½ çš„é¡¹ç›®åˆå§‹åŒ–æˆä¸€ä¸ª git é¡¹ç›®ï¼š</h2>\n<p>é…ç½® Git  : VCS----&gt;Enable Version ----&gt; é€‰æ‹© Git</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653663946711-f1ed609e-920a-42ad-acf1-b0a9bf76e857.png\" alt=\"img\"></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653664001651-e0c039b8-bed1-41e4-9a00-2a2dffcf0060.png\" alt=\"img\"></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653664096827-8c7f9bdf-1eee-496c-8280-b2849bf9e770.png\" alt=\"img\"></p>\n<p>çœ‹æ§åˆ¶å°çš„å‘½ä»¤ï¼Œ <code>git init</code> , è¿™ä¸ªæ“ä½œä¼šåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“ã€‚</p>\n<h2 id=\"2-æ–‡ä»¶é¢œè‰²è¯´æ˜\"><a class=\"markdownIt-Anchor\" href=\"#2-æ–‡ä»¶é¢œè‰²è¯´æ˜\">#</a> 2- æ–‡ä»¶é¢œè‰²è¯´æ˜ï¼š</h2>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653664194120-0b8015de-feaa-406c-a09e-91e81c0cf95c.png\" alt=\"img\"><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653666563905-5cbad4f7-b538-4a20-9483-eee8c85b5a8b.png\" alt=\"img\"></p>\n<p><code>çº¢è‰²</code> è¯æ˜è¿™ä¸ªæ–‡ä»¶åªæ˜¯åœ¨<strong>å·¥ä½œåŒº</strong>ï¼Œgit æ˜¯ä¸ç®¡ç†çº¢è‰²æ–‡ä»¶çš„ï¼Œ <code>add</code>  ä¹‹åå˜æˆ <code>ç»¿è‰²</code> è¡¨ç¤ºæ·»åŠ åˆ°äº†<strong>æš‚å­˜åŒº</strong>ï¼Œå† <code>commit</code>  ä¹‹åä¼šå˜æˆæ™®é€šçš„ <code>é»‘è‰²</code> ä¿å­˜åˆ°<strong>æœ¬åœ°ä»“åº“</strong>ï¼Œå† <code>push</code>  ä¹‹åï¼Œä¼šæŠŠæœ¬åœ°ä»“åº“çš„æ–‡ä»¶ä¸Šä¼ åˆ°<strong>è¿œç¨‹ä»“åº“</strong>å¹¶åˆå¹¶ã€‚è€Œå½“ä½ å¯¹æ–‡ä»¶è¿›è¡Œè¿‡ä¿®æ”¹åï¼Œæ–‡ä»¶é¢œè‰²ä¼šå˜æˆ <code>è“è‰²</code></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653664544471-10cdb690-687f-46f8-898f-f33d7fea64c8.png\" alt=\"img\"></p>\n<ul>\n<li>Workspaceï¼šå·¥ä½œåŒº (å½“å‰ç”¨æˆ·æ“ä½œä¿®æ”¹çš„åŒºåŸŸ)</li>\n<li>Index / Stageï¼šæš‚å­˜åŒº (add åçš„åŒºåŸŸ)</li>\n<li>Repositoryï¼šä»“åº“åŒºæˆ–æœ¬åœ°ä»“åº“ (commit åçš„åŒºåŸŸ)</li>\n<li>Remoteï¼šè¿œç¨‹ä»“åº“ (push åçš„åŒºåŸŸ)</li>\n</ul>\n<p>å†™å¤šäº†ï¼Œå›æ¥ï½ï½ï½</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653665079816-05a82e00-9349-46a0-ae6d-cc42c7e5de92.png\" alt=\"img\"></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653665404091-711c9498-e9f2-465d-9a29-36ec10b4892f.png\" alt=\"img\"></p>\n<p>å¯ä»¥å†è¿™çœ‹çœ‹äººå®¶ git å‘½ä»¤æ€ä¹ˆç”¨çš„</p>\n<h2 id=\"3-å°†æ–‡ä»¶commit-æäº¤åˆ°æœ¬åœ°ä»“åº“\"><a class=\"markdownIt-Anchor\" href=\"#3-å°†æ–‡ä»¶commit-æäº¤åˆ°æœ¬åœ°ä»“åº“\">#</a> 3 - å°†æ–‡ä»¶ commit æäº¤åˆ°æœ¬åœ°ä»“åº“:</h2>\n<p>sorryï¼Œæˆ‘è¿™é‡Œå›¾æ ‡é”™å•¦ï¼Œâœ”é‚£ä¸ªæ˜¯ commitï¼Œâ†—æ˜¯ push</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653665755831-df58f364-de57-4ab2-a222-0de9f68760c9.png\" alt=\"img\"></p>\n<h2 id=\"4-å°†æœ¬åœ°ä»“åº“çš„æ–‡ä»¶-push-ä¸Šä¼ åˆ°è¿œç¨‹åˆ†æ”¯ä¸Š\"><a class=\"markdownIt-Anchor\" href=\"#4-å°†æœ¬åœ°ä»“åº“çš„æ–‡ä»¶-push-ä¸Šä¼ åˆ°è¿œç¨‹åˆ†æ”¯ä¸Š\">#</a> 4 - å°†æœ¬åœ°ä»“åº“çš„æ–‡ä»¶ push ä¸Šä¼ åˆ°è¿œç¨‹åˆ†æ”¯ä¸Š</h2>\n<p>è¦ä¸Šä¼ åˆ°è¿œç¨‹ä¸Šï¼Œä½ é¦–å…ˆå¾—å…ˆå…³è”ä½ çš„è¿œç¨‹ gitã€‚æ¯”å¦‚ giteeã€‚</p>\n<p><strong>åœ¨è¿œç¨‹ä»“åº“ä¸Šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®</strong></p>\n<p><strong>å°†æœ¬åœ°é¡¹ç›®å…³è”åˆ°è¿œç¨‹ä»“åº“</strong></p>\n<p>æˆ‘åœ¨ gitee ä¸Šåˆ›å»ºï¼Œå…ˆè®¾ç½® ssh å…¬é’¥ï¼Œä¸Šæ¬¡å·²ç»è¯´è¿‡æ€ä¹ˆç”Ÿäº§å…¬é’¥ï¼Œæ€ä¹ˆè®¾ç½®äº†</p>\n<p><strong>4.1 è®¾ç½® ssh å…¬é’¥</strong></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653667689764-a3570d4f-4ef2-4a30-8a10-a14dd2bd8840.png\" alt=\"img\"></p>\n<p><strong>4.2 åˆ›å»ºä»“åº“ï¼Œå¹¶å¤åˆ¶ä»“åº“ ssh åœ°å€</strong></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653668188943-de8e5820-74da-4d83-91d8-9b0009ac7812.png\" alt=\"img\"></p>\n<p><strong>4.3 åœ¨ idea ä¸Šæ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œgitee ä¸Šä¹Ÿæœ‰æ•™çš„</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin git@gitee.com:hedabing/wiki.git  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># origin æ˜¯è¿œç¨‹ä»“åº“çš„åå­—ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½å†™å¾ˆé•¿çš„åœ°å€</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin <span class=\"token string\">\"master\"</span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653669018375-61cb5792-27fe-483d-9484-ce03c2e2f254.png\" alt=\"img\"></p>\n<p>å°± OK äº†ã€‚</p>\n<p>ä¸‹æ¬¡å†æœ‰æ–°ä»£ç ï¼Œå°±ä¸€æ ·ï¼Œç”¨ idea è‡ªå¸¦çš„å›¾æ ‡ï¼Œâœ”commitï¼Œâ†—push å³å¯ã€‚</p>\n<h2 id=\"4-åˆ†æ”¯è¯´æ˜\"><a class=\"markdownIt-Anchor\" href=\"#4-åˆ†æ”¯è¯´æ˜\">#</a> 4 - åˆ†æ”¯è¯´æ˜</h2>\n<p>å¦å¤–ï¼Œä¸€èˆ¬å·¥ä½œä¸­ä¸ä¼šç›´æ¥æŠŠä½ å†™çš„ä»£ç åˆå¹¶åˆ° master è¿œç¨‹ä¸»åˆ†æ”¯ä¸Šçš„ï¼Œ</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653787669095-ec8ec08f-06e5-46ef-bbfa-4ccd847c2711.png\" alt=\"img\"></p>\n<p>å³ä¸‹è§’è¿™ä¸ªæ ‘æˆï¼Œå°±æ˜¯æŒ‡æ˜äº†ä½  push ä¹‹åä¼šæŠŠä½ çš„ä»£ç ä¸Šä¼ åˆå¹¶åˆ°å“ªä¸ªåˆ†æ”¯å»ï¼Œä¹Ÿå°±æ˜¯ Local Branch æœ¬åœ°åˆ†æ”¯ï¼šhub/master è¿™é‡Œ hub æ˜¯è¿œç¨‹ä»“åº“åå­—ï¼Œmaster æ˜¯è¿œç¨‹ä»“åº“çš„è¿œç¨‹åˆ†æ”¯ã€‚</p>\n<p>åœ¨å·¥ä½œä¸­å‘¢ï¼Œéœ€è¦åˆ›å»ºå±äºä½ è‡ªå·±çš„åˆ†æ”¯ï¼Œä½ å†æœ¬åœ°ç¯å¢ƒä¸‹å†™å¥½ä»£ç ä¹‹åï¼Œpush åˆ°ä½ è‡ªå·±çš„åˆ†æ”¯ä¸‹ã€‚æœ€åè¦åšåˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸‹çš„è¯·æ±‚æ‰å¯ä»¥.</p>\n<p>ä¾‹å¦‚ä¸‹é¢æ˜¯æˆ‘çš„åˆ†æ”¯ï¼Œæˆ‘å†è¿™ä¸Šé¢ä¸Šä¼ ä»£ç ï¼Œå¹¶ä¸ä¼šæŠŠä»£ç ç›´æ¥ä¸Šä¼ åˆ° master ä¸»åˆ†æ”¯ä¸Šã€‚</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2022/png/27101822/1653788262004-8506ecdd-4db4-48ed-884c-fb52e026d2e0.png\" alt=\"img\"></p>\n",
            "tags": [
                "git"
            ]
        },
        {
            "id": "https://blog.dabing.cool/java/Java8%E6%96%B0%E7%89%B9%E6%80%A7/",
            "url": "https://blog.dabing.cool/java/Java8%E6%96%B0%E7%89%B9%E6%80%A7/",
            "title": "Java8æ–°ç‰¹æ€§",
            "date_published": "2022-04-10T02:00:00.000Z",
            "content_html": "<p>ä½œè€…ï¼šç‹ç”œç”œï¼ˆdabingï¼‰</p>\n<p>è§†é¢‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMUtiNDExVzc1Tg==\"> å®‹çº¢åº· - å…¨ç½‘æœ€å…¨ Java é›¶åŸºç¡€å…¥é—¨æ•™ç¨‹</span></p>\n<h1 id=\"java8-æ–°ç‰¹æ€§\"><a class=\"markdownIt-Anchor\" href=\"#java8-æ–°ç‰¹æ€§\">#</a> Java8 æ–°ç‰¹æ€§</h1>\n<p>ç®€ä»‹ï¼š</p>\n<ul>\n<li>é€Ÿåº¦æ›´å¿«</li>\n<li>ä»£ç æ›´å°‘ï¼ˆå¢åŠ äº†æ–°çš„è¯­æ³•ï¼šLambda è¡¨è¾¾å¼ï¼‰</li>\n<li>å¼ºå¤§çš„ Stream API</li>\n<li>ä¾¿äºå¹¶è¡Œ</li>\n<li>æœ€å¤§åŒ–å‡å°‘ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼šOptional</li>\n<li>Nashorn å¼•æ“ï¼Œå…è®¸åœ¨ JVM ä¸Šè¿è¡Œ js åº”ç”¨</li>\n</ul>\n<h2 id=\"1-lambdaè¡¨è¾¾å¼\"><a class=\"markdownIt-Anchor\" href=\"#1-lambdaè¡¨è¾¾å¼\">#</a> 1 - Lambda è¡¨è¾¾å¼</h2>\n<p>Lambda è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ŒJava8 å…è®¸æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ã€‚</p>\n<p>ä¸€ä¸ªæ–°çš„è¯­ï¼›æ³•è¦æ±‚ã€‚è¯´ç™½äº†å°±çœ‹åˆ°åˆ«äººçš„è¿™æ ·ç”¨å¾ˆå¥½ï¼Œä¹ŸæŠ„ä¸€æŠ„å€Ÿé‰´å€Ÿé‰´</p>\n<p><strong>è¯­æ³•æ ¼å¼</strong>ï¼šğŸ“’</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">(</span>parameters<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span>experssion æˆ–</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">(</span>parameters<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token punctuation\">&#123;</span>statements<span class=\"token punctuation\">;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>Lambda å®æˆ˜ï¼šâœ</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * Lambda è¡¨è¾¾å¼çš„ä½¿ç”¨</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * 1. ä¸¾ä¾‹ï¼š(o1,o2)-> Integer.compare (o1,o2)</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * 2. æ ¼å¼ï¼š</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> *      -> :Lambda æ“ä½œç¬¦ æˆ– ç®­å¤´æ“ä½œç¬¦</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> *      å·¦è¾¹ï¼šLambda å½¢å‚åˆ—è¡¨ ï¼ˆå…¶å®å°±æ˜¯æ¥å£ç§çš„æŠ½è±¡æ–¹æ³•çš„å½¢å‚åˆ—è¡¨ï¼‰</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> *      å³è¾¹ï¼šLambda ä½“ ï¼ˆå…¶å®å°±æ˜¯é‡å†™çš„æŠ½è±¡æ–¹æ³•çš„æ–¹æ³•ä½“ï¼‰</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * 3.Lambda è¡¨è¾¾å¼çš„ä½¿ç”¨  ï¼šåˆ† 6 ç§æƒ…å†µ</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> *   æ€»ç»“ï¼š</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> *   -> å·¦è¾¹ï¼šLambda å½¢å‚åˆ—è¡¨çš„å‚æ•°ç±»å‹å¯ä»¥çœç•¥ï¼ˆç±»å‹æ¨æ–­ï¼‰ï¼›å¦‚æœ Lambda å½¢å‚åˆ—è¡¨åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…¶ () ä¹Ÿå¯ä»¥çœç•¥</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> *   -> å³è¾¹ï¼šLambda ä½“åº”è¯¥ä½¿ç”¨ä¸€å¯¹ &#123;&#125; åŒ…è£¹ï¼›å¦‚æœ Lambda ä½“åªæœ‰ä¸€æ¡æ‰§è¡Œè¯­å¥ï¼ˆå¯èƒ½æ—¶ return è¯­å¥ï¼‰ï¼Œå¯ä»¥çœç•¥è¿™ä¸€å¯¹ &#123;&#125; å’Œ return å…³é”®å­—</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * 4.Lambda è¡¨è¾¾å¼çš„æœ¬è´¨ï¼šä½œä¸ºå‡½æ•°å¼æ¥å£çš„å®ä¾‹å¯¹è±¡</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token class-name\">Runnable</span> r2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æˆ‘çˆ±java\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// æ— å‚ï¼Œæ— è¿”å›</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token class-name\">Consumer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> con1<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> s<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// æœ‰å‚ï¼Œæ— è¿”å›</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token class-name\">Consumer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> con1<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// ç±»å‹æ¨æ–­ï¼Œå¯çœç•¥æ•°æ®ç±»å‹</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token class-name\">Consumer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> con1<span class=\"token operator\">=</span>s<span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// ä¸€ä¸ªå‚æ•°ï¼Œçœç•¥ ()</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span>com1 <span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>o1<span class=\"token punctuation\">,</span>o2<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>o1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>o2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token keyword\">return</span> o1<span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>o2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// å¤šæ¡æ‰§è¡Œè¯­å¥ï¼Œç”¨ &#123;&#125; åŒ…è£¹</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> com <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>o1<span class=\"token punctuation\">,</span> o2<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> o1<span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>o2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// ä¸€æ¡è¯­å¥ï¼Œ&#123;&#125; å’Œ return å‡å¯çœç•¥</span></pre></td></tr></table></figure><h2 id=\"2-interface\"><a class=\"markdownIt-Anchor\" href=\"#2-interface\">#</a> 2 - Interface</h2>\n<p>æ–°çš„ interface æ¥å£æ–¹æ³•å¯ä»¥ç”¨  <code>default</code>  æˆ–   <code>static</code>   ä¿®é¥°ï¼Œé»˜è®¤æ˜¯ public abstract ä¿®é¥°çš„ï¼ŒæŠ½è±¡æ–¹æ³•ï¼ˆé¡ºä¾¿æä¸€å˜´ï¼Œå˜é‡æ˜¯é»˜è®¤ public static final ä¿®é¥°çš„ï¼‰ã€‚</p>\n<p>è¢«ä¸Šé¢çš„ä¸¤ä¸ªä¿®é¥°ç¬¦ä¿®é¥°çš„æ–¹æ³•åˆ†åˆ«æ˜¯æ™®é€šæ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼Œä»–ä»¬å¯ä»¥æ‹¥æœ‰<strong>æ–¹æ³•ä½“</strong>ï¼Œå®ç°ç±»ä¸å¿…é‡å†™æ­¤æ–¹æ³•ã€‚</p>\n<ol>\n<li><code>default</code>  ä¿®é¥°çš„æ–¹æ³•ï¼Œæ˜¯æ™®é€šå®ä¾‹æ–¹æ³•ï¼Œå¯ä»¥ç”¨ this è°ƒç”¨ï¼Œå¯ä»¥è¢«å­ç±»ç»§æ‰¿ã€é‡å†™ã€‚</li>\n<li><code>static</code>  ä¿®é¥°çš„æ–¹æ³•ï¼Œä½¿ç”¨ä¸Šå’Œä¸€èˆ¬ç±»é™æ€æ–¹æ³•ä¸€æ ·ã€‚ä½†å®ƒä¸èƒ½è¢«å­ç±»ç»§æ‰¿ï¼Œåªèƒ½ç”¨ Interface è°ƒç”¨</li>\n</ol>\n<p>å¦‚æœæœ‰ä¸€ä¸ªç±»å®ç°äº†ä¸¤ä¸ªæ¥å£ï¼Œè€Œä¸¤ä¸ªæ¥å£æœ‰ç›¸åŒçš„ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™å®ç°ç±»å¿…é¡»é‡å†™è¯¥æ–¹æ³•ã€‚ä¸ç„¶çš„è¯ï¼Œç¼–è¯‘çš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚</p>\n<p>å¦å¤–ï¼Œå¦‚æœä¸€ä¸ªæ¥å£åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œé‚£è¿™ä¸ªæ¥å£è¢«å«åš<strong>å‡½æ•°å¼æ¥å£</strong>ï¼Œå‡½æ•°å¼æ¥å£ä¸€èˆ¬å¯ä»¥ç”¨<strong> Lambda</strong> è¡¨è¾¾å¼è¿›è¡Œä¹¦å†™ã€‚âœ</p>\n<h2 id=\"3-functional-interface-å‡½æ•°å¼æ¥å£\"><a class=\"markdownIt-Anchor\" href=\"#3-functional-interface-å‡½æ•°å¼æ¥å£\">#</a> 3 - functional interface å‡½æ•°å¼æ¥å£</h2>\n<p><strong>å®šä¹‰</strong>ï¼šä¹Ÿç§°ä¸º SAM æ¥å£ï¼Œå³ Single Abstract Method interfacesï¼Œæœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªéæŠ½è±¡æ–¹æ³•çš„æ¥å£ã€‚</p>\n<p>åœ¨ java 8 ä¸­ä¸“é—¨æœ‰ä¸€ä¸ªåŒ…æ”¾å‡½æ•°å¼æ¥å£ <code>java.util.function</code> ï¼Œè¯¥åŒ…ä¸‹çš„æ‰€æœ‰æ¥å£éƒ½æœ‰    <code>@FunctionalInterface</code>   æ³¨è§£ï¼Œæä¾›å‡½æ•°å¼ç¼–ç¨‹ã€‚</p>\n<p>åœ¨å…¶ä»–åŒ…ä¸­ä¹Ÿæœ‰å‡½æ•°å¼æ¥å£ï¼Œå…¶ä¸­ä¸€äº›æ²¡æœ‰ <code>@FunctionalInterface</code>  æ³¨è§£ï¼Œä½†æ˜¯åªè¦ç¬¦åˆå‡½æ•°å¼æ¥å£çš„å®šä¹‰å°±æ˜¯å‡½æ•°å¼æ¥å£ï¼Œä¸æ˜¯å¦æœ‰è¯¥æ³¨è§£æ— å…³ï¼Œæ³¨è§£åªæ˜¯åœ¨ç¼–è¯‘æ—¶èµ·åˆ°å¼ºåˆ¶è§„èŒƒå®šä¹‰çš„ä½œç”¨ã€‚å…¶åœ¨ Lambda è¡¨è¾¾å¼ä¸­æœ‰å¹¿æ³›çš„åº”ç”¨ã€‚</p>\n<h2 id=\"4-æ–¹æ³•å¼•ç”¨\"><a class=\"markdownIt-Anchor\" href=\"#4-æ–¹æ³•å¼•ç”¨\">#</a> 4 - æ–¹æ³•å¼•ç”¨</h2>\n<p><strong>ä½¿ç”¨æƒ…æ™¯</strong>ï¼šå½“è¦ä¼ é€’ç»™ Lambda ä½“çš„æ“ä½œï¼Œå·²ç»æœ‰å®ç°çš„æ–¹æ³•äº†ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨ï¼</p>\n<p>æ–¹æ³•åº”ç”¨å¯ä»¥çœ‹ä½œæ˜¯ Lambda è¡¨è¾¾å¼æ·±å±‚æ¬¡çš„è¡¨è¾¾ï¼Œæ¢å¥è¯è¯´ï¼Œæ–¹æ³•å¼•ç”¨å°±æ˜¯ Lambda è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°å¼æ¥å£çš„ä¸€ä¸ª <code>å®ä¾‹</code> ã€‚é€šè¿‡æ–¹æ³•çš„åå­—æ¥æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ Lambda è¡¨è¾¾å¼çš„ä¸€ä¸ªè¯­æ³•ç³–ã€‚</p>\n<p><strong>è¦æ±‚</strong>ï¼šå®ç°æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„ <code>å‚æ•°åˆ—è¡¨</code> å’Œ <code>è¿”å›å€¼ç±»å‹</code> ï¼Œå¿…é¡»ä¸æ–¹æ³•å¼•ç”¨çš„æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¿æŒä¸€è‡´ï¼ï¼ˆé’ˆå¯¹æƒ…å†µ 1 å’Œæƒ…å†µ 2ï¼‰</p>\n<p><strong>æ ¼å¼</strong>ï¼šä½¿ç”¨æ“ä½œç¬¦ <code>::</code>  å°†ç±»ï¼ˆæˆ–å¯¹è±¡ï¼‰ä¸æ–¹æ³•ååˆ†å‰²å¼€æ¥ã€‚</p>\n<p><strong>å¦‚ä¸‹ä¸‰ç§ä¸»è¦ä½¿ç”¨æƒ…å†µï¼š</strong></p>\n<p>1. å¯¹è±¡ï¼šï¼šå®ä¾‹æ–¹æ³•å</p>\n<p>2. ç±»ï¼šï¼šé™æ€æ–¹æ³•å</p>\n<p>3. ç±»ï¼šï¼šå®ä¾‹æ–¹æ³•å</p>\n<p>å¦‚ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> comparator2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token operator\">::</span><span class=\"token function\">compare</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">//Comparator çš„ int compare (Integer o1,Integer o2)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">//Integer çš„ int compare (Integer o1,Integer o2)</span></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æƒ…å†µä¸€ï¼šå¯¹è±¡ï¼šï¼šå®ä¾‹æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">//Consumer ä¸­çš„ void accept (T t);</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">//PrintStream ä¸­çš„ void println (T t)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">// åŸ Lambda å†™æ³•</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">Consumer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> con1<span class=\"token operator\">=</span>str<span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// ç”¨æ–¹æ³•å¼•ç”¨ å¯¹è±¡ï¼šï¼šå®ä¾‹æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\">PrintStream</span> ps<span class=\"token operator\">=</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token class-name\">Consumer</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> con2<span class=\"token operator\">=</span>ps<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// æƒ…å†µäºŒï¼šç±»ï¼šï¼šé™æ€æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// åŸ Lambda å†™æ³•</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> comparator1<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>o1<span class=\"token punctuation\">,</span> o2<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>o1<span class=\"token punctuation\">,</span>o2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">// ç”¨æ–¹æ³•å¼•ç”¨ ç±»ï¼šï¼šé™æ€æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> comparator2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token operator\">::</span><span class=\"token function\">compare</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">// ä¼ ç»Ÿå†™æ³•</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> func1<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Double</span> aDouble<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>aDouble<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">//Lambda åŸå†™æ³•</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> func2<span class=\"token operator\">=</span>d<span class=\"token operator\">-></span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">// æ–¹æ³•å¼•ç”¨å†™æ³•</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> func3<span class=\"token operator\">=</span><span class=\"token class-name\">Math</span><span class=\"token operator\">::</span><span class=\"token function\">round</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\">// æƒ…å†µäºŒï¼šç±»ï¼šï¼šå®ä¾‹æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\">//Comparator ä¸­çš„ int compare (T t1,T t2);</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token comment\">//String ä¸­çš„ int t1.compareTo (t2)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token comment\">// åŸ Lambda å†™æ³•</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> com1<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>o1<span class=\"token punctuation\">,</span> o2<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span> o1<span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>o2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token comment\">// ç”¨æ–¹æ³•å¼•ç”¨ ç±»ï¼šï¼šå®ä¾‹æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> com2 <span class=\"token operator\">=</span> <span class=\"token class-name\">String</span><span class=\"token operator\">::</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"5-æ„é€ å™¨å¼•ç”¨\"><a class=\"markdownIt-Anchor\" href=\"#5-æ„é€ å™¨å¼•ç”¨\">#</a> 5 - æ„é€ å™¨å¼•ç”¨</h2>\n<p>å’Œæ–¹æ³•å¼•ç”¨ç±»ä¼¼ï¼Œå‡½æ•°å¼æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„å½¢å‚åˆ—è¡¨å’Œæ„é€ å™¨çš„å½¢å‚åˆ—è¡¨ä¸€è‡´ã€‚</p>\n<p>æŠ½è±¡æ–¹æ³•çš„è¿”å›å€¼é‡Œç±»å‹å³ä¸ºæ„é€ å™¨æ‰€å±çš„ç±»çš„ç±»å‹</p>\n<p>ä»£ç è¯´æ˜ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æ„é€ å™¨å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\">// ä¼ ç»Ÿå†™æ³•</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> fun1<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span> <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> integer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// åŸ Lambda å†™æ³•</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> fun2<span class=\"token operator\">=</span>i<span class=\"token operator\">-></span><span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// ç”¨æ–¹æ³•å¼•ç”¨ ç±»ï¼šï¼šå®ä¾‹æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> fun3<span class=\"token operator\">=</span><span class=\"token class-name\">User</span><span class=\"token operator\">::</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"6-stream\"><a class=\"markdownIt-Anchor\" href=\"#6-stream\">#</a> 6 - Stream</h2>\n<p>java æ–°å¢äº† <code>java.util.stream</code>  åŒ…ï¼Œå®ƒå’Œä¹‹å‰çš„æµå¤§åŒå°å¼‚ã€‚ä¹‹å‰æ¥è§¦æœ€å¤šçš„æ˜¯èµ„æºæµï¼Œæ¯”å¦‚ <code>java.io.FileInputStream</code> ï¼Œé€šè¿‡æµæŠŠæ–‡ä»¶ä»ä¸€ä¸ªåœ°æ–¹è¾“å…¥åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼Œå®ƒåªæ˜¯å†…å®¹æ¬è¿å·¥ï¼Œå¯¹æ–‡ä»¶å†…å®¹ä¸åšä»»ä½•<em> CRUD</em>ã€‚</p>\n<p><code>Stream</code>  ä¾ç„¶ä¸å­˜å‚¨æ•°æ®ï¼Œä¸åŒçš„æ˜¯å®ƒå¯ä»¥æ£€ç´¢ (Retrieve) å’Œé€»è¾‘å¤„ç† <code>é›†åˆ</code> æ•°æ®ã€åŒ…æ‹¬ç­›é€‰ã€æ’åºã€ç»Ÿè®¡ã€è®¡æ•°ç­‰ã€‚å¯ä»¥æƒ³è±¡æˆæ˜¯ Sql è¯­å¥ã€‚</p>\n<p>å®ƒçš„æºæ•°æ®å¯ä»¥æ˜¯ <code>Collection</code> ã€ <code>Array</code>  ç­‰ã€‚ç”±äºå®ƒçš„æ–¹æ³•å‚æ•°éƒ½æ˜¯å‡½æ•°å¼æ¥å£ç±»å‹ï¼Œæ‰€ä»¥ä¸€èˆ¬å’Œ Lambda é…åˆä½¿ç”¨</p>\n<p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Stream APIï¼Ÿ</strong></p>\n<p>å®é™…å¼€å‘ä¸­ï¼Œé¡¹ç›®ä¸­å¤šæ•°æ•°æ®æºéƒ½æ¥è‡ªäº mysqlã€oracle ç­‰ï¼Œä½†ç°åœ¨æ•°æ®æºå¯ä»¥æ›´å¤šäº†ï¼Œæœ‰ mongDBã€redis ç­‰ï¼Œè€Œè¿™äº› NoSql çš„æ•°æ®å°±éœ€è¦ Java å±‚é¢å»å¤„ç†ã€‚è¿™æ˜¯å°±ä½¿ç”¨åˆ°äº†æˆ‘ä»¬çš„ Stream åœ¨ Java å±‚è¿›è¡Œæ•°æ®çš„å¤„ç†ã€‚</p>\n<p>Stream å’Œ Collection é›†åˆçš„åŒºåˆ«ï¼šCollection æ˜¯ä¸€ç§é™æ€çš„å†…å­˜æ•°æ®ç»“æ„ï¼Œè€Œ Stream æ˜¯æœ‰å…³è®¡ç®—çš„ã€‚å‰è€…æ˜¯ä¸»è¦é¢å‘å†…å­˜ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œåè€…ä¸»è¦æ˜¯é¢å‘ CPUï¼Œé€šè¿‡ CPU å®ç°è®¡ç®—ã€‚</p>\n<p><strong>â€œé›†åˆè®²çš„æ˜¯æ•°æ®ï¼ŒStream è®²çš„æ˜¯è®¡ç®—â€</strong></p>\n<p><strong>æ³¨æ„ï¼š</strong></p>\n<p>1.Stream è‡ªå·±ä¸ä¼šå­˜å‚¨å…ƒç´ </p>\n<p>2.Stream ä¸ä¼šæ”¹å˜æºå¯¹è±¡ï¼Œç›¸åï¼Œä»–ä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°çš„ Stream</p>\n<p>3.Stream æ“ä½œæ—¶å»¶è¿Ÿæ‰§è¡Œçš„ï¼Œè¿™æ„å‘³ç€ä»–ä»¬ä¼šç­‰åˆ°éœ€è¦ç»“æœçš„æ—¶å€™æ‰æ‰§è¡Œ</p>\n<p>ä½“ç³»å›¾ï¼š</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/1650248693626-3fc79cda-6ee6-4f9d-b827-cd8391562194.png\" alt=\"img\"></p>\n<h3 id=\"æµç±»å‹\"><a class=\"markdownIt-Anchor\" href=\"#æµç±»å‹\">#</a> æµç±»å‹</h3>\n<p>1.stream ä¸²è¡Œæµ</p>\n<p>2.parallelStream å¹¶è¡Œæµï¼Œå¯å¤šçº¿ç¨‹æ‰§è¡Œ</p>\n<p><strong>Stream çš„æ“ä½œä¸‰ä¸ªæ­¥éª¤ï¼š</strong></p>\n<p><strong>1. åˆ›å»º Stream</strong></p>\n<p>ä¸€ä¸ªæ•°æ®æºï¼ˆå¦‚ï¼šé›†åˆã€æ•°ç»„ï¼‰ï¼Œè·å–ä¸€ä¸ªæµ</p>\n<p><strong>2. ä¸­é—´æ“ä½œ</strong></p>\n<p>ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œå¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œå¤„ç†</p>\n<p><strong>3. ç»ˆæ­¢æ“ä½œï¼ˆç»ˆç«¯æ“ä½œ</strong></p>\n<p>ä¸€æ—¦æ‰§è¡Œç»ˆæ­¢æ“ä½œï¼Œ <code>å°±æ‰§è¡Œä¸­é—´æ“ä½œ</code>  (å»¶è¿Ÿæ‰§è¡Œ)ï¼Œå¹¶äº§ç”Ÿç»“æœã€‚ä¹‹åï¼Œä¸ä¼šå†è¢«ä½¿ç”¨ã€‚</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221020234129381.png\" alt=\"image-20221020234129381\"></p>\n<h3 id=\"æ­¥éª¤ä¸€-åˆ›å»ºstream\"><a class=\"markdownIt-Anchor\" href=\"#æ­¥éª¤ä¸€-åˆ›å»ºstream\">#</a> æ­¥éª¤ä¸€  åˆ›å»º Stream</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åˆ›å»º Stream æ–¹å¼ä¸€ï¼šé€šè¿‡é›†åˆ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\">//default Stream&lt;E> stream (): è¿”å›ä¸€ä¸ªé¡ºåºæµ</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> stream <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">//default Stream&lt;E> parallelStream (): è¿”å›ä¸€ä¸ªå¹¶è¡Œæµ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> userStream <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">parallelStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»º Stream æ–¹å¼äºŒï¼šé€šè¿‡æ•°ç»„</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// è°ƒç”¨ Arrays ç±»çš„ static&lt;T> Stream&lt;T> stream (T [] array): è¿”å›ä¸€ä¸ªæµ</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">IntStream</span> stream <span class=\"token operator\">=</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»º Stream æ–¹å¼ä¸‰ï¼šé€šè¿‡ Stream çš„ of ()</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> stream <span class=\"token operator\">=</span> <span class=\"token class-name\">Stream</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">// æ–¹å¼å››ï¼šåˆ›å»ºæ— é™æµï¼Œäº†è§£å³å¯</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">// è¿­ä»£</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">//public static&lt;T> Stream&lt;T> iterate(final T seed,final UnaryOperator&lt;T>f)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// éå†å‰ 10 ä¸ªå¶æ•°</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">Stream</span><span class=\"token punctuation\">.</span><span class=\"token function\">iterate</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>t <span class=\"token operator\">-></span>t<span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token comment\">// ç”Ÿæˆ</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">//public static&lt;T> Stream&lt;T> generate(Supplier&lt;T> s)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">Stream</span><span class=\"token punctuation\">.</span><span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token operator\">::</span><span class=\"token function\">random</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"æ­¥éª¤äºŒ-ä¸­é—´æ“ä½œ\"><a class=\"markdownIt-Anchor\" href=\"#æ­¥éª¤äºŒ-ä¸­é—´æ“ä½œ\">#</a> æ­¥éª¤äºŒ ä¸­é—´æ“ä½œ</h3>\n<p>ç­›é€‰ä¸åˆ‡ç‰‡ã€æ˜ å°„ã€æ’åº</p>\n<ol>\n<li><strong>ä¸­é—´æ“ä½œï¼šç­›é€‰ä¸åˆ‡ç‰‡</strong></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ³•</strong></th>\n<th><strong>æè¿°</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>filter(Predicate p)</strong></td>\n<td>ç”¨äºé€šè¿‡è®¾ç½®çš„æ¡ä»¶è¿‡æ»¤å‡ºå…ƒç´ </td>\n</tr>\n<tr>\n<td><strong>distinct()</strong></td>\n<td>ç­›é€‰ï¼Œé€šè¿‡æµæ‰€ç”Ÿæˆå…ƒç³»çš„ hashCode () å’Œ equals () å»é™¤é‡å¤å…ƒç´ </td>\n</tr>\n<tr>\n<td><strong>limit(long maxSize)</strong></td>\n<td>æˆªæ–­æµï¼Œä½¿å…¶å…ƒç´ ä¸è¶…è¿‡ç»™å®šçš„æ•°é‡</td>\n</tr>\n<tr>\n<td><strong>skip(long n)</strong></td>\n<td>è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰ n ä¸ªå…ƒç´ çš„æµã€‚è‹¥æµä¸­å…ƒç´ ä¸è¶³ n ä¸ªï¼Œåˆ™è¿”å›ç©ºæµ</td>\n</tr>\n</tbody>\n</table>\n<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æ•°æ®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span>list <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">1</span>ist<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Emp1oyee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"é©¬åŒ–é¨°\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">34</span><span class=\"token punctuation\">,</span><span class=\"token number\">6000.38</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1002</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"é©¬äº‘\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span><span class=\"token number\">9876.12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1003</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"åˆ˜å¼ºä¸œ\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">33</span><span class=\"token punctuation\">,</span><span class=\"token number\">388.82</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1004</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"é›·å†›\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">26</span><span class=\"token punctuation\">,</span><span class=\"token number\">7657.37</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1005</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"æå½¦å®\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">65</span><span class=\"token punctuation\">,</span><span class=\"token number\">5555.32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1006</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"æ¯”å°”ç›–èŒ¨\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">42</span><span class=\"token punctuation\">,</span><span class=\"token number\">956.43</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1007</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"ä»»æ­£é\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">26</span><span class=\"token punctuation\">,</span><span class=\"token number\">4333.32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1008</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"æ‰å…‹ä¼¯æ ¼\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">35</span><span class=\"token punctuation\">,</span><span class=\"token number\">2508.32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">//1. ç­›é€‰ä¸åˆ‡ç‰‡</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// åˆ›å»ºæµ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span>stream <span class=\"token operator\">=</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">//filter--- è¿‡æ»¤æ•°æ®ï¼Œä¸­é—´æ“ä½œï¼šæŸ¥è¯¢å‘˜å·¥è¡¨ä¸­è–ªèµ„å¤§äº 7000 çš„å‘˜å·¥ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>stream<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">-></span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getsalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">7000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¾ªç¯è¾“å‡ºä¸ºæœ€ç»ˆæ“ä½œ</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>         </pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">//limit (n)---- æˆªæ–­æµï¼Œä½¿å…¶å…ƒç´ ä¸è¶…è¿‡ç»™å®šçš„æ•°é‡</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">// è¿™é‡Œæ³¨æ„è¦é‡æ–°è·å–ä¸€æ¬¡æµï¼ŒStream æµåªç”¨ä¸€æ¬¡å°±å…³é—­äº†</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å‰ 3 æ¡è®°å½•    </span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>         </pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">//skip (n)---- è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰ n ä¸ªå…ƒç´ çš„æµã€‚è‹¥æµä¸­å…ƒç´ ä¸è¶³ n ä¸ªï¼Œåˆ™è¿”å›ç©ºæµ</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">skip</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ä»ç¬¬å››æ¡æ•°æ®å¼€å§‹è¾“å‡º</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>         </pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">//distinct ()--- ç­›é€‰ï¼Œé€šè¿‡æµæ‰€ç”Ÿæˆå…ƒç³»çš„ hashCode () å’Œ equals () å»é™¤é‡å¤å…ƒç´ </span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token number\">1</span>ist<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1009</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"åˆ˜å¼ºä¸œ\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">8000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token number\">1</span>ist<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1009</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"åˆ˜å¼ºä¸œ\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">8000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">distinct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// ä¼šå»æ‰é‡å¤æ•°æ®</span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>ä¸­é—´æ“ä½œï¼šæ˜ å°„</strong></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ³•</strong></th>\n<th><strong>æè¿°</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>map(Function f)</strong></td>\n<td>æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ï¼ˆä»¥å‰å­¦å‡½æ•°çš„æ—¶å€™å°±å…ˆå­¦çš„æ˜ å°„å˜›ï¼‰</td>\n</tr>\n<tr>\n<td><strong>mapToDouble(ToDoubleFunction f)</strong></td>\n<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ DoubleStream</td>\n</tr>\n<tr>\n<td><strong>mapToInt(ToIntFunction f)</strong></td>\n<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ IntStream</td>\n</tr>\n<tr>\n<td><strong>mapToIong(ToLongFunction f)</strong></td>\n<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ LongStream</td>\n</tr>\n<tr>\n<td><strong>flatMap(Function f)</strong></td>\n<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµ</td>\n</tr>\n</tbody>\n</table>\n<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//2 - æ˜ å°„</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bb\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cc\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//map (Function f)â€”â€” æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†å…ƒç´ è½¬æ¢æˆå…¶ä»–å½¢å¼æˆ–æå–ä¿¡æ¯ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>str <span class=\"token operator\">-></span> str<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹  1ï¼šè·å–å‘˜å·¥å§“åé•¿åº¦å¤§äº 3 çš„å‘˜å·¥çš„å§“åã€‚</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employees <span class=\"token operator\">=</span> <span class=\"token class-name\">EmployeeData</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> nameStream <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Employee</span><span class=\"token operator\">::</span><span class=\"token function\">getName</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    nameStream<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">-></span> name<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹  2ï¼šä½¿ç”¨ map () ä¸­é—´æ“ä½œå®ç° flatMap () ä¸­é—´æ“ä½œæ–¹æ³•</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Stream</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Character</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> streamStream <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StreamAPITest2</span><span class=\"token operator\">::</span><span class=\"token function\">fromStringToStream</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    streamStream<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">-></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        s<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">//flatMap (Function f)â€”â€” æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµã€‚</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Character</span><span class=\"token punctuation\">></span></span> characterStream <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">flatMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StreamAPITest2</span><span class=\"token operator\">::</span><span class=\"token function\">fromStringToStream</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    characterStream<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">// å°†å­—ç¬¦ä¸²ä¸­çš„å¤šä¸ªå­—ç¬¦æ„æˆçš„é›†åˆè½¬æ¢ä¸ºå¯¹åº”çš„ Stream çš„å®ä¾‹</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Character</span><span class=\"token punctuation\">></span></span><span class=\"token function\">fromStringToStream</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Character</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Character</span> c <span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>         str<span class=\"token punctuation\">.</span><span class=\"token function\">toCharArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">return</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">//map () å’Œ flatMap () æ–¹æ³•ç±»ä¼¼äº List ä¸­çš„ add () å’Œ addAll () æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> list1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    list1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    list1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    list1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    list1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> list2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    list2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    list2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    list2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    list2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    list1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//[1, 2, 3, 4, [5, 6, 7, 8]]</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    list1<span class=\"token punctuation\">.</span><span class=\"token function\">addAll</span><span class=\"token punctuation\">(</span>list2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//[1, 2, 3, 4, [5, 6, 7, 8], 5, 6, 7, 8]</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>ä¸­é—´æ“ä½œï¼šæ’åº</strong></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ³•</strong></th>\n<th><strong>æè¿°</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>sorted()</strong></td>\n<td>äº§ç”Ÿä¸€ä¸ªæ–°æµï¼Œå…¶ä¸­æŒ‰è‡ªç„¶é¡ºåºæ’åº</td>\n</tr>\n<tr>\n<td><strong>sorted(Comparator com)</strong></td>\n<td>äº§ç”Ÿä¸€ä¸ªæ–°æµï¼Œå…¶ä¸­æŒ‰æ¯”è¾ƒå™¨é¡ºåºæ’åº</td>\n</tr>\n</tbody>\n</table>\n<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//3 - æ’åº</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">//sorted ()â€”â€” è‡ªç„¶æ’åº</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">34</span><span class=\"token punctuation\">,</span> <span class=\"token number\">54</span><span class=\"token punctuation\">,</span> <span class=\"token number\">65</span><span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sorted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// æŠ›å¼‚å¸¸ï¼ŒåŸå› ï¼šEmployee æ²¡æœ‰å®ç° Comparable æ¥å£</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employees <span class=\"token operator\">=</span> <span class=\"token class-name\">EmployeeData</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sorted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">//sorted (Comparator com)â€”â€” å®šåˆ¶æ’åº</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employees1 <span class=\"token operator\">=</span> <span class=\"token class-name\">EmployeeData</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    employees1<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sorted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">,</span>e2<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">int</span> ageValue <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">.</span><span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> e2<span class=\"token punctuation\">.</span><span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ageValue <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token keyword\">return</span> ageValue<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">.</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>e2<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"æ­¥éª¤ä¸‰-ç»ˆæ­¢æ“ä½œ\"><a class=\"markdownIt-Anchor\" href=\"#æ­¥éª¤ä¸‰-ç»ˆæ­¢æ“ä½œ\">#</a> æ­¥éª¤ä¸‰ ç»ˆæ­¢æ“ä½œ</h3>\n<p>ç»ˆç«¯æ“ä½œä¼šä»æµçš„æµæ°´çº¿ç”Ÿæˆç»“æœã€‚å…¶ç»“æœå¯ä»¥æ˜¯ä»»ä½•ä¸æ˜¯æµçš„å€¼ï¼Œä¾‹å¦‚ï¼š <code>List</code> ã€ <code>Integer</code> ï¼Œç”šè‡³æ˜¯ <code>void</code></p>\n<p>æµè¿›è¡Œäº†ç»ˆæ­¢æ“ä½œä¹‹åï¼Œä¸èƒ½å†æ¬¡ä½¿ç”¨</p>\n<p>åŒ¹é…ä¸æŸ¥æ‰¾ã€å½’çº¦ã€æ”¶é›†</p>\n<ol>\n<li><strong>ç»ˆæ­¢æ“ä½œï¼šåŒ¹é…ä¸æŸ¥æ‰¾</strong></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ³•</strong></th>\n<th><strong>æè¿°</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>allMatch(Predicate p)</strong></td>\n<td>æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´ </td>\n</tr>\n<tr>\n<td><strong>anyMatch(Predicate p)</strong></td>\n<td>æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´ </td>\n</tr>\n<tr>\n<td><strong>noneMatch(Predicate p)</strong></td>\n<td>æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…æ‰€æœ‰å…ƒç´ </td>\n</tr>\n<tr>\n<td><strong>findFirst()</strong></td>\n<td>è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </td>\n</tr>\n<tr>\n<td><strong>findAny()</strong></td>\n<td>è¿”å›å½“å‰æµä¸­çš„ä»»æ„å…ƒç´ </td>\n</tr>\n</tbody>\n<tbody>\n<tr>\n<td><strong>æ–¹æ³•</strong></td>\n<td><strong>æè¿°</strong></td>\n</tr>\n<tr>\n<td>-----------------------</td>\n<td>------------------------------------------------------------</td>\n</tr>\n<tr>\n<td><strong>count()</strong></td>\n<td>è¿”å›æµä¸­å…ƒç´ æ€»æ•°</td>\n</tr>\n<tr>\n<td><strong>max(Comparator c)</strong></td>\n<td>è¿”å›æµä¸­æœ€å¤§å€¼</td>\n</tr>\n<tr>\n<td><strong>min(Comparator c)</strong></td>\n<td>è¿”å›æµä¸­æœ€å°å€¼</td>\n</tr>\n<tr>\n<td><strong>forEach(Consumer c)</strong></td>\n<td>å†…éƒ¨è¿­ä»£ï¼ˆä½¿ç”¨ Collection æ¥å£éœ€è¦ç”¨æˆ·å»åšè¿­ä»£ï¼Œç§°ä¸ºå¤–éƒ¨è¿­ä»£ã€‚ç›¸åï¼ŒStream API ä½¿ç”¨å†…éƒ¨è¿­ä»£ â€”â€” å®ƒå¸®ä½ æŠŠè¿­ä»£åšäº†)</td>\n</tr>\n</tbody>\n</table>\n<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//1 - åŒ¹é…ä¸æŸ¥æ‰¾</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employees <span class=\"token operator\">=</span> <span class=\"token class-name\">EmployeeData</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">//allMatch (Predicate p)â€”â€” æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´ ã€‚</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹ ï¼šæ˜¯å¦æ‰€æœ‰çš„å‘˜å·¥çš„å¹´é¾„éƒ½å¤§äº 18</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">boolean</span> allMatch <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">allMatch</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>allMatch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">//anyMatch (Predicate p)â€”â€” æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´ ã€‚</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹ ï¼šæ˜¯å¦å­˜åœ¨å‘˜å·¥çš„å·¥èµ„å¤§äº 5000</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">boolean</span> anyMatch <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">anyMatch</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>anyMatch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">//noneMatch (Predicate p)â€”â€” æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…çš„å…ƒç´ ã€‚</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹ ï¼šæ˜¯å¦å­˜åœ¨å‘˜å·¥å§“ â€œé›·â€</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">boolean</span> noneMatch <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">noneMatch</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é›·\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>noneMatch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">//findFirstâ€”â€” è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> first <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">findFirst</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>first<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">//findAnyâ€”â€” è¿”å›å½“å‰æµä¸­çš„ä»»æ„å…ƒç´ </span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employee <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">parallelStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">findAny</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>employee<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employees <span class=\"token operator\">=</span> <span class=\"token class-name\">EmployeeData</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token comment\">//countâ€”â€” è¿”å›æµä¸­å…ƒç´ çš„æ€»ä¸ªæ•°</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">long</span> count <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">//max (Comparator c)â€”â€” è¿”å›æµä¸­æœ€å¤§å€¼</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹ ï¼šè¿”å›æœ€é«˜çš„å·¥èµ„</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">></span></span> salaryStream <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">></span></span> maxSalary <span class=\"token operator\">=</span> salaryStream<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Double</span><span class=\"token operator\">::</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>maxSalary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token comment\">//min (Comparator c)â€”â€” è¿”å›æµä¸­æœ€å°å€¼</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹ ï¼šè¿”å›æœ€ä½å·¥èµ„çš„å‘˜å·¥</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">></span></span> minSalary <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Double</span><span class=\"token operator\">::</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>minSalary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token comment\">//forEach (Consumer c)â€”â€” å†…éƒ¨è¿­ä»£</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token comment\">// ä½¿ç”¨é›†åˆçš„éå†æ“ä½œ</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    employees<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>ç»ˆæ­¢æ“ä½œï¼šå½’çº¦</strong></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ³•</strong></th>\n<th><strong>æè¿°</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>reduce(T iden,BinaryOperator b)</strong></td>\n<td>å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿”å› T</td>\n</tr>\n<tr>\n<td><strong>reduce(BinaryOperator b)</strong></td>\n<td>å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿”å› Optional<T></td>\n</tr>\n</tbody>\n</table>\n<p><code>map</code>  å’Œ <code>reduce</code>  çš„è¿æ¥é€šå¸¸ç§°ä¸º <code>map-reduce</code>  æ¨¡å¼ï¼Œå›  Google ç”¨å®ƒæ¥è¿›è¡Œç½‘ç»œæœç´¢è€Œå‡ºå</p>\n<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//2 - å½’çº¦</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">//reduce (T identity, BinaryOperator)â€”â€” å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿”å› T</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹  1ï¼šè®¡ç®— 1-10 çš„è‡ªç„¶æ•°çš„å’Œ</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">Integer</span> sum <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token operator\">::</span><span class=\"token function\">sum</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">//reduce (BinaryOperator) â€”â€” å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿”å› Optional&lt;T></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹  2ï¼šè®¡ç®—å…¬å¸æ‰€æœ‰å‘˜å·¥å·¥èµ„çš„æ€»å’Œ</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employees <span class=\"token operator\">=</span> <span class=\"token class-name\">EmployeeData</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">></span></span> sumSalary <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Double</span><span class=\"token operator\">::</span><span class=\"token function\">sum</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>sumSalary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>ç»ˆæ­¢æ“ä½œï¼šæ”¶é›†</strong></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ³•</strong></th>\n<th><strong>æè¿°</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>collect(Collector c)</strong></td>\n<td>å°†æµè½¬æ¢ä¸ºå…¶ä»–å½¢å¼ã€‚æ¥æ”¶ä¸€ä¸ª Collector æ¥å£çš„å®ç°ï¼Œç”¨äºç»™ Stream ä¸­å…ƒç´ åšæ±‡æ€»çš„æ–¹æ³•</td>\n</tr>\n</tbody>\n</table>\n<p><code>Collector</code>  æ¥å£ä¸­æ–¹æ³•çš„å®ç°å†³å®šäº†å¦‚ä½•å¯¹æµæ‰§è¡Œæ”¶é›†çš„æ“ä½œï¼ˆå¦‚æ”¶é›†åˆ°  <code>List</code> ã€ <code>Set</code> ã€ <code>Map</code> ï¼‰</p>\n<p><code>Collectors</code>  å®ç”¨ç±»æä¾›äº†å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå¸¸è§æ”¶é›†å™¨å®ä¾‹å…·ä½“æ–¹æ³•ä¸å®ä¾‹å¦‚ä¸‹è¡¨ï¼š</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221020234242661.png\" alt=\"image-20221020234242661\"></p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221020234301928.png\" alt=\"image-20221020234301928\"></p>\n<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//3 - æ”¶é›†</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">//collect (Collector c)â€”â€” å°†æµè½¬æ¢ä¸ºå…¶ä»–å½¢å¼ã€‚æ¥æ”¶ä¸€ä¸ª Collector æ¥å£çš„å®ç°ï¼Œç”¨äºç»™ Stream ä¸­å…ƒç´ åšæ±‡æ€»çš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">// ç»ƒä¹  1ï¼šæŸ¥æ‰¾å·¥èµ„å¤§äº 6000 çš„å‘˜å·¥ï¼Œç»“æœè¿”å›ä¸ºä¸€ä¸ª List æˆ– Set</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employees <span class=\"token operator\">=</span> <span class=\"token class-name\">EmployeeData</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employeeList <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">6000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    employeeList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> employeeSet <span class=\"token operator\">=</span> employees<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">-></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getSalary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">6000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    employeeSet<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"å¸¸ç”¨æ–¹æ³•\"><a class=\"markdownIt-Anchor\" href=\"#å¸¸ç”¨æ–¹æ³•\">#</a> å¸¸ç”¨æ–¹æ³•</h3>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ <code>java.util.stream.Stream</code>   å¸¸ç”¨æ–¹æ³• ğŸ¤Œ</p>\n<p>ä¸Šé¢çš„ä¾‹å­åŸºæœ¬éƒ½æœ‰å±•ç¤ºçš„å•¦ï½ï½ï½</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221020233658581.png\" alt=\"image-20221020233658581\"></p>\n<h3 id=\"å°ç»“\"><a class=\"markdownIt-Anchor\" href=\"#å°ç»“\">#</a> å°ç»“</h3>\n<p>ä»æºç å’Œå®ä¾‹ä¸­æˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºä¸€äº› stream çš„ç‰¹ç‚¹</p>\n<ol>\n<li>é€šè¿‡ç®€å•çš„é“¾å¼ç¼–ç¨‹ï¼Œä½¿å¾—å®ƒå¯ä»¥æ–¹ä¾¿åœ°å¯¹éå†å¤„ç†åçš„æ•°æ®è¿›è¡Œå†å¤„ç†ã€‚</li>\n<li>æ–¹æ³•å‚æ•°éƒ½æ˜¯å‡½æ•°å¼æ¥å£ç±»å‹</li>\n<li>ä¸€ä¸ª Stream åªèƒ½æ“ä½œä¸€æ¬¡ï¼Œæ“ä½œå®Œå°±å…³é—­äº†ï¼Œç»§ç»­ä½¿ç”¨è¿™ä¸ª stream ä¼šæŠ¥é”™ã€‚</li>\n<li>Stream ä¸ä¿å­˜æ•°æ®ï¼Œä¸æ”¹å˜æ•°æ®æº</li>\n</ol>\n<h2 id=\"7-optional\"><a class=\"markdownIt-Anchor\" href=\"#7-optional\">#</a> 7 - Optional</h2>\n<p>åœ¨<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaGFyZS53ZWl5dW4uY29tL1RodXFFYkQ1\">é˜¿é‡Œå·´å·´å¼€å‘æ‰‹å†Œ</span>å…³äº Optional çš„ä»‹ç»ä¸­è¿™æ ·å†™åˆ°</p>\n<p>é˜²æ­¢ NPEï¼Œæ˜¯ç¨‹åºå‘˜çš„åŸºæœ¬ä¿®å…»ï¼Œæ³¨æ„ NPE äº§ç”Ÿçš„åœºæ™¯ï¼š</p>\n<p>1ï¼‰è¿”å›ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œreturn åŒ…è£…æ•°æ®ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨æ‹†ç®±æœ‰å¯èƒ½äº§ç”Ÿ NPE</p>\n<p>åä¾‹ï¼špublic int f (){return Integer å¯¹è±¡}ï¼Œå¦‚æœä¸º nullï¼Œè‡ªåŠ¨æ‹†ç®±ä¼šæŠ› NPE</p>\n<p>2ï¼‰æ•°æ®åº“çš„æŸ¥è¯¢ç»“æœå¯èƒ½ä¸º null</p>\n<p>3ï¼‰é›†åˆé‡Œçš„å…ƒç´ å³ä½¿ isNotEmptyï¼Œå–å‡ºçš„æ•°æ®å…ƒç´ ä¹Ÿå¯èƒ½ä¸º null</p>\n<p>4ï¼‰è¿œç¨‹è°ƒç”¨è¿”å›å¯¹è±¡æ—¶ï¼Œä¸€å¾‹è¦æ±‚è¿›è¡Œç©ºæŒ‡é’ˆåˆ¤æ–­ï¼Œé˜²æ­¢ NPE</p>\n<p>5ï¼‰å¯¹äº Session ä¸­è·å–çš„æ•°æ®ï¼Œå»ºè®®è¿›è¡Œ NPE æ£€æŸ¥ï¼Œé¿å…ç©ºæŒ‡é’ˆ</p>\n<p>6ï¼‰çº§è”è°ƒç”¨ obj.getA ().getB ().getC ()ï¼›ä¸€è¿ä¸²è°ƒç”¨ï¼Œæ˜“äº§ç”Ÿ NPE</p>\n<p>æ­£ä¾‹ï¼šä½¿ç”¨ JDK8 çš„ Optional ç±»æ¥é˜²æ­¢ NPE é—®é¢˜</p>\n<p><code>Optional</code>  åœ¨åŒ… <code>java.util.Optional</code>  å†…ï¼Œå°±æ˜¯ä¸ºé˜²æ­¢ NPE è€Œç”Ÿï¼Œå…¶ä¸­å¯ä»¥åŒ…å«ç©ºå€¼æˆ–éç©ºå€¼ã€‚</p>\n<p>è¡¥å……ä¸€ä¸‹ï¼š</p>\n<p><strong>ä»€ä¹ˆæ˜¯ NPEï¼Ÿ</strong></p>\n<p><code>NPE(java.lang.NullPointerException)</code> : ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>\n<p><strong>æ€ä¹ˆå‡å°‘ NPE çš„å‘ç”Ÿï¼Ÿ</strong></p>\n<p>1. éµå®ˆä»£ç è§„èŒƒ</p>\n<p>2. ä½¿ç”¨ Optional ç±» ğŸ˜ƒ</p>\n<p>3. ç©ºå€¼æ£€æµ‹</p>\n<h3 id=\"ä¸€ä¸ªä¾‹å­\"><a class=\"markdownIt-Anchor\" href=\"#ä¸€ä¸ªä¾‹å­\">#</a> ä¸€ä¸ªä¾‹å­</h3>\n<p>å‡è®¾æœ‰ä¸€ä¸ª Zoo ç±»ï¼Œé‡Œé¢æœ‰ä¸ªå±æ€§ Dogï¼Œéœ€æ±‚è¦è·å– Dog çš„ ageã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Zoo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>   <span class=\"token keyword\">private</span> <span class=\"token class-name\">Dog</span> dog<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Dog</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>   <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ä¼ ç»Ÿé˜²æ­¢ NPE çš„æ–¹å¼ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Zoo</span> zoo <span class=\"token operator\">=</span> <span class=\"token function\">getZoo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>zoo <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   <span class=\"token class-name\">Dog</span> dog <span class=\"token operator\">=</span> zoo<span class=\"token punctuation\">.</span><span class=\"token function\">getDog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>   <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>dog <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token keyword\">int</span> age <span class=\"token operator\">=</span> dog<span class=\"token punctuation\">.</span><span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å…¶å®ä¼ ç»Ÿæ–¹å¼è™½ç„¶ä¸€å±‚ä¸€å±‚çš„åˆ¤ç©ºï¼Œä»£ç å¤šï¼Œä½†æ˜¯æŒºç›´è§‚çš„ã€‚</p>\n<p>Optional  æ˜¯è¿™æ ·çš„å®ç°çš„ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Optional</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofNullable</span><span class=\"token punctuation\">(</span>zoo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>o<span class=\"token operator\">-></span>o<span class=\"token punctuation\">.</span><span class=\"token function\">getDog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>d<span class=\"token operator\">-></span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ifPresent</span><span class=\"token punctuation\">(</span>age<span class=\"token operator\">-></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span>                                                                      </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// å¯¹åº”ç€ä¸‹é¢çš„æ–¹æ³•è¯´æ˜å¾ˆå®¹æ˜“çœ‹æ‡‚çš„å•¦ï½ï½</span></pre></td></tr></table></figure><h3 id=\"optionalç±»çš„æ–¹æ³•\"><a class=\"markdownIt-Anchor\" href=\"#optionalç±»çš„æ–¹æ³•\">#</a> Optional ç±»çš„æ–¹æ³•</h3>\n<p>ä¸Šä¾‹çš„ Optional.ofNullable åªæ˜¯å…¶ä¸­çš„ä¸€ç§åˆ›å»º Optional çš„æ–¹æ³•ã€‚</p>\n<p>å®ƒçš„ç»“æ„å›¾å¦‚ä¸‹ï¼š</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221020233544717.png\" alt=\"image-20221020233544717\"></p>\n<ol>\n<li><strong>åˆ›å»º Optional ç±»å¯¹è±¡</strong></li>\n</ol>\n<p><strong>Optional.of(T t)</strong> : \tåˆ›å»ºä¸€ä¸ª Optional å®ä¾‹ï¼Œt å¿…é¡»éç©ºï¼›</p>\n<p><strong>Optional.empty() :</strong>    åˆ›å»ºä¸€ä¸ªç©ºçš„ Optional å®ä¾‹</p>\n<p><strong>Optional.ofNullable(T t)ï¼š</strong>\tt å¯ä»¥ä¸º null</p>\n<ol start=\"2\">\n<li><strong>åˆ¤æ–­ Optional å®¹å™¨æ˜¯å¦åŒ…å«å¯¹è±¡</strong></li>\n</ol>\n<p><strong>boolean isPresent()ï¼š</strong>  åˆ¤æ–­æ˜¯å¦åŒ…å«å¯¹è±¡</p>\n<p><strong>void ifPresent(Consumer&lt;? super T&gt; consumer)ï¼š</strong>  å¦‚æœæœ‰å€¼ï¼Œå°±æ‰§è¡Œ Consumer æ¥å£çš„å®ç°ä»£ç ï¼Œå¹¶ä¸”è¯¥å€¼ä¼šä½œä¸ºå‚æ•°ä¼ ç»™å®ƒã€‚</p>\n<ol start=\"3\">\n<li><strong>è·å– Optional å®¹å™¨é‡Œè£…çš„å¯¹è±¡</strong></li>\n</ol>\n<p><strong>T get()</strong>ï¼šå¦‚æœè°ƒç”¨å¯¹è±¡åŒ…å«å€¼ï¼Œè¿”å›è¯¥å€¼ï¼Œå¦åˆ™æŠ›å¼‚å¸¸</p>\n<p><strong>T orElse(T other)</strong>ï¼šå¦‚æœæœ‰å€¼åˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™è¿”å›æŒ‡å®šçš„ other å¯¹è±¡</p>\n<p><strong>T orElseGet(Supplier&lt;? extends t&gt; other)</strong>ï¼šå¦‚æœæœ‰å€¼åˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™è¿”å›ç”± Supplier æ¥å£å®ç°æä¾›çš„å¯¹è±¡ã€‚</p>\n<p><strong>T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier)</strong>ï¼šå¦‚æœæœ‰å€¼åˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™æŠ›å‡ºç”± Supplier æ¥å£å®ç°æä¾›çš„å¼‚å¸¸ã€‚</p>\n<ol start=\"4\">\n<li><strong>æ­é…ä½¿ç”¨</strong></li>\n</ol>\n<p><strong>of()</strong> å’Œ <strong>get()</strong> æ–¹æ³•æ­é…ä½¿ç”¨ï¼Œæ˜ç¡®å¯¹è±¡éç©º</p>\n<p><strong>ofNullable()</strong> å’Œ <strong>orElse()</strong> æ­é…ä½¿ç”¨ï¼Œä¸ç¡®å®šå¯¹è±¡éç©º</p>\n<h3 id=\"ä»£ç ç¤ºä¾‹\"><a class=\"markdownIt-Anchor\" href=\"#ä»£ç ç¤ºä¾‹\">#</a> ä»£ç ç¤ºä¾‹ï¼š</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OptionalTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\">//empty (): åˆ›å»ºçš„ Optional å¯¹è±¡å†…éƒ¨çš„ value = null</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> op1 <span class=\"token operator\">=</span> <span class=\"token class-name\">Optional</span><span class=\"token punctuation\">.</span><span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>op1<span class=\"token punctuation\">.</span><span class=\"token function\">isPresent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token comment\">//Optional å°è£…çš„æ•°æ®æ˜¯å¦åŒ…å«æ•°æ®</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ•°æ®ä¸ºç©º\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>op1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>op1<span class=\"token punctuation\">.</span><span class=\"token function\">isPresent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// å¦‚æœ Optional å°è£…çš„æ•°æ® value ä¸ºç©ºï¼Œåˆ™ get () æŠ¥é”™ã€‚å¦åˆ™ï¼Œvalue ä¸ä¸ºç©ºæ—¶ï¼Œè¿”å› value.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>op1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">String</span> str <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">//        str = null;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">//of (T t): å°è£…æ•°æ® t ç”Ÿæˆ Optional å¯¹è±¡ã€‚è¦æ±‚ t éç©ºï¼Œå¦åˆ™æŠ¥é”™ã€‚</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> op1 <span class=\"token operator\">=</span> <span class=\"token class-name\">Optional</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">//get () é€šå¸¸ä¸ of () æ–¹æ³•æ­é…ä½¿ç”¨ã€‚ç”¨äºè·å–å†…éƒ¨çš„å°è£…çš„æ•°æ® value</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">String</span> str1 <span class=\"token operator\">=</span> op1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token class-name\">String</span> str <span class=\"token operator\">=</span><span class=\"token string\">\"Beijing\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        str <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">//ofNullable (T t) ï¼šå°è£…æ•°æ® t èµ‹ç»™ Optional å†…éƒ¨çš„ valueã€‚ä¸è¦æ±‚ t éç©º</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> op1 <span class=\"token operator\">=</span> <span class=\"token class-name\">Optional</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofNullable</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>op1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">//orElse (T t1): å¦‚æœ Optional å†…éƒ¨çš„ value éç©ºï¼Œåˆ™è¿”å›æ­¤ value å€¼ã€‚å¦‚æœ</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">//value ä¸ºç©ºï¼Œåˆ™è¿”å› t1.</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">String</span> str2 <span class=\"token operator\">=</span> op1<span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shanghai\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ä½¿ç”¨  <code>Optional</code>  ç±»é¿å…äº§ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GirlBoyOptionalTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// ä½¿ç”¨åŸå§‹æ–¹æ³•è¿›è¡Œéç©ºæ£€éªŒ</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getGrilName1</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Boy</span> boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>boy <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token class-name\">Girl</span> girl <span class=\"token operator\">=</span> boy<span class=\"token punctuation\">.</span><span class=\"token function\">getGirl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>girl <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token keyword\">return</span> girl<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// ä½¿ç”¨ Optional ç±»çš„ getGirlName () è¿›è¡Œéç©ºæ£€éªŒ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getGirlName2</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Boy</span> boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Boy</span><span class=\"token punctuation\">></span></span> boyOptional <span class=\"token operator\">=</span> <span class=\"token class-name\">Optional</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofNullable</span><span class=\"token punctuation\">(</span>boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// æ­¤æ—¶çš„ boy1 ä¸€å®šéç©ºï¼Œboy ä¸ºç©ºæ˜¯è¿”å› â€œè¿ªä¸½çƒ­å·´â€</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Boy</span> boy1 <span class=\"token operator\">=</span> boyOptional<span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Boy</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Girl</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿ªä¸½çƒ­å·´\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">Girl</span> girl <span class=\"token operator\">=</span> boy1<span class=\"token punctuation\">.</span><span class=\"token function\">getGirl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">//girl1 ä¸€å®šéç©ºï¼Œgirl ä¸ºç©ºæ—¶è¿”å› â€œå¤åŠ›å¨œæ‰â€</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Girl</span><span class=\"token punctuation\">></span></span> girlOptional <span class=\"token operator\">=</span> <span class=\"token class-name\">Optional</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofNullable</span><span class=\"token punctuation\">(</span>girl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">Girl</span> girl1 <span class=\"token operator\">=</span> girlOptional<span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Girl</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤åŠ›å¨œæ‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">return</span> girl1<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\">// æµ‹è¯•æ‰‹åŠ¨å†™çš„æ§åˆ¶æ£€æµ‹</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">Boy</span> boy <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">getGrilName1</span><span class=\"token punctuation\">(</span>boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        boy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Boy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">getGrilName1</span><span class=\"token punctuation\">(</span>boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        boy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Boy</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Girl</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¨å¹‚\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">getGrilName1</span><span class=\"token punctuation\">(</span>boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token comment\">// æµ‹è¯•ç”¨ Optional ç±»å†™çš„æ§åˆ¶æ£€æµ‹</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">Boy</span> boy <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">getGirlName2</span><span class=\"token punctuation\">(</span>boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        boy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Boy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">getGirlName2</span><span class=\"token punctuation\">(</span>boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        boy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Boy</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Girl</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¨å¹‚\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">getGirlName2</span><span class=\"token punctuation\">(</span>boy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"8-date-time-api\"><a class=\"markdownIt-Anchor\" href=\"#8-date-time-api\">#</a> 8 - Date-Time API</h2>\n<p>Java8 åœ¨ <code>java.time</code>  åŒ…ä¸‹åŒ…å«ä¸€ä¸ªå…¨æ–°çš„æ—¥æœŸå’Œæ—¶é—´ APIï¼Œè¿™æ˜¯å¯¹   <code>java.util.Date</code>  çš„å¼ºæœ‰åŠ›è¡¥å……ï¼Œè§£å†³äº† Date ç±»çš„å¤§éƒ¨åˆ†ç—›ç‚¹ï¼š</p>\n<p>1. éçº¿ç¨‹å®‰å…¨</p>\n<p>2. æ—¶åŒºå¤„ç†éº»çƒ¦</p>\n<p>3. å„ç§æ ¼å¼åŒ–ã€æ—¶é—´è®¡ç®—ç¹ç</p>\n<p>4. è®¾è®¡æœ‰ç¼ºé™·ï¼ŒDate ç±»åŒæ—¶åŒ…æ‹¬æ—¥æœŸå’Œæ—¶é—´ï¼›è¿˜æœ‰ä¸€ä¸ª java.sql.Dateï¼Œå®¹æ˜“æ··æ·†</p>\n<p>Clockã€ZoneIdã€LocalTimeã€LocalDateã€</p>\n<p><code>java.time</code>  å¸¸ç”¨çš„ç±»ï¼šè€Œåœ¨æ—§ç‰ˆæœ¬ä¸­æ˜¯ <code>java.util.Date</code>  æ—¢åŒ…å«æ—¥æœŸåˆåŒ…å«æ—¶é—´</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ocalDateTime<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token comment\">// æ—¥æœŸ + æ—¶é—´ format: yyyy-MM-ddTHH:mm:ss.SSS</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token comment\">// æ—¥æœŸ format: yyyy-MM-dd</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">LocalTime</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token comment\">// æ—¶é—´ format: HH:mm:ss</span></pre></td></tr></table></figure><h3 id=\"localtimeæœ¬åœ°æ—¶é—´\"><a class=\"markdownIt-Anchor\" href=\"#localtimeæœ¬åœ°æ—¶é—´\">#</a> LocalTime (æœ¬åœ°æ—¶é—´)</h3>\n<p>LocalTime å®šä¹‰äº†ä¸€ä¸ªæ²¡æœ‰æ—¶åŒºä¿¡æ¯çš„æ—¶é—´ï¼Œä¾‹å¦‚ æ™šä¸Š 10 ç‚¹æˆ–è€… 17:30:15</p>\n<p><strong>ç»“æ„å›¾</strong>ï¼š</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221020233419554.png\" alt=\"image-20221020233419554\"></p>\n<h3 id=\"localdateæœ¬åœ°æ—¥æœŸ\"><a class=\"markdownIt-Anchor\" href=\"#localdateæœ¬åœ°æ—¥æœŸ\">#</a> LocalDate (æœ¬åœ°æ—¥æœŸ)</h3>\n<p>LocalDate è¡¨ç¤ºäº†ä¸€ä¸ªç¡®åˆ‡çš„æ—¥æœŸï¼Œæ¯”å¦‚ 2022-04-18ã€‚è¯¥å¯¹è±¡å€¼æ˜¯ä¸å¯å˜çš„ï¼Œç”¨èµ·æ¥å’Œ LocalTime åŸºæœ¬ä¸€è‡´ã€‚</p>\n<p><strong>ç»“æ„å›¾</strong>ï¼šæ²¡æœ‰æ˜¾ç¤ºç»§æ‰¿ä¾èµ–ç­‰ä¿¡æ¯</p>\n<p><img data-src=\"https://image.dabing.cool/image/image-20221020233438253.png\" alt=\"image-20221020233438253\"></p>\n<p><strong>ä¾‹å­å±•ç¤º</strong>ï¼šå¦‚ä½•ç»™ Date å¯¹è±¡åŠ å‡å¤© / æœˆ / å¹´ã€‚å¦å¤–æ³¨æ„è¿™äº›å¯¹è±¡æ˜¯ä¸å¯å˜å¾—ï¼Œæ“ä½œè¿”å›çš„æ€»æ˜¯ç»™ä¸€ä¸ªæ–°å®ä¾‹ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">LocalDate</span> today<span class=\"token operator\">=</span><span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// è·å–ç°åœ¨çš„æ—¥æœŸ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä»Šå¤©çš„æ—¥æœŸï¼š\"</span><span class=\"token operator\">+</span>today<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//2022-04-18</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">LocalDate</span> tomorrow <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token function\">plus</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ChronoUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">DAYS</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// æ˜å¤©çš„æ—¥æœŸ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜å¤©çš„æ—¥æœŸï¼š\"</span><span class=\"token operator\">+</span>tomorrow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//2022-04-19</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token class-name\">LocalDate</span> yersterday1 <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token function\">minusDays</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token class-name\">LocalDate</span> yersterday2 <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token function\">minus</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">ChronoUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">DAYS</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜¨å¤©çš„æ—¥æœŸ1ï¼š\"</span><span class=\"token operator\">+</span>yersterday1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜¨å¤©çš„æ—¥æœŸ2ï¼š\"</span><span class=\"token operator\">+</span>yersterday2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// æœ‰å¾ˆå¤šç§å®ç°æ–¹å¼</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token class-name\">LocalDate</span> oneDay <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">2022</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Month</span><span class=\"token punctuation\">.</span><span class=\"token constant\">JANUARY</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//2022-01-01</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token class-name\">DayOfWeek</span> dayOfWeek<span class=\"token operator\">=</span>oneDay<span class=\"token punctuation\">.</span><span class=\"token function\">getDayOfWeek</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// è·å–é‚£å¤©æ˜¯å‘¨å‡ ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2022-01-01æ˜¯å‘¨å‡ ï¼š\"</span><span class=\"token operator\">+</span>dayOfWeek<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"localdatetimeæœ¬åœ°æ—¥æœŸæ—¶é—´\"><a class=\"markdownIt-Anchor\" href=\"#localdatetimeæœ¬åœ°æ—¥æœŸæ—¶é—´\">#</a> LocalDateTime (æœ¬åœ°æ—¥æœŸæ—¶é—´)</h3>\n<p>LocalDateTime åŒæ—¶è¡¨ç¤ºäº†æ—¶é—´å’Œæ—¥æœŸï¼Œç›¸å½“äºå‰ä¸¤èŠ‚å†…å®¹åˆå¹¶åˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šäº†ã€‚LocalDateTime å’Œ LocalTime è¿˜æœ‰ LocalDate ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸å¯å˜çš„ã€‚LocalDateTime æä¾›äº†ä¸€äº›èƒ½è®¿é—®å…·ä½“å­—æ®µçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">LocalDateTime</span> sylvester <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">2014</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Month</span><span class=\"token punctuation\">.</span><span class=\"token constant\">DECEMBER</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">59</span><span class=\"token punctuation\">,</span> <span class=\"token number\">59</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">DayOfWeek</span> dayOfWeek1 <span class=\"token operator\">=</span> sylvester<span class=\"token punctuation\">.</span><span class=\"token function\">getDayOfWeek</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>dayOfWeek1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// WEDNESDAY</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">Month</span> month <span class=\"token operator\">=</span> sylvester<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          <span class=\"token comment\">// DECEMBER</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">long</span> minuteOfDay <span class=\"token operator\">=</span> sylvester<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ChronoField</span><span class=\"token punctuation\">.</span><span class=\"token constant\">MINUTE_OF_DAY</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>minuteOfDay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 1439  59h*60+59=1439min</span></pre></td></tr></table></figure><h3 id=\"æ ¼å¼åŒ–\"><a class=\"markdownIt-Anchor\" href=\"#æ ¼å¼åŒ–\">#</a> æ ¼å¼åŒ–</h3>\n<p>æ ¼å¼åŒ– LocalDateTime å’Œæ ¼å¼åŒ–æ—¶é—´å’Œæ—¥æœŸä¸€æ ·çš„ï¼Œé™¤äº†ä½¿ç”¨é¢„å®šä¹‰å¥½çš„æ ¼å¼å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰æ ¼å¼ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">DateTimeFormatter</span> formatter <span class=\"token operator\">=</span><span class=\"token class-name\">DateTimeFormatter</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofPattern</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MM dd, yyyy - HH:mm\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">LocalDateTime</span> parsed <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"09 03, 2014 - 07:13\"</span><span class=\"token punctuation\">,</span> formatter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">String</span> string <span class=\"token operator\">=</span> formatter<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>parsed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>string<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// 09 03, 2014 - 07:13</span></pre></td></tr></table></figure><h3 id=\"è§£æå­—ç¬¦ä¸²\"><a class=\"markdownIt-Anchor\" href=\"#è§£æå­—ç¬¦ä¸²\">#</a> è§£æå­—ç¬¦ä¸²</h3>\n<p>1. å­—ç¬¦ä¸² â€”&gt; æ—¶é—´æ—¥æœŸ  parse</p>\n<p>2. æ—¶é—´æ—¥æœŸ â€”&gt; å­—ç¬¦ä¸²  format</p>\n<p>å¦‚æœæ˜¯é»˜è®¤æ ¼å¼ï¼Œä¸éœ€è¦ç”¨åˆ° <code>DateTimeFormatter</code>  ç›´æ¥ parse å³å¯ï¼Œ</p>\n<p>éé»˜è®¤æ ¼å¼ï¼Œä½¿ç”¨ <code>DateTimeFormatter</code>  è§£æå­—ç¬¦ä¸²ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">String</span> str1<span class=\"token operator\">=</span><span class=\"token string\">\"2022==04==18 01æ—¶06åˆ†09ç§’\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">DateTimeFormatter</span> formatter1<span class=\"token operator\">=</span><span class=\"token class-name\">DateTimeFormatter</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofPattern</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyyy==MM==dd HHæ—¶mmåˆ†ssç§’\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">LocalDateTime</span> dateTime1 <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">,</span> formatter1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>dateTime1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// è¾“å‡º  2022-04-18T01:06:09</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">String</span> str2 <span class=\"token operator\">=</span> <span class=\"token string\">\"2014$$$å››æœˆ$$$13 20å°æ—¶\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token class-name\">DateTimeFormatter</span> fomatter2 <span class=\"token operator\">=</span> <span class=\"token class-name\">DateTimeFormatter</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">.</span><span class=\"token function\">ofPattern</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyy$$$MMM$$$dd HHå°æ—¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// è¿™é‡Œè¿˜ä¸å¤ªæ˜ç™½</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token class-name\">LocalDateTime</span> dt2 <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">,</span> fomatter2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>dt2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¾“å‡º 2014-04-13T20:00</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// é»˜è®¤çš„æ ¼å¼è§£æä¸ç”¨ famtterï¼Œç›´æ¥ parse å³å¯</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2021-01-26\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2021-01-26T12:12:22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token class-name\">LocalTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"12:12:22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": [
                "Javaæ–°ç‰¹æ€§"
            ]
        },
        {
            "id": "https://blog.dabing.cool/java/JVM-%E5%88%9D%E7%BA%A7/",
            "url": "https://blog.dabing.cool/java/JVM-%E5%88%9D%E7%BA%A7/",
            "title": "JVM-åˆçº§",
            "date_published": "2022-01-01T02:00:00.000Z",
            "content_html": "<p>å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3llcmVueXVhbl9wa3UvYXJ0aWNsZS9kZXRhaWxzLzEwMzMyMDc1Nw==\">https://blog.csdn.net/yerenyuan_pku/article/details/103320757</span></p>\n<blockquote>\n<p>ä¸€äº›å¸¸è§é¢è¯•é¢˜ï¼ˆå…¨æ˜¯ç†è®ºï¼‰</p>\n</blockquote>\n<ul>\n<li><strong>è°ˆè°ˆä½ å¯¹ JVM çš„ç†è§£ï¼ŸJava8 è™šæ‹Ÿæœºå’Œä¹‹å‰çš„å˜åŒ–</strong></li>\n</ul>\n<p>â€‹</p>\n<ul>\n<li><strong>ä»€ä¹ˆæ˜¯ OOMï¼Œä»€ä¹ˆæ˜¯æ ˆæº¢å‡º StackOverflowErrorï¼Ÿæ€ä¹ˆåˆ†æï¼Ÿ</strong></li>\n</ul>\n<p>â€‹\t\tOOMï¼Œå…¨ç§°æ˜¯ Out Of Memoryï¼Œå†…å­˜ç”¨å®Œäº†ã€‚ï¼ˆJVM æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥ä¸ºå¯¹è±¡åˆ†é…ç©ºé—´å¹¶ä¸”åƒåœ¾\t\tå›æ”¶å™¨ä¹Ÿæ²¡æœ‰ç©ºé—´å¯ä»¥å›æ”¶äº†ï¼Œå°±ä¼šæŠ›å‡ºè¿™ä¸ª errorï¼‰</p>\n<p>â€‹\t\t <code>åŸå› </code> ï¼š1ï¼‰åˆ†é…çš„å°‘äº†ï¼ˆå¯åŠ¨æ—¶ VM å‚æ•°å¯ä»¥æŒ‡å®šè™šæ‹Ÿæœºæœ¬èº«å¯ä½¿ç”¨çš„å†…å­˜å¤§å°ï¼‰</p>\n<p>â€‹\t\t\t\t  2ï¼‰åº”ç”¨ç”¨çš„å¤ªå¤šäº†ï¼ˆä¼šé€ æˆå†…å­˜æ³„éœ²å’Œå†…å­˜æº¢å‡ºï¼‰</p>\n<p>â€‹\t\tæœ€å¸¸è§çš„ OOM <code>æƒ…å†µ</code> ï¼š</p>\n<p>â€‹\t\t\t\t1ï¼‰å †å†…å­˜æº¢å‡º</p>\n<p>â€‹\t\t\t\t2ï¼‰æ–¹æ³•åŒºæº¢å‡º</p>\n<p>â€‹\t\t\t\t3ï¼‰StackOverflowError æ ˆæº¢å‡º</p>\n<p>â€‹\t\t <code>åˆ†æ</code>  â€”heapdump</p>\n<p>â€‹\t\t\t\tdump å †çš„å†…å­˜é•œåƒï¼Œå¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹å¼ï¼š</p>\n<p>â€‹\t\t\t\t\t1. è®¾ç½® JVM å‚æ•°   HeapDumpOnOutOfMemoryError</p>\n<p>â€‹\t\t\t\t\t2. ä½¿ç”¨ JDK è‡ªå¸¦çš„ jamp å‘½ä»¤   &quot;jmap -dump:format=b,file=heap.bin <pid>&quot;  å…¶ä¸­ pid å¯\t\t\t\t\tä»¥é€šè¿‡ jps è·å–ã€‚</p>\n<p>â€‹\t\t\t   dump å †çš„å†…å­˜é•œåƒï¼Œä½¿ç”¨å·¥å…·åˆ†æï¼šmatã€jhat</p>\n<p>â€‹\t\tè¯¦ç»†è§£é‡Šï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vVGhpbmtWZW51cy9wLzY4MDU0OTUuaHRtbA==\">https://www.cnblogs.com/ThinkVenus/p/6805495.html</span></p>\n<ul>\n<li><strong>JVM çš„å¸¸ç”¨è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿ</strong></li>\n<li><strong>å†…å­˜å¿«ç…§å¦‚ä½•æŠ“å–ï¼Œæ€ä¹ˆåˆ†æ Dump æ–‡ä»¶ï¼Ÿ</strong></li>\n<li><strong>è°ˆè°ˆ JVM ä¸­ç±»åŠ è½½å™¨ä½ çš„è®¤è¯†ï¼Ÿ</strong></li>\n</ul>\n<blockquote>\n<p>ä¸€äº›æ¦‚å¿µç†è§£</p>\n</blockquote>\n<h2 id=\"1jvmçš„ä½ç½®\"><a class=\"markdownIt-Anchor\" href=\"#1jvmçš„ä½ç½®\">#</a> 1.JVM çš„ä½ç½®</h2>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220412105259491.png\" alt=\"image-20220412105259491\"></p>\n<h2 id=\"2jvmçš„ä½“ç³»ç»“æ„\"><a class=\"markdownIt-Anchor\" href=\"#2jvmçš„ä½“ç³»ç»“æ„\">#</a> 2.JVM çš„ä½“ç³»ç»“æ„</h2>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191130085643146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<h2 id=\"3ç±»åŠ è½½å™¨\"><a class=\"markdownIt-Anchor\" href=\"#3ç±»åŠ è½½å™¨\">#</a> 3. ç±»åŠ è½½å™¨</h2>\n<p>ä½œç”¨ï¼šåŠ è½½ class æ–‡ä»¶ï¼Œ</p>\n<p>ç±»æ˜¯æ¨¡æ¿ï¼Œå¯¹è±¡æ˜¯å…·ä½“çš„</p>\n<p>å…·ä½“å¯¹è±¡æ”¾åœ¨å †é‡Œï¼Œå¯¹è±¡å¼•ç”¨æ”¾åœ¨æ ˆé‡Œï¼Œå­˜åœ¨çš„æ˜¯å¯¹è±¡çš„åœ°å€</p>\n<p>getClass()</p>\n<p>getClassLoader()</p>\n<p>1. ç±»åŠ è½½å™¨æ”¶åˆ°ç±»åŠ è½½å™¨çš„è¯·æ±‚</p>\n<p>2. å°†è¿™ä¸ªè¯·æ±‚å‘ä¸Šå§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆï¼Œä¸€ç›´å‘ä¸Šå§”æ‰˜ï¼Œç›´åˆ°å¯åŠ¨ç±»åŠ è½½å™¨</p>\n<p>3. å¯åŠ¨åŠ è½½å™¨æ£€æŸ¥æ˜¯å¦èƒ½å¤ŸåŠ è½½å½“å‰ç±»ï¼Œèƒ½åŠ è½½å°±ç»“æŸï¼Œä½¿ç”¨å½“å‰çš„åŠ è½½å™¨ï¼Œå¦åˆ™ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œé€šçŸ¥å­åŠ è½½å™¨åŠ è½½</p>\n<p>4. é‡å¤æ­¥éª¤ 3</p>\n<p>Class Not Found~</p>\n<p>null:Java è°ƒç”¨ä¸åˆ°ï¼Œ</p>\n<p>Javaï¼šc+Â±- å»æ‰çš„ç¹çéƒ¨åˆ†ï¼Œå¦‚æŒ‡é’ˆã€å†…å­˜ç®¡ç†</p>\n<p>ç±»è£…è½½å™¨ï¼ˆClassLoaderï¼‰è´Ÿè´£åŠ è½½ class æ–‡ä»¶ï¼Œclass æ–‡ä»¶åœ¨æ–‡ä»¶å¼€å¤´æœ‰ç‰¹å®šçš„æ–‡ä»¶æ ‡ç¤ºï¼ŒClassLoader åªè´Ÿè´£ class æ–‡ä»¶çš„åŠ è½½ï¼Œè‡³äºå®ƒæ˜¯å¦å¯ä»¥è¿è¡Œï¼Œåˆ™ç”± Execution Engine å†³å®šã€‚</p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220412105420360.png\" alt=\"image-20220412105420360\"></p>\n<p>jvm è™šæ‹Ÿæœºè‡ªå¸¦çš„ç±»åŠ è½½å™¨æœ‰å››ç§ï¼š</p>\n<p>1. å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆBootstrapï¼‰ï¼šc++ ç¼–å†™</p>\n<p>2. æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtensionï¼‰ï¼šJava ç¼–å†™</p>\n<p>3. åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆAppClassLoaderï¼‰ï¼šæˆ–è€…å«ç³»ç»Ÿç±»åŠ è½½å™¨ï¼Œç”¨äºåŠ è½½å½“å‰åº”ç”¨ classpath ä¸‹çš„æ‰€æœ‰ç±»</p>\n<p>4. ç”¨æˆ·è‡ªå®šä¹‰åŠ è½½ç±»ï¼šJava.lang.ClassLoader çš„å­ç±»ï¼Œç”¨æˆ·å¯ä»¥å®šåˆ¶ç±»çš„åŠ è½½æ–¹å¼</p>\n<p>åŒäº²å§”æ´¾ï¼Œå‘ä¸Šå§”æ‰˜ 4321</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191130095429988.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<h2 id=\"4åŒäº²å§”æ´¾æœºåˆ¶\"><a class=\"markdownIt-Anchor\" href=\"#4åŒäº²å§”æ´¾æœºåˆ¶\">#</a> 4. åŒäº²å§”æ´¾æœºåˆ¶</h2>\n<p>ç±»åŠ è½½çš„æ—¶å€™çš„ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œä¸ºäº†ä¿è¯å®‰å…¨</p>\n<p>appï¼ˆå½“å‰åº”ç”¨ç¨‹åºï¼‰-&gt;exc (æ‰©å±•)-&gt;boot</p>\n<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè‡ªé¡¶å‘ä¸‹åŠ è½½ï¼Œä¿è¯ä»£ç å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„ä»£ç å¯¹æºä»£ç çš„ä¿®æ”¹ã€‚</p>\n<h2 id=\"5æ²™ç®±å®‰å…¨æœºåˆ¶\"><a class=\"markdownIt-Anchor\" href=\"#5æ²™ç®±å®‰å…¨æœºåˆ¶\">#</a> 5. æ²™ç®±å®‰å…¨æœºåˆ¶</h2>\n<p>è¯¦ç»†è¯´æ˜å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vTXlTdHJpbmdJc05vdE51bGwvcC84MjY4MzUxLmh0bWw=\">https://www.cnblogs.com/MyStringIsNotNull/p/8268351.html</span></p>\n<p>å°±æ˜¯è¯´ä½ å†™äº†ä¸€ä¸ª Java ç¨‹åºï¼Œé»˜è®¤æƒ…å†µä½ æ˜¯å¯ä»¥ä»»åŠ¡è®¿é—®è¿™å°æœºå™¨çš„ä»»ä½•èµ„æºçš„ã€‚ä½†æ˜¯ä½ æŠŠç¨‹åºéƒ¨ç½²åˆ°æ­£å¼çš„æœåŠ¡å™¨ä¸Šçš„æ—¶å€™ï¼Œè¦ä¿è¯ä½ çš„ç¨‹åºä¸ä¼šå¯¹è¿™ä¸ªæœåŠ¡å™¨æœ‰ä¼¤å®³ï¼Œè®¿é—®ä¸€äº›ä¸è¯¥è®¿é—®çš„èµ„æºã€‚</p>\n<p>æ¶ˆé™¤å®‰å…¨éšæ‚£ï¼Œæœ‰ä¸¤ç§åŠæ³•ï¼š</p>\n<p>1. è®©ä½ çš„ç¨‹åºåœ¨ä¸€ä¸ªé™å®šæƒé™çš„è´¦å·ä¸‹è¿è¡Œ</p>\n<p>2. åˆ©ç”¨ Java çš„ <code>æ²™ç®±æœºåˆ¶</code> æ¥é™å®šç¨‹åºä¸ä¸ºéä½œæ­¹ã€‚</p>\n<p>æ²™ç®±ï¼ˆsandboxï¼‰æ˜¯ä¸€ä¸ªé™åˆ¶ç¨‹åºè¿è¡Œçš„ç¯å¢ƒã€‚æ²™ç®±æœºåˆ¶å°±æ˜¯å°† Java ä»£ç é™å®šåœ¨è™šæ‹Ÿæœºç‰¹æ€§çš„è¿è¡ŒèŒƒå›´ï¼Œå¹¶ä¸”ä¸¥æ ¼é™åˆ¶ä»£ç å¯¹æœ¬åœ°ç³»ç»Ÿèµ„æºè®¿é—®ï¼Œé€šè¿‡è¿™æ ·çš„æªæ–½æ¥ä¿è¯å¯¹ä»£ç çš„æœ‰æ•ˆéš”ç¦»ã€‚</p>\n<p>ç»„æˆæ²™ç®±çš„åŸºæœ¬ <code>ç»„ä»¶</code> ï¼šå­—èŠ‚ç æ ¡éªŒå™¨ã€ç±»è£…è½½å™¨ã€å­˜å–æ§åˆ¶å™¨ã€å®‰å…¨ç®¡ç†å™¨ã€å®‰å…¨è½¯ä»¶åŒ…</p>\n<p>æ²™ç®±åŒ…å«çš„ <code>è¦ç´ </code> ï¼šæƒé™ã€ä»£ç æºã€ä¿æŠ¤åŸŸã€ç­–ç•¥æ–‡ä»¶ã€å¯†é’¥åº“</p>\n<h2 id=\"6native\"><a class=\"markdownIt-Anchor\" href=\"#6native\">#</a> 6.Native</h2>\n<p>åŠ ä¸ª native å…³é”®å­—ï¼Œè¯´æ˜ Java çš„ä½œç”¨èŒƒå›´è¾¾ä¸åˆ°äº†ï¼Œä¼šå»è°ƒç”¨åº•å±‚ C è¯­è¨€çš„åº“</p>\n<p>ä¼šè¿›å…¥æœ¬åœ°æ–¹æ³•æ ˆï¼Œè°ƒç”¨æœ¬åœ°æ–¹æ³•æ¥å£ï¼Œå³ JNI</p>\n<p>JNI çš„ä½œç”¨ï¼šæ‰©å±• Java çš„ä½¿ç”¨ï¼Œèåˆä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸º Java ä½¿ç”¨ï¼æœ€åˆï¼šCã€C++</p>\n<p>Java è¯ç”Ÿçš„æ—¶å€™ï¼šCã€C<ins> æ¨ªè¡Œï¼Œæƒ³è¦ç«‹è¶³ï¼Œå¿…é¡»è¦è°ƒç”¨ Cã€c</ins></p>\n<p>åœ¨ Execution æ‰§è¡Œçš„æ—¶å€™ï¼ŒåŠ è½½æœ¬åœ°æ–¹æ³•åº“</p>\n<p>å®ƒå†å†…å­˜åŒºåŸŸä¸­ä¸“é—¨å¼€è¾Ÿäº†ä¸€å—æ ‡è®°åŒºåŸŸï¼ŒNative Method Stack <code>æœ¬åœ°æ–¹æ³•æ ˆ</code> ï¼Œé™å®šåªæ ‡è®°äº† <code>native</code>  çš„æ–¹æ³•æ‰èƒ½å¡è¿›å»ã€‚å¡è¿›å»çš„æ–¹æ³•ä½†å‡¡æƒ³è¦è¢«æ‰§è¡Œï¼Œåªèƒ½æ±‚åŠ©äºæ“ä½œç³»ç»Ÿï¼Œç„¶åè°ƒç”¨ <code>æœ¬åœ°æ–¹æ³•æ¥å£</code> ï¼ˆæ“ä½œç³»ç»Ÿçš„ï¼‰ï¼Œè°ƒç”¨æœ¬åœ°æ–¹æ³•æ¥å£æ—¶è¿˜éœ€è¦ <code>æœ¬åœ°æ–¹æ³•åº“</code> ï¼ˆç±»ä¼¼äº jar åŒ…ï¼Œå³ dll åŠ¨æ€è¿æ¥åº“ï¼‰çš„æ”¯æŒï¼Œæœ€åï¼Œæœ¬åœ°æ–¹æ³•æƒ³è¦è¿è¡Œï¼Œè¿˜å¾—æŠŠè¿™ä¸ªæ–¹æ³•å…ˆåšä¸€ä¸ª <code>å…¥æ ˆ</code> çš„æ“ä½œã€‚</p>\n<p>ç›®å‰è¿™ä¸ªæ–¹æ³•ä½¿ç”¨çš„è¶Šæ¥è¶Šå°‘äº†ï¼Œé™¤éæ˜¯è·Ÿç¡¬ä»¶ç›¸å…³çš„åº”ç”¨ï¼Œæ¯”å¦‚é€šè¿‡ Java ç¨‹åºé©±åŠ¨æ‰“å°æœºæˆ–è€… Java ç³»ç»Ÿç®¡ç†ç”Ÿäº§è®¾å¤‡ï¼Œåœ¨ä¼ä¸šçº§åº”ç”¨ä¸­å°‘è§ã€‚å› ä¸ºç°åœ¨çš„å¼‚æ„é¢†åŸŸé—´çš„é€šä¿¡å¾ˆå‘è¾¾ï¼Œæ¯”å¦‚å¯ä»¥ Socket é€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ WebService ç­‰ã€‚</p>\n<h2 id=\"7pcå¯„å­˜å™¨\"><a class=\"markdownIt-Anchor\" href=\"#7pcå¯„å­˜å™¨\">#</a> 7.PC å¯„å­˜å™¨</h2>\n<p>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç¨‹åºè®¡æ•°å™¨ï¼Œçº¿ç¨‹ç§æœ‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ–¹æ³•åŒºä¸­çš„æ–¹æ³•å­—èŠ‚ç ï¼ˆç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå³å³å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼‰ç”±æ‰§è¡Œå¼•æ“è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</p>\n<p>pc å¯„å­˜å™¨ï¼ˆç¨‹åºè®¡æ•°å™¨ï¼‰ä¸æ˜¯ç”¨æ¥åšå­˜å‚¨çš„ï¼Œæ˜¯ç”¨æ¥åšè®¡ç®—çš„ã€‚</p>\n<h2 id=\"8æ–¹æ³•åŒº\"><a class=\"markdownIt-Anchor\" href=\"#8æ–¹æ³•åŒº\">#</a> 8. æ–¹æ³•åŒº</h2>\n<p>æ–¹æ³•åŒºæ˜¯è¢«æ‰€æœ‰çº¿ç¨‹ <code>å…±äº«</code> çš„ï¼Œæ‰€æœ‰å­—æ®µå’Œæ–¹æ³•å­—èŠ‚ç ï¼Œä»¥åŠä¸€äº›ç‰¹æ®Šæ–¹æ³•å¦‚æ„é€ å‡½æ•°ã€æ¥å£ä»£ç ç­‰ä¹Ÿåœ¨æ­¤å®šä¹‰ã€‚ç®€å•è¯´ï¼Œæ‰€æœ‰<strong>å®šä¹‰çš„æ–¹æ³•</strong>çš„ä¿¡æ¯éƒ½ä¿å­˜åœ¨è¯¥åŒºåŸŸï¼Œæ­¤åŒºå±äºå…±äº«åŒºé—´ã€‚<br>\nç±»åŠ è½½å™¨æŠŠ.class æ–‡ä»¶è¯»åˆ°å†…å­˜é‡Œé¢å˜æˆ Classï¼ˆå…ƒæ•°æ®æ¨¡æ¿ï¼‰ä¹‹åï¼Œå˜æˆçš„ Classï¼ˆå…ƒæ•°æ®æ¨¡æ¿ï¼‰å°±å­˜æ”¾åœ¨æ–¹æ³•åŒºé‡Œé¢ï¼Œç›¸åº”åœ°ï¼Œæ‰€æœ‰çš„ Classï¼ˆå…ƒæ•°æ®æ¨¡æ¿ï¼‰åŒ…å«çš„ä¿¡æ¯éƒ½ä¼šæ”¾è¿›å»ï¼ŒåŒ…å«çš„ä¿¡æ¯å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>\n<p><strong>é™æ€å˜é‡ã€å¸¸é‡ã€ç±»ä¿¡æ¯ï¼ˆæ„é€ å‡½æ•°ã€æ¥å£å®šä¹‰ï¼‰ã€è¿è¡Œæ—¶çš„å¸¸é‡æ± å­˜åœ¨æ–¹æ³•åŒºä¸­ï¼Œä½†æ˜¯å®ä¾‹å˜é‡å­˜åœ¨å †å†…å­˜ä¸­ï¼Œä¸æ–¹æ³•åŒºæ— å…³ã€‚</strong></p>\n<p>staticã€finalã€Class æ¨¡æ¿ã€å¸¸é‡æ± </p>\n<h2 id=\"9æ ˆ\"><a class=\"markdownIt-Anchor\" href=\"#9æ ˆ\">#</a> 9. æ ˆ</h2>\n<p>ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…ˆè¿›åå‡ºã€åè¿›å…ˆå‡º</p>\n<p>ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³•ï¼šæŒç»­å­¦ä¹ </p>\n<p><strong>ç å†œ = æ¡†æ¶ + ä¸šåŠ¡é€»è¾‘</strong>ï¼šåƒé¥­</p>\n<p>ä¸ºä»€ä¹ˆ main æ–¹æ³•å…ˆæ‰§è¡Œï¼Œæœ€åç»“æŸï¼Ÿ</p>\n<p>å°±æ˜¯ä½¿ç”¨äº†æ ˆ</p>\n<p>æ ˆå†…å­˜ï¼Œ<strong>ä¸»ç®¡ç¨‹åºçš„è¿è¡Œ</strong>ï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹åŒæ­¥</p>\n<p>çº¿ç¨‹ç»“æŸï¼Œæ ˆå†…å­˜ä¹Ÿå°±é‡Šæ”¾äº†ï¼Œå¯¹äºæ ˆæ¥è¯´ï¼Œä¸å­˜åœ¨åƒåœ¾å›æ”¶é—®é¢˜</p>\n<p>ä¸€æ—¦çº¿ç¨‹ç»“æŸï¼Œæ ˆå°± over äº†</p>\n<p>å…¶ä¸­ï¼Œ8 ç§åŸºæœ¬ç±»å‹çš„å˜é‡ + å¯¹è±¡çš„å¼•ç”¨å˜é‡ + å®ä¾‹æ–¹æ³•éƒ½æ˜¯åœ¨å‡½æ•°çš„æ ˆå†…å­˜ä¸­åˆ†é…çš„ã€‚</p>\n<p>æ ˆè¿è¡ŒåŸç†ï¼šæ ˆä¸­çš„æ•°æ®éƒ½æ˜¯ä»¥æ ˆå¸§ï¼ˆStack Frameï¼‰çš„æ ¼å¼å­˜åœ¨ï¼Œæ ˆå¸§æ˜¯ä¸€ä¸ª<strong>å†…å­˜å—</strong>ï¼Œæ˜¯ä¸€ä¸ª<strong>æ•°æ®é›†</strong>ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæœ‰å…³æ–¹æ³•å’Œè¿è¡ŒæœŸçš„æ•°æ®é›†ã€‚å½“ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªæ ˆå¸§ã€‚</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191130120854385.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>æ›´åŠ è¯¦ç»†çš„æ ˆå†…çš„å†…å­˜ç»“æ„å¦‚ä¸‹ï¼š</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191130135946805.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>åæ­£å°±æ˜¯è¯´ï¼Œæ¯æ‰§è¡Œä¸€ä¸ªæ–¹æ³•éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ ˆå¸§ï¼Œä¿å­˜åˆ°æ ˆçš„é¡¶éƒ¨ï¼Œé¡¶éƒ¨æ ˆå°±æ˜¯å½“å‰çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ‰§è¡Œå®Œæ¯•åä¼šè‡ªåŠ¨å°†æ­¤æ ˆå¸§å‡ºæ ˆï¼Œè¿™ä¸ªæ ˆå¸§è¢«å¼¹å‡ºæ ˆçš„æ—¶å€™å°±è¯æ˜è¿™ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•äº†ã€‚</p>\n<p>æ ˆæ»¡äº†ï¼šStackOverError</p>\n<h2 id=\"10ä¸‰ç§jvm\"><a class=\"markdownIt-Anchor\" href=\"#10ä¸‰ç§jvm\">#</a> 10. ä¸‰ç§ JVM</h2>\n<ul>\n<li>\n<p>Sun å…¬å¸ HotSpot   å‘½ä»¤è¡Œå¯ä»¥æŸ¥</p>\n<p>C:\\Users\\Lenovo&gt;<strong>java -version</strong><br>\njava version â€œ1.8.0_202â€<br>\nJavaâ„¢ SE Runtime Environment (build 1.8.0_202-b08)<br>\nJava HotSpotâ„¢ 64-Bit Server VM (build 25.202-b08, mixed mode)</p>\n</li>\n<li>\n<p>BEA å…¬å¸ JRockit  æœ€å¿«ï¼Œé€‚åˆè´¢åŠ¡é‚£äº›ä¸šåŠ¡ï¼Œå¾ˆå°‘ç”¨</p>\n</li>\n<li>\n<p>IBM å¹³å°   j9 VM</p>\n</li>\n</ul>\n<h2 id=\"11å †\"><a class=\"markdownIt-Anchor\" href=\"#11å †\">#</a> 11. å †</h2>\n<p>heapï¼Œä¸€ä¸ª jvm åªæœ‰ä¸€ä¸ªå †å†…å­˜ï¼Œå †å†…å­˜çš„å¤§å°æ˜¯å¯ä»¥è°ƒèŠ‚çš„</p>\n<p>ç±»åŠ è½½å™¨è¯»å–äº†ç±»æ–‡ä»¶åï¼Œä¸€èˆ¬ä¼šæŠŠä»€ä¹ˆä¸œè¥¿æ”¾åœ¨å †ä¸­ï¼Ÿç±»ï¼Œæ–¹æ³•ï¼Œå¸¸å˜é‡ï½ï¼Œä¿å­˜æˆ‘ä»¬æ‰€æœ‰å¼•ç”¨ç±»å‹çš„çœŸå®å¯¹è±¡</p>\n<p>å †å†…å­˜è¿˜è¦ç»†åˆ†ä¸ºä¸‰ä¸ªåŒºï¼š</p>\n<ul>\n<li>\n<p>æ–°ç”ŸåŒºï¼ˆä¼Šç”¸å›­ã€å¹¸å­˜åŒºï¼ˆè¿‡åº¦åˆ°å…»è€åŒºï¼‰ï¼‰</p>\n</li>\n<li>\n<p>å…»è€åŒºï¼šä¸€èˆ¬ä¸ä¼šè¢«å¹²æ‰</p>\n</li>\n<li>\n<p>æ°¸ä¹…åŒº</p>\n<p>1.8 ä¹‹åæ°¸ä¹…åŒºç”¨å…ƒç©ºé—´ä»£æ›¿äº†</p>\n</li>\n</ul>\n<p>GC åƒåœ¾å›æ”¶ï¼Œä¸»è¦æ˜¯åœ¨ä¼Šç”¸å›­åŒºå’Œå…»è€åŒº</p>\n<p>å‡è®¾å†…å­˜æ»¡ï¼ŒOOMï¼Œå †å†…å­˜ä¸å¤Ÿ  OutOfMemoryError</p>\n<h2 id=\"12æ–°ç”ŸåŒº-è€å¹´åŒº\"><a class=\"markdownIt-Anchor\" href=\"#12æ–°ç”ŸåŒº-è€å¹´åŒº\">#</a> 12. æ–°ç”ŸåŒºã€è€å¹´åŒº</h2>\n<ul>\n<li>\n<p>æ–°ç”ŸåŒºï¼š</p>\n<p>ç±»è¯ç”Ÿå’Œæˆé•¿ï¼Œç”šè‡³æ­»äº¡çš„åœ°æ–¹</p>\n<p>ä¼Šç”¸å›­åŒºï¼šæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯åœ¨ä¼Šç”¸å›­åŒº new å‡ºæ¥</p>\n<p>å¹¸å­˜åŒºï¼ˆ0ã€1ï¼‰ï¼š</p>\n</li>\n</ul>\n<p>çœŸç›¸ï¼šç»è¿‡ç ”ç©¶ï¼Œ99% çš„å¯¹è±¡éƒ½æ˜¯ä¸´æ—¶å¯¹è±¡ï¼</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191130155437604.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>è¿™ä¸ªå›¾ä¸€ç›®äº†ç„¶</p>\n<h2 id=\"13æ°¸ä¹…åŒº\"><a class=\"markdownIt-Anchor\" href=\"#13æ°¸ä¹…åŒº\">#</a> 13. æ°¸ä¹…åŒº</h2>\n<p>è¿™ä¸ªåŒºåŸŸå¸¸é©»å†…å­˜çš„ï¼Œç”¨æ¥å­˜æ”¾ JDK è‡ªèº«æºå¸¦çš„ class å¯¹è±¡ã€‚Interface å…ƒæ•°æ®ï¼Œå­˜å‚¨çš„æ˜¯ Java è¿è¡Œæ—¶çš„ä¸€äº›ç¯å¢ƒæˆ–ç±»ä¿¡æ¯ï¼Œè¿™ä¸ªåŒºåŸŸä¸å­˜åœ¨åƒåœ¾å›æ”¶ï¼Œå…³é—­è™šæ‹Ÿå°±ä¼šé‡Šæ”¾è¿™ä¸ªåŒºåŸŸçš„å†…å­˜</p>\n<p>jdk1.6 ä¹‹å‰ï¼šæ°¸ä¹…ä»£ï¼Œå¸¸é‡æ± æ˜¯åœ¨æ–¹æ³•åŒº</p>\n<p>jdk1.7ï¼šæ°¸ä¹…ä»£ï¼Œä½†æ˜¯æ…¢æ…¢é€€åŒ–äº†ï¼Œå»æ°¸ä¹…åŒ–ï¼Œå¸¸é‡æ± åœ¨å †ä¸­</p>\n<p>jdk1.8ï¼šæ— æ°¸ä¹…ä»£ï¼Œå¸¸é‡æ± åœ¨å…ƒç©ºé—´</p>\n<p>æ–¹æ³•åŒºåœ¨å…ƒç©ºé—´é‡Œï¼Œå³å †é‡Œï¼Œä¹Ÿå«éå †ï¼ˆæ–¹æ³•åŒºç›¸å½“äºä¸€ä¸ªæ¥å£ï¼Œè€Œå…ƒç©ºé—´æ—¶å®ƒçš„ä¸€ä¸ªå®ç°ï¼‰</p>\n<p>æ–¹æ³•åŒºé‡Œæœ‰ä¸€ä¸ªå°ç©ºé—´æ˜¯å¸¸é‡æ± </p>\n<p><img data-src=\"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4496/image-20220412105527906.png\" alt=\"image-20220412105527906\"></p>\n<p>æ–¹æ³•åŒºçš„å®ç°ï¼šæ°¸ä¹…åŒºã€å…ƒç©ºé—´</p>\n<p><img data-src=\"https://pic4.zhimg.com/v2-44c0f4dd02b0bbdd1b5524671e419e2f_r.jpg\" alt=\"preview\"></p>\n<h2 id=\"14å †å†…å­˜è°ƒä¼˜\"><a class=\"markdownIt-Anchor\" href=\"#14å †å†…å­˜è°ƒä¼˜\">#</a> 14 å †å†…å­˜è°ƒä¼˜</h2>\n<p>å‚è€ƒé“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3llcmVueXVhbl9wa3UvYXJ0aWNsZS9kZXRhaWxzLzEwMzMyNzQ2Mz9zcG09MTAwMS4yMDE0LjMwMDEuNTUwMg==\">https://blog.csdn.net/yerenyuan_pku/article/details/103327463?spm=1001.2014.3001.5502</span></p>\n<p>Java8 å †å†…å­˜çš„åˆ†å¸ƒæƒ…å†µï¼š</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204102404945.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>è¦å¤šå †å†…å­˜è¿›è¡Œè°ƒä¼˜ï¼Œå¿…ç„¶è¦æ¥è§¦åˆ°ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°ï¼š</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204102413924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>ä½¿ç”¨ï¼šåœ¨è°ƒèŠ‚ VM å‚æ•°çš„çª—å£è®¾ç½®ï¼š-Xms1024m -Xmx1024m -XX:+PrintGCDetails</p>\n<p>åœ¨æ§åˆ¶å°æ‰“å°ç›¸å…³ä¿¡æ¯</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204102500573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204102507962.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>â€‹\tæ‰€ä»¥è¿™é‡Œè®¾ç½®çš„å†…å­˜å¤§å°åªåŒ…æ‹¬æ–°ç”ŸåŒºå’Œå…»è€åŒºçš„æ€»å’Œå¤§å°ï¼Œå³è°ƒæ•´çš„æ˜¯ç‰©ç†ä¸Šçš„å †å†…å­˜å¤§å°ã€‚</p>\n<blockquote>\n<p>å½“å‡ºç° OOM å†…å­˜ä¸è¶³çš„æ—¶å€™å¦‚æœæŸ¥çœ‹ä¿¡æ¯å’Œåˆ†æä¿¡æ¯å‘¢ï¼Ÿ</p>\n</blockquote>\n<p>å‰é¢é¢è¯•é¢˜ç¬¬äºŒé¢˜å…¶å®ä¹Ÿè¯´è¿‡äº†ï¼Œä¸‹é¢æ”¾ä¸€äº›ç¤ºä¾‹çš„å›¾ç‰‡ï¼š</p>\n<p>è®¾ç½®æŠŠå †å†…å­˜é•œåƒ dump å‡ºï¼šä½¿ç”¨ JVM å‚æ•°</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204133820938.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>ä½¿ç”¨ mat å·¥å…·åˆ†æ dump æ–‡ä»¶ï¼šï¼ˆæ˜¯ eclipse çš„å·¥å…·ï¼Œå¯ä»¥åœ¨ä¸Šé¢å®‰è£…å³å¯ï¼‰</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204133900746.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>ä¸Šé¢ç”Ÿæˆçš„ dump æ–‡ä»¶æ˜¯é»˜è®¤å­˜å‚¨åœ¨å·¥ç¨‹çš„æ ¹ç›®å½•ä¸‹ï¼Œç”¨ - <code>XX:HeapDumpPath=ç›®å½•</code> è¿™ä¸ªå‚æ•°å¯ä»¥ä¿®æ”¹ dump æ–‡ä»¶çš„ä½ç½®</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204135217905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>è¿™æ ·å°±å¯ä»¥åœ¨ D ç›˜çœ‹åˆ°è¿™ä¸ª dump æ–‡ä»¶äº†</p>\n<p>å¦‚æœä½¿ç”¨çš„ä¸ç”¨ eclipse å·¥å…·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ jdk è‡ªå¸¦çš„ <code>jvisualvm.exe</code>  å·¥å…·æ¥è§£æ dump æ–‡ä»¶ï¼Œåœ¨å®‰è£…è·¯å¾„çš„ bin ç›®å½•ä¸‹ï¼Œç›´æ¥åŒå‡»è¿™ä¸ªç¨‹åºï¼Œæ‰“å¼€å¯¹åº”çš„ dump æ–‡ä»¶å°±å¯ä»¥äº†ã€‚</p>\n<h2 id=\"15gc-å¸¸ç”¨æ–¹æ³•\"><a class=\"markdownIt-Anchor\" href=\"#15gc-å¸¸ç”¨æ–¹æ³•\">#</a> 15.GC  å¸¸ç”¨æ–¹æ³•</h2>\n<p>å‚è€ƒé“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3llcmVueXVhbl9wa3UvYXJ0aWNsZS9kZXRhaWxzLzEwMzM4NzMxMj9zcG09MTAwMS4yMDE0LjMwMDEuNTUwMg==\">https://blog.csdn.net/yerenyuan_pku/article/details/103387312?spm=1001.2014.3001.5502</span></p>\n<ul>\n<li>\n<p>ä»€ä¹ˆæ˜¯ GCï¼Ÿå°±æ˜¯åˆ†ä»£æ”¶é›†ç®—æ³•ã€‚</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204151857145.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n</li>\n<li>\n<p>GC çš„ä½œç”¨åŸŸï¼Ÿ</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204151912657.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>GC æŒ‰ç…§å›æ”¶çš„åŒºåŸŸåˆ†ä¸ºæ™®é€š GC ä¹Ÿå« <code>è½»é‡çº§GC</code>  (Minor GC)ï¼Œä¸€ç§æ˜¯å…¨å±€ GC ä¹Ÿå« <code>é‡é‡çº§GC</code> (Major GC or Full GC)</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204161125942.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n</li>\n<li>\n<p>GC çš„å››å¤§ç®—æ³•</p>\n<p><code>å¼•ç”¨è®¡æ•°æ³•ï¼š</code> åœ¨ç¨‹åº new ä¸€ä¸ªå¯¹è±¡å‡ºæ¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»™ä»–ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæœ‰äººå¼•ç”¨è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œè¿™ä¸ªè®¡æ•°å™¨å°±è‡ªå¢ 1ï¼Œå¼•ç”¨å–æ¶ˆçš„æ—¶å€™å‡ 1ï¼Œå½“è®¡æ•°å™¨ä¸º 0 çš„æ—¶å€™å°± JVM å°±å¯ä»¥æŠŠä»–å›æ”¶æ‰äº†ã€‚</p>\n<p>å·²ç»æ·˜æ±°äº†ï¼</p>\n</li>\n</ul>\n<p>â€‹\t\t <code>å¤åˆ¶ç®—æ³•</code> ï¼ˆCopyingï¼‰: æ›´è¯¦ç»†çš„è®²è§£å¯ä»¥çœ‹é“¾æ¥å•¦ã€‚</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204172041291.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>â€‹\t\t\tå°±æ˜¯è¯´ new å¯¹è±¡æ”¾åœ¨ä¼Šç”¸å›­åŒºï¼Œ</p>\n<p>â€‹\t\t\tç„¶åå†ç¬¬ä¸€æ¬¡è¿›è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™å‹’ï¼Œå°±å°†å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡ copy åˆ°å¹¸å­˜ 0 åŒºï¼Œ</p>\n<p>â€‹\t\t\tç„¶åç¬¬äºŒæ¬¡å°†å­˜æ´»çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ä¼Šç”¸å›­å’Œå¹¸å­˜ 0 åŒºï¼‰copy åˆ°å¹¸å­˜ 1 åŒºï¼Œæ¸…ç©ºå¹¸å­˜ 0 åŒºäº†ï¼›</p>\n<p>â€‹\t\t\tç„¶åç»§ç»­ç¬¬ä¸‰æ¬¡çš„æ—¶å€™å°†ä¼Šç”¸å›­å’Œ 1 åŒºçš„å¯¹è±¡ copy åˆ° 0 åŒºï¼Œè¿™æ ·åå¤ã€‚</p>\n<p>â€‹\t\t\tåˆ° 15 æ¬¡ï¼ˆé»˜è®¤ï¼Œå¯ä»¥é€šè¿‡  <code>-XX:MaxTenuringThreshold</code>  è®¾ç½®ï¼‰è¿˜æ´»ä¸‹æ¥çš„è¯å°±å¤åˆ¶åˆ°è€å¹´åŒº</p>\n<p>â€‹\t\t <code>æ ‡è®°æ¸…é™¤ç®—æ³•</code> åœ¨å†…å­˜ç”¨æ»¡çš„æ—¶å€™ï¼ŒGC çº¿ç¨‹è§¦å‘æŠŠç¨‹åºæš‚åœï¼Œç„¶åå †å†…å­˜éå†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡<strong>æ ‡è®°</strong>\t\tè¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œè¦å­˜æ´»ä¸‹æ¥ï¼Œç¬¬äºŒæ¬¡<strong>æ¸…é™¤</strong>æ²¡è¢«æ ‡è®°çš„å¯¹è±¡ã€‚</p>\n<p>â€‹\t\tä½†æ˜¯è¿™æ—¶å€™å†…å­˜çš„ç¢ç‰‡çš„ã€‚</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204185818964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>â€‹\t\t <code>æ ‡è®°å‹ç¼©ç®—æ³•</code> è€å¹´ä»£ä¸€èˆ¬æ˜¯ç”±æ ‡è®°æ¸…é™¤æˆ–è€…æ˜¯æ ‡è®°æ¸…é™¤ä¸æ ‡è®°æ•´ç†çš„æ··åˆå®ç°ã€‚</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204185833455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>â€‹\t <code>\tæ ‡è®°æ¸…é™¤å‹ç¼©ç®—æ³•</code> å°±æ˜¯ä¸Šé¢ä¸¤ç§ç®—æ³•çš„ç»“åˆï¼Œå…ˆç”¨å¤šæ¬¡çš„æ ‡è®°æ¸…é™¤ï¼Œç„¶åè¿™æ—¶å€™å†…å­˜ç©ºé—´å·²ç»åƒç–®ç™¾å­”äº†ï¼Œåˆ°å¤„éƒ½æ˜¯å†…å­˜ç¢ç‰‡ï¼Œç„¶åè¿™æ—¶å€™ç»Ÿä¸€ç”¨ä¸€æ¬¡æ ‡è®°å‹ç¼©å°±å¥½äº†ã€‚</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204185839681.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<ul>\n<li>ä¸‰ç§ç®—æ³•æ€»ç»“ï¼š</li>\n</ul>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204200152400.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20191204200203963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWF5dW4uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70\" alt=\"img\"></p>\n<p>åŸºäºä¸Šé¢çš„è€ƒè™‘ï¼Œè€å¹´ä»£ä¸€èˆ¬æ˜¯ç”±æ ‡è®°æ¸…é™¤æˆ–è€…æ˜¯æ ‡è®°æ¸…é™¤ä¸æ ‡è®°å‹ç¼©çš„æ··åˆå®ç°ã€‚ä»¥ HotSpot ä¸­çš„ CMS å›æ”¶å™¨ä¸ºä¾‹ï¼ˆåªé™äº Java8ï¼‰ï¼ŒCMS æ˜¯åŸºäº Mark-Sweep å®ç°çš„ï¼Œå¯¹äºå¯¹è±¡çš„å›æ”¶æ•ˆç‡å¾ˆé«˜ï¼Œè€Œå¯¹äºç¢ç‰‡é—®é¢˜ï¼ŒCMS é‡‡ç”¨åŸºäº Mark-Compact ç®—æ³•çš„ Serial Old å›æ”¶å™¨åšä¸ºè¡¥å¿æªæ–½ï¼šå½“å†…å­˜å›æ”¶ä¸ä½³ï¼ˆç¢ç‰‡å¯¼è‡´çš„ Concurrent Mode Failure æ—¶ï¼‰ï¼Œå°†é‡‡ç”¨ Serial Old æ‰§è¡Œ Full GC ä»¥è¾¾åˆ°å¯¹è€å¹´ä»£å†…å­˜çš„æ•´ç†ã€‚</p>\n<h2 id=\"16jmm\"><a class=\"markdownIt-Anchor\" href=\"#16jmm\">#</a> 16.JMM</h2>\n<p>å‚è€ƒé“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8yNTgzOTMxMzk=\">https://zhuanlan.zhihu.com/p/258393139</span></p>\n<p>æ¸©é¦¨æé†’ä¸€ä¸‹ï¼Œè¿™é‡Œæœ‰äº›äººä¼šæŠŠ Java å†…å­˜æ¨¡å‹è¯¯è§£ä¸º Java å†…å­˜ç»“æ„ï¼Œç„¶åç­”åˆ°å †ï¼Œæ ˆï¼ŒGC åƒåœ¾å›æ”¶ï¼Œæœ€åå’Œé¢è¯•å®˜æƒ³é—®çš„é—®é¢˜ç›¸å·®ç”šè¿œã€‚<strong>å®é™…ä¸Šä¸€èˆ¬é—®åˆ° Java å†…å­˜æ¨¡å‹éƒ½æ˜¯æƒ³é—®å¤šçº¿ç¨‹ï¼ŒJava å¹¶å‘ç›¸å…³çš„é—®é¢˜</strong>ã€‚</p>\n<p>å¦‚æœé¢è¯•çš„è¯ï¼Œé‡ç‚¹æ˜¯ Java å†…å­˜æ¨¡å‹ (JMM) çš„ <code>å·¥ä½œæ–¹å¼</code> ï¼Œ <code>ä¸‰å¤§ç‰¹å¾</code> ï¼Œè¿˜æœ‰ <code>volatile</code>  å…³é”®å­—ã€‚ä¸ºä»€ä¹ˆå–œæ¬¢é—® volatile å…³é”®å­—å‘¢ï¼Œå› ä¸º volatile å…³é”®å­—å¯ä»¥æ‰¯å‡ºå¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚å¯è§æ€§ï¼Œæœ‰åºæ€§ï¼Œè¿˜æœ‰å†…å­˜å±éšœç­‰ç­‰ã€‚</p>\n<p>å…¨ç§° Java Memory Modelï¼ŒJMMï¼ŒJava å†…å­˜æ¨¡å‹ï¼Œå®ƒä¸ä»…ä»…æ˜¯ JVM å†…å­˜åˆ†åŒºã€‚</p>\n<p>é‚£è¿™ä¸ª JMM åˆ°åº•æ˜¯ä»€ä¹ˆä¸œä¸œå•Šï¼Ÿ</p>\n<p>ç”¨æ¥å¹²å˜›çš„ï¼Ÿ</p>\n<p>å› ä¸ºç¡¬ä»¶ç”Ÿäº§å•†å’Œæ“ä½œç³»ç»Ÿçš„ä¸åŒï¼Œå†…å­˜çš„è®¿é—®å°±æœ‰ä¸€å®šçš„å·®å¼‚ï¼Œä¸ºäº†é¿å…ç›¸åŒçš„ä»£ç åœ¨ä¸åŒçš„ç³»ç»Ÿä¸‹è¿è¡Œå‡ºç°å„ç§é—®é¢˜ï¼ŒJava å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰å°±å±è”½æ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œå®ç°è®© Java åœ¨ä¸åŒçš„å¹³å°ä¸‹éƒ½æœ‰ç›¸åŒçš„å¹¶å‘æ•ˆæœã€‚</p>\n<p><code>å·¥ä½œæ–¹å¼</code> ï¼š</p>\n<p>Java å†…å­˜æ¨¡å‹è§„å®š<strong>æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜</strong>ä¸­ï¼ŒåŒ…æ‹¬å®ä¾‹å˜é‡ï¼Œé™æ€å˜é‡ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬å±€éƒ¨å˜é‡å’Œæ–¹æ³•å‚æ•°ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œ<strong>çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¿å­˜äº†è¯¥çº¿ç¨‹ç”¨åˆ°çš„å˜é‡å’Œä¸»å†…å­˜çš„å‰¯æœ¬æ‹·è´ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ“ä½œéƒ½åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œ</strong>ã€‚<strong>çº¿ç¨‹ä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ä¸­çš„å˜é‡</strong>ã€‚</p>\n<p>ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ã€‚çº¿ç¨‹ä¹‹é—´å˜é‡å€¼çš„ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆã€‚</p>\n<p>æ¯ä¸ªçº¿ç¨‹çš„å·¥ä½œå†…å­˜éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œçº¿ç¨‹æ“ä½œæ•°æ®åªèƒ½åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œç„¶ååˆ·å›åˆ°ä¸»å­˜ã€‚è¿™æ˜¯ Java å†…å­˜æ¨¡å‹å®šä¹‰çš„çº¿ç¨‹åŸºæœ¬å·¥ä½œæ–¹å¼ã€‚</p>\n<p><img data-src=\"https://pic3.zhimg.com/v2-f36f366c07a6188ea3fdefc794ba021a_r.jpg\" alt=\"preview\"></p>\n<p><code>ä¸‰ä¸ªç‰¹å¾</code> ï¼šåŸå­æ€§ã€å¯è§æ€§ã€æœ‰åºæ€§</p>\n<p>â€‹\tåŸå­æ€§ï¼ˆsynchronizedï¼‰</p>\n<p>â€‹\tå¯è§æ€§ï¼ˆvolatileã€synchronizedã€finalï¼‰</p>\n<p>â€‹\tæœ‰åºæ€§ï¼ˆvolatileã€synchronizedï¼‰</p>\n<p><code>å…«å¤§å†…å­˜äº¤äº’æ“ä½œ</code> ï¼š</p>\n<p><img data-src=\"https://pic4.zhimg.com/v2-42d8f894f17ccf13252d8d8d6285f86b_r.jpg\" alt=\"preview\"></p>\n<p><code>volatile</code> :</p>\n<p>â€‹\t1. ä¿è¯çº¿ç¨‹é—´å˜é‡çš„å¯è§æ€§</p>\n<p>â€‹\t2. ç¦æ­¢ CPU è¿›è¡ŒæŒ‡ä»¤é‡æ’åº</p>\n<h2 id=\"17æ€»ç»“\"><a class=\"markdownIt-Anchor\" href=\"#17æ€»ç»“\">#</a> 17 æ€»ç»“</h2>\n<p>1. ç™¾åº¦</p>\n<p>2. æ€ç»´å¯¼å›¾</p>\n<p>å•ç‚¹ç™»å½• | SSO</p>\n",
            "tags": [
                "JVM"
            ]
        }
    ]
}